logger=settings t=2025-07-27T02:26:21.118322691Z level=info msg="Starting Grafana" version=10.2.3 commit=1e84fede543acc892d2a2515187e545eb047f237 branch=HEAD compiled=2023-12-18T15:46:07Z
logger=settings t=2025-07-27T02:26:21.118482909Z level=info msg="Config loaded from" file=/usr/share/grafana/conf/defaults.ini
logger=settings t=2025-07-27T02:26:21.118488244Z level=info msg="Config loaded from" file=/etc/grafana/grafana.ini
logger=settings t=2025-07-27T02:26:21.118490923Z level=info msg="Config overridden from command line" arg="default.paths.data=/var/lib/grafana"
logger=settings t=2025-07-27T02:26:21.118493148Z level=info msg="Config overridden from command line" arg="default.paths.logs=/var/log/grafana"
logger=settings t=2025-07-27T02:26:21.118497082Z level=info msg="Config overridden from command line" arg="default.paths.plugins=/var/lib/grafana/plugins"
logger=settings t=2025-07-27T02:26:21.118500249Z level=info msg="Config overridden from command line" arg="default.paths.provisioning=/etc/grafana/provisioning"
logger=settings t=2025-07-27T02:26:21.118502908Z level=info msg="Config overridden from command line" arg="default.log.mode=console"
logger=settings t=2025-07-27T02:26:21.118506452Z level=info msg="Config overridden from Environment variable" var="GF_PATHS_DATA=/var/lib/grafana"
logger=settings t=2025-07-27T02:26:21.11850918Z level=info msg="Config overridden from Environment variable" var="GF_PATHS_LOGS=/var/log/grafana"
logger=settings t=2025-07-27T02:26:21.118511856Z level=info msg="Config overridden from Environment variable" var="GF_PATHS_PLUGINS=/var/lib/grafana/plugins"
logger=settings t=2025-07-27T02:26:21.118513992Z level=info msg="Config overridden from Environment variable" var="GF_PATHS_PROVISIONING=/etc/grafana/provisioning"
logger=settings t=2025-07-27T02:26:21.118516077Z level=info msg="Config overridden from Environment variable" var="GF_LOG_LEVEL=debug"
logger=settings t=2025-07-27T02:26:21.118518338Z level=info msg="Config overridden from Environment variable" var="GF_LOG_CONSOLE_LEVEL=debug"
logger=settings t=2025-07-27T02:26:21.118521615Z level=info msg=Target target=[all]
logger=settings t=2025-07-27T02:26:21.118526708Z level=info msg="Path Home" path=/usr/share/grafana
logger=settings t=2025-07-27T02:26:21.118529032Z level=info msg="Path Data" path=/var/lib/grafana
logger=settings t=2025-07-27T02:26:21.118532889Z level=info msg="Path Logs" path=/var/log/grafana
logger=settings t=2025-07-27T02:26:21.118535302Z level=info msg="Path Plugins" path=/var/lib/grafana/plugins
logger=settings t=2025-07-27T02:26:21.118537404Z level=info msg="Path Provisioning" path=/etc/grafana/provisioning
logger=settings t=2025-07-27T02:26:21.118539615Z level=info msg="App mode production"
logger=sqlstore t=2025-07-27T02:26:21.118831144Z level=info msg="Connecting to DB" dbtype=sqlite3
logger=sqlstore t=2025-07-27T02:26:21.118842584Z level=info msg="Creating SQLite database file" path=/var/lib/grafana/grafana.db
logger=migrator t=2025-07-27T02:26:21.149422649Z level=info msg="Starting DB migrations"
logger=migrator t=2025-07-27T02:26:21.150244356Z level=info msg="Executing migration" id="create migration_log table"
logger=migrator t=2025-07-27T02:26:21.150256577Z level=debug msg="Executing sql migration" id="create migration_log table" sql="CREATE TABLE IF NOT EXISTS `migration_log` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `migration_id` TEXT NOT NULL\n, `sql` TEXT NOT NULL\n, `success` INTEGER NOT NULL\n, `error` TEXT NOT NULL\n, `timestamp` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:21.150949765Z level=info msg="Migration successfully executed" id="create migration_log table" duration=694.86µs
logger=migrator t=2025-07-27T02:26:21.179233896Z level=info msg="Executing migration" id="create user table"
logger=migrator t=2025-07-27T02:26:21.179284719Z level=debug msg="Executing sql migration" id="create user table" sql="CREATE TABLE IF NOT EXISTS `user` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `login` TEXT NOT NULL\n, `email` TEXT NOT NULL\n, `name` TEXT NULL\n, `password` TEXT NULL\n, `salt` TEXT NULL\n, `rands` TEXT NULL\n, `company` TEXT NULL\n, `account_id` INTEGER NOT NULL\n, `is_admin` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:21.179781106Z level=info msg="Migration successfully executed" id="create user table" duration=548.195µs
logger=migrator t=2025-07-27T02:26:21.202998865Z level=info msg="Executing migration" id="add unique index user.login"
logger=migrator t=2025-07-27T02:26:21.203016845Z level=debug msg="Executing migration condition SQL" id="add unique index user.login" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user UQE_user_login]"
logger=migrator t=2025-07-27T02:26:21.203194314Z level=debug msg="Executing sql migration" id="add unique index user.login" sql="CREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`);"
logger=migrator t=2025-07-27T02:26:21.203492869Z level=info msg="Migration successfully executed" id="add unique index user.login" duration=495.215µs
logger=migrator t=2025-07-27T02:26:21.239353578Z level=info msg="Executing migration" id="add unique index user.email"
logger=migrator t=2025-07-27T02:26:21.239379541Z level=debug msg="Executing migration condition SQL" id="add unique index user.email" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user UQE_user_email]"
logger=migrator t=2025-07-27T02:26:21.239656247Z level=debug msg="Executing sql migration" id="add unique index user.email" sql="CREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`);"
logger=migrator t=2025-07-27T02:26:21.240003729Z level=info msg="Migration successfully executed" id="add unique index user.email" duration=655.954µs
logger=migrator t=2025-07-27T02:26:21.286287616Z level=info msg="Executing migration" id="drop index UQE_user_login - v1"
logger=migrator t=2025-07-27T02:26:21.286322615Z level=debug msg="Executing migration condition SQL" id="drop index UQE_user_login - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user UQE_user_login]"
logger=migrator t=2025-07-27T02:26:21.286800842Z level=debug msg="Executing sql migration" id="drop index UQE_user_login - v1" sql="DROP INDEX `UQE_user_login`"
logger=migrator t=2025-07-27T02:26:21.287600855Z level=info msg="Migration successfully executed" id="drop index UQE_user_login - v1" duration=1.327389ms
logger=migrator t=2025-07-27T02:26:21.321833119Z level=info msg="Executing migration" id="drop index UQE_user_email - v1"
logger=migrator t=2025-07-27T02:26:21.32187702Z level=debug msg="Executing migration condition SQL" id="drop index UQE_user_email - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user UQE_user_email]"
logger=migrator t=2025-07-27T02:26:21.322274803Z level=debug msg="Executing sql migration" id="drop index UQE_user_email - v1" sql="DROP INDEX `UQE_user_email`"
logger=migrator t=2025-07-27T02:26:21.323231441Z level=info msg="Migration successfully executed" id="drop index UQE_user_email - v1" duration=1.398258ms
logger=migrator t=2025-07-27T02:26:21.379500652Z level=info msg="Executing migration" id="Rename table user to user_v1 - v1"
logger=migrator t=2025-07-27T02:26:21.379584331Z level=debug msg="Executing sql migration" id="Rename table user to user_v1 - v1" sql="ALTER TABLE `user` RENAME TO `user_v1`"
logger=migrator t=2025-07-27T02:26:21.381555852Z level=info msg="Migration successfully executed" id="Rename table user to user_v1 - v1" duration=2.05478ms
logger=migrator t=2025-07-27T02:26:21.415369181Z level=info msg="Executing migration" id="create user table v2"
logger=migrator t=2025-07-27T02:26:21.415413701Z level=debug msg="Executing sql migration" id="create user table v2" sql="CREATE TABLE IF NOT EXISTS `user` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `login` TEXT NOT NULL\n, `email` TEXT NOT NULL\n, `name` TEXT NULL\n, `password` TEXT NULL\n, `salt` TEXT NULL\n, `rands` TEXT NULL\n, `company` TEXT NULL\n, `org_id` INTEGER NOT NULL\n, `is_admin` INTEGER NOT NULL\n, `email_verified` INTEGER NULL\n, `theme` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:21.416731266Z level=info msg="Migration successfully executed" id="create user table v2" duration=1.362545ms
logger=migrator t=2025-07-27T02:26:21.454364423Z level=info msg="Executing migration" id="create index UQE_user_login - v2"
logger=migrator t=2025-07-27T02:26:21.45439193Z level=debug msg="Executing migration condition SQL" id="create index UQE_user_login - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user UQE_user_login]"
logger=migrator t=2025-07-27T02:26:21.454664655Z level=debug msg="Executing sql migration" id="create index UQE_user_login - v2" sql="CREATE UNIQUE INDEX `UQE_user_login` ON `user` (`login`);"
logger=migrator t=2025-07-27T02:26:21.455020295Z level=info msg="Migration successfully executed" id="create index UQE_user_login - v2" duration=657.248µs
logger=migrator t=2025-07-27T02:26:21.475830815Z level=info msg="Executing migration" id="create index UQE_user_email - v2"
logger=migrator t=2025-07-27T02:26:21.475848309Z level=debug msg="Executing migration condition SQL" id="create index UQE_user_email - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user UQE_user_email]"
logger=migrator t=2025-07-27T02:26:21.476054156Z level=debug msg="Executing sql migration" id="create index UQE_user_email - v2" sql="CREATE UNIQUE INDEX `UQE_user_email` ON `user` (`email`);"
logger=migrator t=2025-07-27T02:26:21.476357849Z level=info msg="Migration successfully executed" id="create index UQE_user_email - v2" duration=528.372µs
logger=migrator t=2025-07-27T02:26:21.507167402Z level=info msg="Executing migration" id="copy data_source v1 to v2"
logger=migrator t=2025-07-27T02:26:21.507190552Z level=debug msg="Executing sql migration" id="copy data_source v1 to v2" sql="INSERT INTO `user` (`name`\n, `rands`\n, `salt`\n, `company`\n, `org_id`\n, `id`\n, `version`\n, `login`\n, `email`\n, `password`\n, `is_admin`\n, `created`\n, `updated`) SELECT `name`\n, `rands`\n, `salt`\n, `company`\n, `account_id`\n, `id`\n, `version`\n, `login`\n, `email`\n, `password`\n, `is_admin`\n, `created`\n, `updated` FROM `user_v1`"
logger=migrator t=2025-07-27T02:26:21.507504894Z level=info msg="Migration successfully executed" id="copy data_source v1 to v2" duration=338.45µs
logger=migrator t=2025-07-27T02:26:21.533371482Z level=info msg="Executing migration" id="Drop old table user_v1"
logger=migrator t=2025-07-27T02:26:21.533393122Z level=debug msg="Executing sql migration" id="Drop old table user_v1" sql="DROP TABLE IF EXISTS `user_v1`"
logger=migrator t=2025-07-27T02:26:21.533775905Z level=info msg="Migration successfully executed" id="Drop old table user_v1" duration=405.435µs
logger=migrator t=2025-07-27T02:26:21.544722105Z level=info msg="Executing migration" id="Add column help_flags1 to user table"
logger=migrator t=2025-07-27T02:26:21.544738971Z level=debug msg="Executing sql migration" id="Add column help_flags1 to user table" sql="alter table `user` ADD COLUMN `help_flags1` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:21.545410581Z level=info msg="Migration successfully executed" id="Add column help_flags1 to user table" duration=686.578µs
logger=migrator t=2025-07-27T02:26:21.564647424Z level=info msg="Executing migration" id="Update user table charset"
logger=migrator t=2025-07-27T02:26:21.564668165Z level=debug msg="Executing sql migration" id="Update user table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:21.564682759Z level=info msg="Migration successfully executed" id="Update user table charset" duration=79.024µs
logger=migrator t=2025-07-27T02:26:21.572010021Z level=info msg="Executing migration" id="Add last_seen_at column to user"
logger=migrator t=2025-07-27T02:26:21.572024661Z level=debug msg="Executing sql migration" id="Add last_seen_at column to user" sql="alter table `user` ADD COLUMN `last_seen_at` DATETIME NULL "
logger=migrator t=2025-07-27T02:26:21.572683951Z level=info msg="Migration successfully executed" id="Add last_seen_at column to user" duration=674.545µs
logger=migrator t=2025-07-27T02:26:21.592597143Z level=info msg="Executing migration" id="Add missing user data"
logger=migrator t=2025-07-27T02:26:21.59261561Z level=debug msg="Executing code migration" id="Add missing user data"
logger=migrator t=2025-07-27T02:26:21.59283083Z level=info msg="Migration successfully executed" id="Add missing user data" duration=234.782µs
logger=migrator t=2025-07-27T02:26:21.611594932Z level=info msg="Executing migration" id="Add is_disabled column to user"
logger=migrator t=2025-07-27T02:26:21.611611659Z level=debug msg="Executing sql migration" id="Add is_disabled column to user" sql="alter table `user` ADD COLUMN `is_disabled` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:21.612323656Z level=info msg="Migration successfully executed" id="Add is_disabled column to user" duration=729.556µs
logger=migrator t=2025-07-27T02:26:21.630472647Z level=info msg="Executing migration" id="Add index user.login/user.email"
logger=migrator t=2025-07-27T02:26:21.630500278Z level=debug msg="Executing migration condition SQL" id="Add index user.login/user.email" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user IDX_user_login_email]"
logger=migrator t=2025-07-27T02:26:21.630772465Z level=debug msg="Executing sql migration" id="Add index user.login/user.email" sql="CREATE INDEX `IDX_user_login_email` ON `user` (`login`,`email`);"
logger=migrator t=2025-07-27T02:26:21.631119602Z level=info msg="Migration successfully executed" id="Add index user.login/user.email" duration=648.818µs
logger=migrator t=2025-07-27T02:26:21.640051342Z level=info msg="Executing migration" id="Add is_service_account column to user"
logger=migrator t=2025-07-27T02:26:21.64006586Z level=debug msg="Executing sql migration" id="Add is_service_account column to user" sql="alter table `user` ADD COLUMN `is_service_account` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:21.64078023Z level=info msg="Migration successfully executed" id="Add is_service_account column to user" duration=729.34µs
logger=migrator t=2025-07-27T02:26:21.649877854Z level=info msg="Executing migration" id="Update is_service_account column to nullable"
logger=migrator t=2025-07-27T02:26:21.649894011Z level=debug msg="Executing sql migration" id="Update is_service_account column to nullable" sql="ALTER TABLE user ADD COLUMN tmp_service_account BOOLEAN DEFAULT 0;\nUPDATE user SET tmp_service_account = is_service_account;\nALTER TABLE user DROP COLUMN is_service_account;\nALTER TABLE user RENAME COLUMN tmp_service_account TO is_service_account;"
logger=migrator t=2025-07-27T02:26:21.655673971Z level=info msg="Migration successfully executed" id="Update is_service_account column to nullable" duration=5.794088ms
logger=migrator t=2025-07-27T02:26:21.676756261Z level=info msg="Executing migration" id="create temp user table v1-7"
logger=migrator t=2025-07-27T02:26:21.676781576Z level=debug msg="Executing sql migration" id="create temp user table v1-7" sql="CREATE TABLE IF NOT EXISTS `temp_user` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `email` TEXT NOT NULL\n, `name` TEXT NULL\n, `role` TEXT NULL\n, `code` TEXT NOT NULL\n, `status` TEXT NOT NULL\n, `invited_by_user_id` INTEGER NULL\n, `email_sent` INTEGER NOT NULL\n, `email_sent_on` DATETIME NULL\n, `remote_addr` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:21.677350613Z level=info msg="Migration successfully executed" id="create temp user table v1-7" duration=594.841µs
logger=migrator t=2025-07-27T02:26:21.700636608Z level=info msg="Executing migration" id="create index IDX_temp_user_email - v1-7"
logger=migrator t=2025-07-27T02:26:21.700653522Z level=debug msg="Executing migration condition SQL" id="create index IDX_temp_user_email - v1-7" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_email]"
logger=migrator t=2025-07-27T02:26:21.700831463Z level=debug msg="Executing sql migration" id="create index IDX_temp_user_email - v1-7" sql="CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`);"
logger=migrator t=2025-07-27T02:26:21.701248647Z level=info msg="Migration successfully executed" id="create index IDX_temp_user_email - v1-7" duration=612.321µs
logger=migrator t=2025-07-27T02:26:21.720467433Z level=info msg="Executing migration" id="create index IDX_temp_user_org_id - v1-7"
logger=migrator t=2025-07-27T02:26:21.720489931Z level=debug msg="Executing migration condition SQL" id="create index IDX_temp_user_org_id - v1-7" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_org_id]"
logger=migrator t=2025-07-27T02:26:21.720727768Z level=debug msg="Executing sql migration" id="create index IDX_temp_user_org_id - v1-7" sql="CREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`);"
logger=migrator t=2025-07-27T02:26:21.721154835Z level=info msg="Migration successfully executed" id="create index IDX_temp_user_org_id - v1-7" duration=688.739µs
logger=migrator t=2025-07-27T02:26:21.741206333Z level=info msg="Executing migration" id="create index IDX_temp_user_code - v1-7"
logger=migrator t=2025-07-27T02:26:21.741222757Z level=debug msg="Executing migration condition SQL" id="create index IDX_temp_user_code - v1-7" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_code]"
logger=migrator t=2025-07-27T02:26:21.741410416Z level=debug msg="Executing sql migration" id="create index IDX_temp_user_code - v1-7" sql="CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`);"
logger=migrator t=2025-07-27T02:26:21.741783797Z level=info msg="Migration successfully executed" id="create index IDX_temp_user_code - v1-7" duration=578.098µs
logger=migrator t=2025-07-27T02:26:21.751815371Z level=info msg="Executing migration" id="create index IDX_temp_user_status - v1-7"
logger=migrator t=2025-07-27T02:26:21.751829692Z level=debug msg="Executing migration condition SQL" id="create index IDX_temp_user_status - v1-7" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_status]"
logger=migrator t=2025-07-27T02:26:21.752033555Z level=debug msg="Executing sql migration" id="create index IDX_temp_user_status - v1-7" sql="CREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`);"
logger=migrator t=2025-07-27T02:26:21.752354686Z level=info msg="Migration successfully executed" id="create index IDX_temp_user_status - v1-7" duration=539.944µs
logger=migrator t=2025-07-27T02:26:21.761305135Z level=info msg="Executing migration" id="Update temp_user table charset"
logger=migrator t=2025-07-27T02:26:21.761323725Z level=debug msg="Executing sql migration" id="Update temp_user table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:21.761335458Z level=info msg="Migration successfully executed" id="Update temp_user table charset" duration=32.602µs
logger=migrator t=2025-07-27T02:26:21.769422875Z level=info msg="Executing migration" id="drop index IDX_temp_user_email - v1"
logger=migrator t=2025-07-27T02:26:21.769440566Z level=debug msg="Executing migration condition SQL" id="drop index IDX_temp_user_email - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_email]"
logger=migrator t=2025-07-27T02:26:21.769607872Z level=debug msg="Executing sql migration" id="drop index IDX_temp_user_email - v1" sql="DROP INDEX `IDX_temp_user_email`"
logger=migrator t=2025-07-27T02:26:21.769924244Z level=info msg="Migration successfully executed" id="drop index IDX_temp_user_email - v1" duration=501.713µs
logger=migrator t=2025-07-27T02:26:21.779303292Z level=info msg="Executing migration" id="drop index IDX_temp_user_org_id - v1"
logger=migrator t=2025-07-27T02:26:21.779319231Z level=debug msg="Executing migration condition SQL" id="drop index IDX_temp_user_org_id - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_org_id]"
logger=migrator t=2025-07-27T02:26:21.779490738Z level=debug msg="Executing sql migration" id="drop index IDX_temp_user_org_id - v1" sql="DROP INDEX `IDX_temp_user_org_id`"
logger=migrator t=2025-07-27T02:26:21.779855454Z level=info msg="Migration successfully executed" id="drop index IDX_temp_user_org_id - v1" duration=552.684µs
logger=migrator t=2025-07-27T02:26:21.801946189Z level=info msg="Executing migration" id="drop index IDX_temp_user_code - v1"
logger=migrator t=2025-07-27T02:26:21.801965902Z level=debug msg="Executing migration condition SQL" id="drop index IDX_temp_user_code - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_code]"
logger=migrator t=2025-07-27T02:26:21.802167251Z level=debug msg="Executing sql migration" id="drop index IDX_temp_user_code - v1" sql="DROP INDEX `IDX_temp_user_code`"
logger=migrator t=2025-07-27T02:26:21.802474464Z level=info msg="Migration successfully executed" id="drop index IDX_temp_user_code - v1" duration=530.036µs
logger=migrator t=2025-07-27T02:26:21.819053725Z level=info msg="Executing migration" id="drop index IDX_temp_user_status - v1"
logger=migrator t=2025-07-27T02:26:21.819070569Z level=debug msg="Executing migration condition SQL" id="drop index IDX_temp_user_status - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_status]"
logger=migrator t=2025-07-27T02:26:21.819265493Z level=debug msg="Executing sql migration" id="drop index IDX_temp_user_status - v1" sql="DROP INDEX `IDX_temp_user_status`"
logger=migrator t=2025-07-27T02:26:21.819547158Z level=info msg="Migration successfully executed" id="drop index IDX_temp_user_status - v1" duration=494.932µs
logger=migrator t=2025-07-27T02:26:21.848168719Z level=info msg="Executing migration" id="Rename table temp_user to temp_user_tmp_qwerty - v1"
logger=migrator t=2025-07-27T02:26:21.848210891Z level=debug msg="Executing sql migration" id="Rename table temp_user to temp_user_tmp_qwerty - v1" sql="ALTER TABLE `temp_user` RENAME TO `temp_user_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:21.851621346Z level=info msg="Migration successfully executed" id="Rename table temp_user to temp_user_tmp_qwerty - v1" duration=3.453661ms
logger=migrator t=2025-07-27T02:26:21.881101884Z level=info msg="Executing migration" id="create temp_user v2"
logger=migrator t=2025-07-27T02:26:21.881147292Z level=debug msg="Executing sql migration" id="create temp_user v2" sql="CREATE TABLE IF NOT EXISTS `temp_user` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `email` TEXT NOT NULL\n, `name` TEXT NULL\n, `role` TEXT NULL\n, `code` TEXT NOT NULL\n, `status` TEXT NOT NULL\n, `invited_by_user_id` INTEGER NULL\n, `email_sent` INTEGER NOT NULL\n, `email_sent_on` DATETIME NULL\n, `remote_addr` TEXT NULL\n, `created` INTEGER NOT NULL DEFAULT 0\n, `updated` INTEGER NOT NULL DEFAULT 0\n);"
logger=migrator t=2025-07-27T02:26:21.882108029Z level=info msg="Migration successfully executed" id="create temp_user v2" duration=1.007837ms
logger=migrator t=2025-07-27T02:26:21.920834125Z level=info msg="Executing migration" id="create index IDX_temp_user_email - v2"
logger=migrator t=2025-07-27T02:26:21.920940845Z level=debug msg="Executing migration condition SQL" id="create index IDX_temp_user_email - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_email]"
logger=migrator t=2025-07-27T02:26:21.921474506Z level=debug msg="Executing sql migration" id="create index IDX_temp_user_email - v2" sql="CREATE INDEX `IDX_temp_user_email` ON `temp_user` (`email`);"
logger=migrator t=2025-07-27T02:26:21.922589002Z level=info msg="Migration successfully executed" id="create index IDX_temp_user_email - v2" duration=1.755555ms
logger=migrator t=2025-07-27T02:26:21.944184181Z level=info msg="Executing migration" id="create index IDX_temp_user_org_id - v2"
logger=migrator t=2025-07-27T02:26:21.944235841Z level=debug msg="Executing migration condition SQL" id="create index IDX_temp_user_org_id - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_org_id]"
logger=migrator t=2025-07-27T02:26:21.944752946Z level=debug msg="Executing sql migration" id="create index IDX_temp_user_org_id - v2" sql="CREATE INDEX `IDX_temp_user_org_id` ON `temp_user` (`org_id`);"
logger=migrator t=2025-07-27T02:26:21.945820907Z level=info msg="Migration successfully executed" id="create index IDX_temp_user_org_id - v2" duration=1.654023ms
logger=migrator t=2025-07-27T02:26:21.965206986Z level=info msg="Executing migration" id="create index IDX_temp_user_code - v2"
logger=migrator t=2025-07-27T02:26:21.965228474Z level=debug msg="Executing migration condition SQL" id="create index IDX_temp_user_code - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_code]"
logger=migrator t=2025-07-27T02:26:21.96544735Z level=debug msg="Executing sql migration" id="create index IDX_temp_user_code - v2" sql="CREATE INDEX `IDX_temp_user_code` ON `temp_user` (`code`);"
logger=migrator t=2025-07-27T02:26:21.965793265Z level=info msg="Migration successfully executed" id="create index IDX_temp_user_code - v2" duration=587.591µs
logger=migrator t=2025-07-27T02:26:21.973977055Z level=info msg="Executing migration" id="create index IDX_temp_user_status - v2"
logger=migrator t=2025-07-27T02:26:21.974006966Z level=debug msg="Executing migration condition SQL" id="create index IDX_temp_user_status - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[temp_user IDX_temp_user_status]"
logger=migrator t=2025-07-27T02:26:21.97426188Z level=debug msg="Executing sql migration" id="create index IDX_temp_user_status - v2" sql="CREATE INDEX `IDX_temp_user_status` ON `temp_user` (`status`);"
logger=migrator t=2025-07-27T02:26:21.974701274Z level=info msg="Migration successfully executed" id="create index IDX_temp_user_status - v2" duration=725.573µs
logger=migrator t=2025-07-27T02:26:22.000196773Z level=info msg="Executing migration" id="copy temp_user v1 to v2"
logger=migrator t=2025-07-27T02:26:22.000249865Z level=debug msg="Executing sql migration" id="copy temp_user v1 to v2" sql="INSERT INTO `temp_user` (`remote_addr`\n, `org_id`\n, `version`\n, `name`\n, `status`\n, `invited_by_user_id`\n, `email_sent`\n, `email_sent_on`\n, `id`\n, `email`\n, `role`\n, `code`) SELECT `remote_addr`\n, `org_id`\n, `version`\n, `name`\n, `status`\n, `invited_by_user_id`\n, `email_sent`\n, `email_sent_on`\n, `id`\n, `email`\n, `role`\n, `code` FROM `temp_user_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:22.000582465Z level=info msg="Migration successfully executed" id="copy temp_user v1 to v2" duration=384.938µs
logger=migrator t=2025-07-27T02:26:22.019932515Z level=info msg="Executing migration" id="drop temp_user_tmp_qwerty"
logger=migrator t=2025-07-27T02:26:22.019962112Z level=debug msg="Executing sql migration" id="drop temp_user_tmp_qwerty" sql="DROP TABLE IF EXISTS `temp_user_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:22.020808613Z level=info msg="Migration successfully executed" id="drop temp_user_tmp_qwerty" duration=876.415µs
logger=migrator t=2025-07-27T02:26:22.040417627Z level=info msg="Executing migration" id="Set created for temp users that will otherwise prematurely expire"
logger=migrator t=2025-07-27T02:26:22.040445541Z level=debug msg="Executing code migration" id="Set created for temp users that will otherwise prematurely expire"
logger=migrator t=2025-07-27T02:26:22.040838671Z level=info msg="Migration successfully executed" id="Set created for temp users that will otherwise prematurely expire" duration=422.328µs
logger=migrator t=2025-07-27T02:26:22.075280829Z level=info msg="Executing migration" id="create star table"
logger=migrator t=2025-07-27T02:26:22.075320708Z level=debug msg="Executing sql migration" id="create star table" sql="CREATE TABLE IF NOT EXISTS `star` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `user_id` INTEGER NOT NULL\n, `dashboard_id` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:22.07746584Z level=info msg="Migration successfully executed" id="create star table" duration=2.186228ms
logger=migrator t=2025-07-27T02:26:22.090047067Z level=info msg="Executing migration" id="add unique index star.user_id_dashboard_id"
logger=migrator t=2025-07-27T02:26:22.090071371Z level=debug msg="Executing migration condition SQL" id="add unique index star.user_id_dashboard_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[star UQE_star_user_id_dashboard_id]"
logger=migrator t=2025-07-27T02:26:22.090340343Z level=debug msg="Executing sql migration" id="add unique index star.user_id_dashboard_id" sql="CREATE UNIQUE INDEX `UQE_star_user_id_dashboard_id` ON `star` (`user_id`,`dashboard_id`);"
logger=migrator t=2025-07-27T02:26:22.09072333Z level=info msg="Migration successfully executed" id="add unique index star.user_id_dashboard_id" duration=693.234µs
logger=migrator t=2025-07-27T02:26:22.108537175Z level=info msg="Executing migration" id="create org table v1"
logger=migrator t=2025-07-27T02:26:22.108559565Z level=debug msg="Executing sql migration" id="create org table v1" sql="CREATE TABLE IF NOT EXISTS `org` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `name` TEXT NOT NULL\n, `address1` TEXT NULL\n, `address2` TEXT NULL\n, `city` TEXT NULL\n, `state` TEXT NULL\n, `zip_code` TEXT NULL\n, `country` TEXT NULL\n, `billing_email` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:22.109071817Z level=info msg="Migration successfully executed" id="create org table v1" duration=535.299µs
logger=migrator t=2025-07-27T02:26:22.117573933Z level=info msg="Executing migration" id="create index UQE_org_name - v1"
logger=migrator t=2025-07-27T02:26:22.117592645Z level=debug msg="Executing migration condition SQL" id="create index UQE_org_name - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[org UQE_org_name]"
logger=migrator t=2025-07-27T02:26:22.117799762Z level=debug msg="Executing sql migration" id="create index UQE_org_name - v1" sql="CREATE UNIQUE INDEX `UQE_org_name` ON `org` (`name`);"
logger=migrator t=2025-07-27T02:26:22.118184757Z level=info msg="Migration successfully executed" id="create index UQE_org_name - v1" duration=611.684µs
logger=migrator t=2025-07-27T02:26:22.136642974Z level=info msg="Executing migration" id="create org_user table v1"
logger=migrator t=2025-07-27T02:26:22.136676261Z level=debug msg="Executing sql migration" id="create org_user table v1" sql="CREATE TABLE IF NOT EXISTS `org_user` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `user_id` INTEGER NOT NULL\n, `role` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:22.137277917Z level=info msg="Migration successfully executed" id="create org_user table v1" duration=636.192µs
logger=migrator t=2025-07-27T02:26:22.157068083Z level=info msg="Executing migration" id="create index IDX_org_user_org_id - v1"
logger=migrator t=2025-07-27T02:26:22.157105995Z level=debug msg="Executing migration condition SQL" id="create index IDX_org_user_org_id - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[org_user IDX_org_user_org_id]"
logger=migrator t=2025-07-27T02:26:22.157348242Z level=debug msg="Executing sql migration" id="create index IDX_org_user_org_id - v1" sql="CREATE INDEX `IDX_org_user_org_id` ON `org_user` (`org_id`);"
logger=migrator t=2025-07-27T02:26:22.157735075Z level=info msg="Migration successfully executed" id="create index IDX_org_user_org_id - v1" duration=668.738µs
logger=migrator t=2025-07-27T02:26:22.194138298Z level=info msg="Executing migration" id="create index UQE_org_user_org_id_user_id - v1"
logger=migrator t=2025-07-27T02:26:22.194181938Z level=debug msg="Executing migration condition SQL" id="create index UQE_org_user_org_id_user_id - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[org_user UQE_org_user_org_id_user_id]"
logger=migrator t=2025-07-27T02:26:22.194558348Z level=debug msg="Executing sql migration" id="create index UQE_org_user_org_id_user_id - v1" sql="CREATE UNIQUE INDEX `UQE_org_user_org_id_user_id` ON `org_user` (`org_id`,`user_id`);"
logger=migrator t=2025-07-27T02:26:22.195169007Z level=info msg="Migration successfully executed" id="create index UQE_org_user_org_id_user_id - v1" duration=1.045087ms
logger=migrator t=2025-07-27T02:26:22.211363812Z level=info msg="Executing migration" id="create index IDX_org_user_user_id - v1"
logger=migrator t=2025-07-27T02:26:22.211381965Z level=debug msg="Executing migration condition SQL" id="create index IDX_org_user_user_id - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[org_user IDX_org_user_user_id]"
logger=migrator t=2025-07-27T02:26:22.211582516Z level=debug msg="Executing sql migration" id="create index IDX_org_user_user_id - v1" sql="CREATE INDEX `IDX_org_user_user_id` ON `org_user` (`user_id`);"
logger=migrator t=2025-07-27T02:26:22.211925253Z level=info msg="Migration successfully executed" id="create index IDX_org_user_user_id - v1" duration=562.622µs
logger=migrator t=2025-07-27T02:26:22.233387328Z level=info msg="Executing migration" id="Update org table charset"
logger=migrator t=2025-07-27T02:26:22.233403905Z level=debug msg="Executing sql migration" id="Update org table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:22.233416388Z level=info msg="Migration successfully executed" id="Update org table charset" duration=32.078µs
logger=migrator t=2025-07-27T02:26:22.247360819Z level=info msg="Executing migration" id="Update org_user table charset"
logger=migrator t=2025-07-27T02:26:22.247377249Z level=debug msg="Executing sql migration" id="Update org_user table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:22.247388879Z level=info msg="Migration successfully executed" id="Update org_user table charset" duration=30.509µs
logger=migrator t=2025-07-27T02:26:22.256127587Z level=info msg="Executing migration" id="Migrate all Read Only Viewers to Viewers"
logger=migrator t=2025-07-27T02:26:22.256159962Z level=debug msg="Executing sql migration" id="Migrate all Read Only Viewers to Viewers" sql="UPDATE org_user SET role = 'Viewer' WHERE role = 'Read Only Editor'"
logger=migrator t=2025-07-27T02:26:22.256326129Z level=info msg="Migration successfully executed" id="Migrate all Read Only Viewers to Viewers" duration=192.474µs
logger=migrator t=2025-07-27T02:26:22.274232258Z level=info msg="Executing migration" id="create dashboard table"
logger=migrator t=2025-07-27T02:26:22.274258528Z level=debug msg="Executing sql migration" id="create dashboard table" sql="CREATE TABLE IF NOT EXISTS `dashboard` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `slug` TEXT NOT NULL\n, `title` TEXT NOT NULL\n, `data` TEXT NOT NULL\n, `account_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:22.274739688Z level=info msg="Migration successfully executed" id="create dashboard table" duration=505.036µs
logger=migrator t=2025-07-27T02:26:22.293085062Z level=info msg="Executing migration" id="add index dashboard.account_id"
logger=migrator t=2025-07-27T02:26:22.293102333Z level=debug msg="Executing migration condition SQL" id="add index dashboard.account_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard IDX_dashboard_account_id]"
logger=migrator t=2025-07-27T02:26:22.293311511Z level=debug msg="Executing sql migration" id="add index dashboard.account_id" sql="CREATE INDEX `IDX_dashboard_account_id` ON `dashboard` (`account_id`);"
logger=migrator t=2025-07-27T02:26:22.293658866Z level=info msg="Migration successfully executed" id="add index dashboard.account_id" duration=574.915µs
logger=migrator t=2025-07-27T02:26:22.312021416Z level=info msg="Executing migration" id="add unique index dashboard_account_id_slug"
logger=migrator t=2025-07-27T02:26:22.312038138Z level=debug msg="Executing migration condition SQL" id="add unique index dashboard_account_id_slug" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard UQE_dashboard_account_id_slug]"
logger=migrator t=2025-07-27T02:26:22.312245991Z level=debug msg="Executing sql migration" id="add unique index dashboard_account_id_slug" sql="CREATE UNIQUE INDEX `UQE_dashboard_account_id_slug` ON `dashboard` (`account_id`,`slug`);"
logger=migrator t=2025-07-27T02:26:22.312619584Z level=info msg="Migration successfully executed" id="add unique index dashboard_account_id_slug" duration=598.94µs
logger=migrator t=2025-07-27T02:26:22.331066662Z level=info msg="Executing migration" id="create dashboard_tag table"
logger=migrator t=2025-07-27T02:26:22.33108803Z level=debug msg="Executing sql migration" id="create dashboard_tag table" sql="CREATE TABLE IF NOT EXISTS `dashboard_tag` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `dashboard_id` INTEGER NOT NULL\n, `term` TEXT NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:22.331597399Z level=info msg="Migration successfully executed" id="create dashboard_tag table" duration=532.022µs
logger=migrator t=2025-07-27T02:26:22.350172066Z level=info msg="Executing migration" id="add unique index dashboard_tag.dasboard_id_term"
logger=migrator t=2025-07-27T02:26:22.350189027Z level=debug msg="Executing migration condition SQL" id="add unique index dashboard_tag.dasboard_id_term" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_tag UQE_dashboard_tag_dashboard_id_term]"
logger=migrator t=2025-07-27T02:26:22.35037861Z level=debug msg="Executing sql migration" id="add unique index dashboard_tag.dasboard_id_term" sql="CREATE UNIQUE INDEX `UQE_dashboard_tag_dashboard_id_term` ON `dashboard_tag` (`dashboard_id`,`term`);"
logger=migrator t=2025-07-27T02:26:22.350710146Z level=info msg="Migration successfully executed" id="add unique index dashboard_tag.dasboard_id_term" duration=539.489µs
logger=migrator t=2025-07-27T02:26:22.369726169Z level=info msg="Executing migration" id="drop index UQE_dashboard_tag_dashboard_id_term - v1"
logger=migrator t=2025-07-27T02:26:22.369745283Z level=debug msg="Executing migration condition SQL" id="drop index UQE_dashboard_tag_dashboard_id_term - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_tag UQE_dashboard_tag_dashboard_id_term]"
logger=migrator t=2025-07-27T02:26:22.369976482Z level=debug msg="Executing sql migration" id="drop index UQE_dashboard_tag_dashboard_id_term - v1" sql="DROP INDEX `UQE_dashboard_tag_dashboard_id_term`"
logger=migrator t=2025-07-27T02:26:22.370320927Z level=info msg="Migration successfully executed" id="drop index UQE_dashboard_tag_dashboard_id_term - v1" duration=594.998µs
logger=migrator t=2025-07-27T02:26:22.388730095Z level=info msg="Executing migration" id="Rename table dashboard to dashboard_v1 - v1"
logger=migrator t=2025-07-27T02:26:22.388751911Z level=debug msg="Executing sql migration" id="Rename table dashboard to dashboard_v1 - v1" sql="ALTER TABLE `dashboard` RENAME TO `dashboard_v1`"
logger=migrator t=2025-07-27T02:26:22.392019193Z level=info msg="Migration successfully executed" id="Rename table dashboard to dashboard_v1 - v1" duration=3.291419ms
logger=migrator t=2025-07-27T02:26:22.410742895Z level=info msg="Executing migration" id="create dashboard v2"
logger=migrator t=2025-07-27T02:26:22.410792256Z level=debug msg="Executing sql migration" id="create dashboard v2" sql="CREATE TABLE IF NOT EXISTS `dashboard` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `slug` TEXT NOT NULL\n, `title` TEXT NOT NULL\n, `data` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:22.411308638Z level=info msg="Migration successfully executed" id="create dashboard v2" duration=566.266µs
logger=migrator t=2025-07-27T02:26:22.43042041Z level=info msg="Executing migration" id="create index IDX_dashboard_org_id - v2"
logger=migrator t=2025-07-27T02:26:22.430437285Z level=debug msg="Executing migration condition SQL" id="create index IDX_dashboard_org_id - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard IDX_dashboard_org_id]"
logger=migrator t=2025-07-27T02:26:22.430659018Z level=debug msg="Executing sql migration" id="create index IDX_dashboard_org_id - v2" sql="CREATE INDEX `IDX_dashboard_org_id` ON `dashboard` (`org_id`);"
logger=migrator t=2025-07-27T02:26:22.430994488Z level=info msg="Migration successfully executed" id="create index IDX_dashboard_org_id - v2" duration=574.971µs
logger=migrator t=2025-07-27T02:26:22.449766856Z level=info msg="Executing migration" id="create index UQE_dashboard_org_id_slug - v2"
logger=migrator t=2025-07-27T02:26:22.449805037Z level=debug msg="Executing migration condition SQL" id="create index UQE_dashboard_org_id_slug - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard UQE_dashboard_org_id_slug]"
logger=migrator t=2025-07-27T02:26:22.450023477Z level=debug msg="Executing sql migration" id="create index UQE_dashboard_org_id_slug - v2" sql="CREATE UNIQUE INDEX `UQE_dashboard_org_id_slug` ON `dashboard` (`org_id`,`slug`);"
logger=migrator t=2025-07-27T02:26:22.450343863Z level=info msg="Migration successfully executed" id="create index UQE_dashboard_org_id_slug - v2" duration=578.296µs
logger=migrator t=2025-07-27T02:26:22.469169056Z level=info msg="Executing migration" id="copy dashboard v1 to v2"
logger=migrator t=2025-07-27T02:26:22.46918766Z level=debug msg="Executing sql migration" id="copy dashboard v1 to v2" sql="INSERT INTO `dashboard` (`slug`\n, `title`\n, `data`\n, `org_id`\n, `created`\n, `updated`\n, `id`\n, `version`) SELECT `slug`\n, `title`\n, `data`\n, `account_id`\n, `created`\n, `updated`\n, `id`\n, `version` FROM `dashboard_v1`"
logger=migrator t=2025-07-27T02:26:22.469437792Z level=info msg="Migration successfully executed" id="copy dashboard v1 to v2" duration=269.618µs
logger=migrator t=2025-07-27T02:26:22.487659705Z level=info msg="Executing migration" id="drop table dashboard_v1"
logger=migrator t=2025-07-27T02:26:22.487672423Z level=debug msg="Executing sql migration" id="drop table dashboard_v1" sql="DROP TABLE IF EXISTS `dashboard_v1`"
logger=migrator t=2025-07-27T02:26:22.488214372Z level=info msg="Migration successfully executed" id="drop table dashboard_v1" duration=551.015µs
logger=migrator t=2025-07-27T02:26:22.508074971Z level=info msg="Executing migration" id="alter dashboard.data to mediumtext v1"
logger=migrator t=2025-07-27T02:26:22.508101288Z level=debug msg="Executing sql migration" id="alter dashboard.data to mediumtext v1" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:22.508207111Z level=info msg="Migration successfully executed" id="alter dashboard.data to mediumtext v1" duration=133.135µs
logger=migrator t=2025-07-27T02:26:22.527008583Z level=info msg="Executing migration" id="Add column updated_by in dashboard - v2"
logger=migrator t=2025-07-27T02:26:22.527043253Z level=debug msg="Executing sql migration" id="Add column updated_by in dashboard - v2" sql="alter table `dashboard` ADD COLUMN `updated_by` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:22.529627192Z level=info msg="Migration successfully executed" id="Add column updated_by in dashboard - v2" duration=2.628764ms
logger=migrator t=2025-07-27T02:26:22.547999279Z level=info msg="Executing migration" id="Add column created_by in dashboard - v2"
logger=migrator t=2025-07-27T02:26:22.54801731Z level=debug msg="Executing sql migration" id="Add column created_by in dashboard - v2" sql="alter table `dashboard` ADD COLUMN `created_by` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:22.548978761Z level=info msg="Migration successfully executed" id="Add column created_by in dashboard - v2" duration=979.377µs
logger=migrator t=2025-07-27T02:26:22.567134299Z level=info msg="Executing migration" id="Add column gnetId in dashboard"
logger=migrator t=2025-07-27T02:26:22.567146805Z level=debug msg="Executing sql migration" id="Add column gnetId in dashboard" sql="alter table `dashboard` ADD COLUMN `gnet_id` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:22.568051369Z level=info msg="Migration successfully executed" id="Add column gnetId in dashboard" duration=917.17µs
logger=migrator t=2025-07-27T02:26:22.585988279Z level=info msg="Executing migration" id="Add index for gnetId in dashboard"
logger=migrator t=2025-07-27T02:26:22.58600088Z level=debug msg="Executing migration condition SQL" id="Add index for gnetId in dashboard" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard IDX_dashboard_gnet_id]"
logger=migrator t=2025-07-27T02:26:22.586148133Z level=debug msg="Executing sql migration" id="Add index for gnetId in dashboard" sql="CREATE INDEX `IDX_dashboard_gnet_id` ON `dashboard` (`gnet_id`);"
logger=migrator t=2025-07-27T02:26:22.586418976Z level=info msg="Migration successfully executed" id="Add index for gnetId in dashboard" duration=430.529µs
logger=migrator t=2025-07-27T02:26:22.605192384Z level=info msg="Executing migration" id="Add column plugin_id in dashboard"
logger=migrator t=2025-07-27T02:26:22.605205783Z level=debug msg="Executing sql migration" id="Add column plugin_id in dashboard" sql="alter table `dashboard` ADD COLUMN `plugin_id` TEXT NULL "
logger=migrator t=2025-07-27T02:26:22.606170512Z level=info msg="Migration successfully executed" id="Add column plugin_id in dashboard" duration=978.348µs
logger=migrator t=2025-07-27T02:26:22.624696672Z level=info msg="Executing migration" id="Add index for plugin_id in dashboard"
logger=migrator t=2025-07-27T02:26:22.624730303Z level=debug msg="Executing migration condition SQL" id="Add index for plugin_id in dashboard" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard IDX_dashboard_org_id_plugin_id]"
logger=migrator t=2025-07-27T02:26:22.625172167Z level=debug msg="Executing sql migration" id="Add index for plugin_id in dashboard" sql="CREATE INDEX `IDX_dashboard_org_id_plugin_id` ON `dashboard` (`org_id`,`plugin_id`);"
logger=migrator t=2025-07-27T02:26:22.625491492Z level=info msg="Migration successfully executed" id="Add index for plugin_id in dashboard" duration=797.126µs
logger=migrator t=2025-07-27T02:26:22.643787293Z level=info msg="Executing migration" id="Add index for dashboard_id in dashboard_tag"
logger=migrator t=2025-07-27T02:26:22.64379864Z level=debug msg="Executing migration condition SQL" id="Add index for dashboard_id in dashboard_tag" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_tag IDX_dashboard_tag_dashboard_id]"
logger=migrator t=2025-07-27T02:26:22.643957749Z level=debug msg="Executing sql migration" id="Add index for dashboard_id in dashboard_tag" sql="CREATE INDEX `IDX_dashboard_tag_dashboard_id` ON `dashboard_tag` (`dashboard_id`);"
logger=migrator t=2025-07-27T02:26:22.644228184Z level=info msg="Migration successfully executed" id="Add index for dashboard_id in dashboard_tag" duration=442.158µs
logger=migrator t=2025-07-27T02:26:22.662757764Z level=info msg="Executing migration" id="Update dashboard table charset"
logger=migrator t=2025-07-27T02:26:22.662770481Z level=debug msg="Executing sql migration" id="Update dashboard table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:22.662781455Z level=info msg="Migration successfully executed" id="Update dashboard table charset" duration=25.24µs
logger=migrator t=2025-07-27T02:26:22.68056364Z level=info msg="Executing migration" id="Update dashboard_tag table charset"
logger=migrator t=2025-07-27T02:26:22.680579937Z level=debug msg="Executing sql migration" id="Update dashboard_tag table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:22.680596974Z level=info msg="Migration successfully executed" id="Update dashboard_tag table charset" duration=39.05µs
logger=migrator t=2025-07-27T02:26:22.699226314Z level=info msg="Executing migration" id="Add column folder_id in dashboard"
logger=migrator t=2025-07-27T02:26:22.699243203Z level=debug msg="Executing sql migration" id="Add column folder_id in dashboard" sql="alter table `dashboard` ADD COLUMN `folder_id` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:22.700310026Z level=info msg="Migration successfully executed" id="Add column folder_id in dashboard" duration=1.082551ms
logger=migrator t=2025-07-27T02:26:22.720073516Z level=info msg="Executing migration" id="Add column isFolder in dashboard"
logger=migrator t=2025-07-27T02:26:22.720095353Z level=debug msg="Executing sql migration" id="Add column isFolder in dashboard" sql="alter table `dashboard` ADD COLUMN `is_folder` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:22.72161778Z level=info msg="Migration successfully executed" id="Add column isFolder in dashboard" duration=1.54364ms
logger=migrator t=2025-07-27T02:26:22.740254554Z level=info msg="Executing migration" id="Add column has_acl in dashboard"
logger=migrator t=2025-07-27T02:26:22.740270139Z level=debug msg="Executing sql migration" id="Add column has_acl in dashboard" sql="alter table `dashboard` ADD COLUMN `has_acl` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:22.741245152Z level=info msg="Migration successfully executed" id="Add column has_acl in dashboard" duration=991.57µs
logger=migrator t=2025-07-27T02:26:22.760409714Z level=info msg="Executing migration" id="Add column uid in dashboard"
logger=migrator t=2025-07-27T02:26:22.760424534Z level=debug msg="Executing sql migration" id="Add column uid in dashboard" sql="alter table `dashboard` ADD COLUMN `uid` TEXT NULL "
logger=migrator t=2025-07-27T02:26:22.76145759Z level=info msg="Migration successfully executed" id="Add column uid in dashboard" duration=1.048313ms
logger=migrator t=2025-07-27T02:26:22.795959934Z level=info msg="Executing migration" id="Update uid column values in dashboard"
logger=migrator t=2025-07-27T02:26:22.795991254Z level=debug msg="Executing sql migration" id="Update uid column values in dashboard" sql="UPDATE dashboard SET uid=printf('%09d',id) WHERE uid IS NULL;"
logger=migrator t=2025-07-27T02:26:22.796411691Z level=info msg="Migration successfully executed" id="Update uid column values in dashboard" duration=454.219µs
logger=migrator t=2025-07-27T02:26:22.815756945Z level=info msg="Executing migration" id="Add unique index dashboard_org_id_uid"
logger=migrator t=2025-07-27T02:26:22.815771102Z level=debug msg="Executing migration condition SQL" id="Add unique index dashboard_org_id_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard UQE_dashboard_org_id_uid]"
logger=migrator t=2025-07-27T02:26:22.815999533Z level=debug msg="Executing sql migration" id="Add unique index dashboard_org_id_uid" sql="CREATE UNIQUE INDEX `UQE_dashboard_org_id_uid` ON `dashboard` (`org_id`,`uid`);"
logger=migrator t=2025-07-27T02:26:22.816315514Z level=info msg="Migration successfully executed" id="Add unique index dashboard_org_id_uid" duration=558.824µs
logger=migrator t=2025-07-27T02:26:22.835146787Z level=info msg="Executing migration" id="Remove unique index org_id_slug"
logger=migrator t=2025-07-27T02:26:22.835163302Z level=debug msg="Executing migration condition SQL" id="Remove unique index org_id_slug" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard UQE_dashboard_org_id_slug]"
logger=migrator t=2025-07-27T02:26:22.835365029Z level=debug msg="Executing sql migration" id="Remove unique index org_id_slug" sql="DROP INDEX `UQE_dashboard_org_id_slug`"
logger=migrator t=2025-07-27T02:26:22.835647576Z level=info msg="Migration successfully executed" id="Remove unique index org_id_slug" duration=502.113µs
logger=migrator t=2025-07-27T02:26:22.855512778Z level=info msg="Executing migration" id="Update dashboard title length"
logger=migrator t=2025-07-27T02:26:22.85553702Z level=debug msg="Executing sql migration" id="Update dashboard title length" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:22.855578236Z level=info msg="Migration successfully executed" id="Update dashboard title length" duration=75.643µs
logger=migrator t=2025-07-27T02:26:22.875544771Z level=info msg="Executing migration" id="Add unique index for dashboard_org_id_title_folder_id"
logger=migrator t=2025-07-27T02:26:22.875582084Z level=debug msg="Executing migration condition SQL" id="Add unique index for dashboard_org_id_title_folder_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard UQE_dashboard_org_id_folder_id_title]"
logger=migrator t=2025-07-27T02:26:22.876044366Z level=debug msg="Executing sql migration" id="Add unique index for dashboard_org_id_title_folder_id" sql="CREATE UNIQUE INDEX `UQE_dashboard_org_id_folder_id_title` ON `dashboard` (`org_id`,`folder_id`,`title`);"
logger=migrator t=2025-07-27T02:26:22.876814942Z level=info msg="Migration successfully executed" id="Add unique index for dashboard_org_id_title_folder_id" duration=1.275451ms
logger=migrator t=2025-07-27T02:26:22.89730726Z level=info msg="Executing migration" id="create dashboard_provisioning"
logger=migrator t=2025-07-27T02:26:22.897344594Z level=debug msg="Executing sql migration" id="create dashboard_provisioning" sql="CREATE TABLE IF NOT EXISTS `dashboard_provisioning` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `dashboard_id` INTEGER NULL\n, `name` TEXT NOT NULL\n, `external_id` TEXT NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:22.898403985Z level=info msg="Migration successfully executed" id="create dashboard_provisioning" duration=1.098403ms
logger=migrator t=2025-07-27T02:26:22.919648532Z level=info msg="Executing migration" id="Rename table dashboard_provisioning to dashboard_provisioning_tmp_qwerty - v1"
logger=migrator t=2025-07-27T02:26:22.919683539Z level=debug msg="Executing sql migration" id="Rename table dashboard_provisioning to dashboard_provisioning_tmp_qwerty - v1" sql="ALTER TABLE `dashboard_provisioning` RENAME TO `dashboard_provisioning_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:22.924477779Z level=info msg="Migration successfully executed" id="Rename table dashboard_provisioning to dashboard_provisioning_tmp_qwerty - v1" duration=4.83481ms
logger=migrator t=2025-07-27T02:26:22.943593746Z level=info msg="Executing migration" id="create dashboard_provisioning v2"
logger=migrator t=2025-07-27T02:26:22.943630977Z level=debug msg="Executing sql migration" id="create dashboard_provisioning v2" sql="CREATE TABLE IF NOT EXISTS `dashboard_provisioning` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `dashboard_id` INTEGER NULL\n, `name` TEXT NOT NULL\n, `external_id` TEXT NOT NULL\n, `updated` INTEGER NOT NULL DEFAULT 0\n);"
logger=migrator t=2025-07-27T02:26:22.944734258Z level=info msg="Migration successfully executed" id="create dashboard_provisioning v2" duration=1.14232ms
logger=migrator t=2025-07-27T02:26:22.965081983Z level=info msg="Executing migration" id="create index IDX_dashboard_provisioning_dashboard_id - v2"
logger=migrator t=2025-07-27T02:26:22.965107047Z level=debug msg="Executing migration condition SQL" id="create index IDX_dashboard_provisioning_dashboard_id - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_provisioning IDX_dashboard_provisioning_dashboard_id]"
logger=migrator t=2025-07-27T02:26:22.965513525Z level=debug msg="Executing sql migration" id="create index IDX_dashboard_provisioning_dashboard_id - v2" sql="CREATE INDEX `IDX_dashboard_provisioning_dashboard_id` ON `dashboard_provisioning` (`dashboard_id`);"
logger=migrator t=2025-07-27T02:26:22.966243918Z level=info msg="Migration successfully executed" id="create index IDX_dashboard_provisioning_dashboard_id - v2" duration=1.16189ms
logger=migrator t=2025-07-27T02:26:22.996933956Z level=info msg="Executing migration" id="create index IDX_dashboard_provisioning_dashboard_id_name - v2"
logger=migrator t=2025-07-27T02:26:22.996979342Z level=debug msg="Executing migration condition SQL" id="create index IDX_dashboard_provisioning_dashboard_id_name - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_provisioning IDX_dashboard_provisioning_dashboard_id_name]"
logger=migrator t=2025-07-27T02:26:22.997488263Z level=debug msg="Executing sql migration" id="create index IDX_dashboard_provisioning_dashboard_id_name - v2" sql="CREATE INDEX `IDX_dashboard_provisioning_dashboard_id_name` ON `dashboard_provisioning` (`dashboard_id`,`name`);"
logger=migrator t=2025-07-27T02:26:22.998424677Z level=info msg="Migration successfully executed" id="create index IDX_dashboard_provisioning_dashboard_id_name - v2" duration=1.492192ms
logger=migrator t=2025-07-27T02:26:23.018775311Z level=info msg="Executing migration" id="copy dashboard_provisioning v1 to v2"
logger=migrator t=2025-07-27T02:26:23.01883216Z level=debug msg="Executing sql migration" id="copy dashboard_provisioning v1 to v2" sql="INSERT INTO `dashboard_provisioning` (`name`\n, `external_id`\n, `id`\n, `dashboard_id`) SELECT `name`\n, `external_id`\n, `id`\n, `dashboard_id` FROM `dashboard_provisioning_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:23.019445464Z level=info msg="Migration successfully executed" id="copy dashboard_provisioning v1 to v2" duration=681.954µs
logger=migrator t=2025-07-27T02:26:23.038373237Z level=info msg="Executing migration" id="drop dashboard_provisioning_tmp_qwerty"
logger=migrator t=2025-07-27T02:26:23.038410884Z level=debug msg="Executing sql migration" id="drop dashboard_provisioning_tmp_qwerty" sql="DROP TABLE IF EXISTS `dashboard_provisioning_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:23.039323537Z level=info msg="Migration successfully executed" id="drop dashboard_provisioning_tmp_qwerty" duration=952.476µs
logger=migrator t=2025-07-27T02:26:23.070722044Z level=info msg="Executing migration" id="Add check_sum column"
logger=migrator t=2025-07-27T02:26:23.070764094Z level=debug msg="Executing sql migration" id="Add check_sum column" sql="alter table `dashboard_provisioning` ADD COLUMN `check_sum` TEXT NULL "
logger=migrator t=2025-07-27T02:26:23.073487273Z level=info msg="Migration successfully executed" id="Add check_sum column" duration=2.765457ms
logger=migrator t=2025-07-27T02:26:23.092670439Z level=info msg="Executing migration" id="Add index for dashboard_title"
logger=migrator t=2025-07-27T02:26:23.092685754Z level=debug msg="Executing migration condition SQL" id="Add index for dashboard_title" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard IDX_dashboard_title]"
logger=migrator t=2025-07-27T02:26:23.092899637Z level=debug msg="Executing sql migration" id="Add index for dashboard_title" sql="CREATE INDEX `IDX_dashboard_title` ON `dashboard` (`title`);"
logger=migrator t=2025-07-27T02:26:23.09323493Z level=info msg="Migration successfully executed" id="Add index for dashboard_title" duration=565.637µs
logger=migrator t=2025-07-27T02:26:23.112022395Z level=info msg="Executing migration" id="delete tags for deleted dashboards"
logger=migrator t=2025-07-27T02:26:23.112033835Z level=debug msg="Executing sql migration" id="delete tags for deleted dashboards" sql="DELETE FROM dashboard_tag WHERE dashboard_id NOT IN (SELECT id FROM dashboard)"
logger=migrator t=2025-07-27T02:26:23.112156164Z level=info msg="Migration successfully executed" id="delete tags for deleted dashboards" duration=138.493µs
logger=migrator t=2025-07-27T02:26:23.129909281Z level=info msg="Executing migration" id="delete stars for deleted dashboards"
logger=migrator t=2025-07-27T02:26:23.129922327Z level=debug msg="Executing sql migration" id="delete stars for deleted dashboards" sql="DELETE FROM star WHERE dashboard_id NOT IN (SELECT id FROM dashboard)"
logger=migrator t=2025-07-27T02:26:23.130035807Z level=info msg="Migration successfully executed" id="delete stars for deleted dashboards" duration=126.611µs
logger=migrator t=2025-07-27T02:26:23.148018168Z level=info msg="Executing migration" id="Add index for dashboard_is_folder"
logger=migrator t=2025-07-27T02:26:23.148031252Z level=debug msg="Executing migration condition SQL" id="Add index for dashboard_is_folder" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard IDX_dashboard_is_folder]"
logger=migrator t=2025-07-27T02:26:23.148214124Z level=debug msg="Executing sql migration" id="Add index for dashboard_is_folder" sql="CREATE INDEX `IDX_dashboard_is_folder` ON `dashboard` (`is_folder`);"
logger=migrator t=2025-07-27T02:26:23.148517716Z level=info msg="Migration successfully executed" id="Add index for dashboard_is_folder" duration=500.193µs
logger=migrator t=2025-07-27T02:26:23.167230811Z level=info msg="Executing migration" id="Add isPublic for dashboard"
logger=migrator t=2025-07-27T02:26:23.167288413Z level=debug msg="Executing sql migration" id="Add isPublic for dashboard" sql="alter table `dashboard` ADD COLUMN `is_public` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:23.16838732Z level=info msg="Migration successfully executed" id="Add isPublic for dashboard" duration=1.154123ms
logger=migrator t=2025-07-27T02:26:23.187921526Z level=info msg="Executing migration" id="create data_source table"
logger=migrator t=2025-07-27T02:26:23.187993548Z level=debug msg="Executing sql migration" id="create data_source table" sql="CREATE TABLE IF NOT EXISTS `data_source` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `account_id` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `type` TEXT NOT NULL\n, `name` TEXT NOT NULL\n, `access` TEXT NOT NULL\n, `url` TEXT NOT NULL\n, `password` TEXT NULL\n, `user` TEXT NULL\n, `database` TEXT NULL\n, `basic_auth` INTEGER NOT NULL\n, `basic_auth_user` TEXT NULL\n, `basic_auth_password` TEXT NULL\n, `is_default` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:23.189264067Z level=info msg="Migration successfully executed" id="create data_source table" duration=1.342403ms
logger=migrator t=2025-07-27T02:26:23.220887259Z level=info msg="Executing migration" id="add index data_source.account_id"
logger=migrator t=2025-07-27T02:26:23.22092667Z level=debug msg="Executing migration condition SQL" id="add index data_source.account_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[data_source IDX_data_source_account_id]"
logger=migrator t=2025-07-27T02:26:23.221389956Z level=debug msg="Executing sql migration" id="add index data_source.account_id" sql="CREATE INDEX `IDX_data_source_account_id` ON `data_source` (`account_id`);"
logger=migrator t=2025-07-27T02:26:23.222180685Z level=info msg="Migration successfully executed" id="add index data_source.account_id" duration=1.32529ms
logger=migrator t=2025-07-27T02:26:23.242095537Z level=info msg="Executing migration" id="add unique index data_source.account_id_name"
logger=migrator t=2025-07-27T02:26:23.242125566Z level=debug msg="Executing migration condition SQL" id="add unique index data_source.account_id_name" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[data_source UQE_data_source_account_id_name]"
logger=migrator t=2025-07-27T02:26:23.242566758Z level=debug msg="Executing sql migration" id="add unique index data_source.account_id_name" sql="CREATE UNIQUE INDEX `UQE_data_source_account_id_name` ON `data_source` (`account_id`,`name`);"
logger=migrator t=2025-07-27T02:26:23.243475075Z level=info msg="Migration successfully executed" id="add unique index data_source.account_id_name" duration=1.373675ms
logger=migrator t=2025-07-27T02:26:23.263603693Z level=info msg="Executing migration" id="drop index IDX_data_source_account_id - v1"
logger=migrator t=2025-07-27T02:26:23.263650042Z level=debug msg="Executing migration condition SQL" id="drop index IDX_data_source_account_id - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[data_source IDX_data_source_account_id]"
logger=migrator t=2025-07-27T02:26:23.26412586Z level=debug msg="Executing sql migration" id="drop index IDX_data_source_account_id - v1" sql="DROP INDEX `IDX_data_source_account_id`"
logger=migrator t=2025-07-27T02:26:23.264848313Z level=info msg="Migration successfully executed" id="drop index IDX_data_source_account_id - v1" duration=1.252954ms
logger=migrator t=2025-07-27T02:26:23.284669544Z level=info msg="Executing migration" id="drop index UQE_data_source_account_id_name - v1"
logger=migrator t=2025-07-27T02:26:23.284713672Z level=debug msg="Executing migration condition SQL" id="drop index UQE_data_source_account_id_name - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[data_source UQE_data_source_account_id_name]"
logger=migrator t=2025-07-27T02:26:23.285278828Z level=debug msg="Executing sql migration" id="drop index UQE_data_source_account_id_name - v1" sql="DROP INDEX `UQE_data_source_account_id_name`"
logger=migrator t=2025-07-27T02:26:23.286164159Z level=info msg="Migration successfully executed" id="drop index UQE_data_source_account_id_name - v1" duration=1.51629ms
logger=migrator t=2025-07-27T02:26:23.305164209Z level=info msg="Executing migration" id="Rename table data_source to data_source_v1 - v1"
logger=migrator t=2025-07-27T02:26:23.305183787Z level=debug msg="Executing sql migration" id="Rename table data_source to data_source_v1 - v1" sql="ALTER TABLE `data_source` RENAME TO `data_source_v1`"
logger=migrator t=2025-07-27T02:26:23.309039022Z level=info msg="Migration successfully executed" id="Rename table data_source to data_source_v1 - v1" duration=3.874763ms
logger=migrator t=2025-07-27T02:26:23.327751974Z level=info msg="Executing migration" id="create data_source table v2"
logger=migrator t=2025-07-27T02:26:23.327799808Z level=debug msg="Executing sql migration" id="create data_source table v2" sql="CREATE TABLE IF NOT EXISTS `data_source` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `type` TEXT NOT NULL\n, `name` TEXT NOT NULL\n, `access` TEXT NOT NULL\n, `url` TEXT NOT NULL\n, `password` TEXT NULL\n, `user` TEXT NULL\n, `database` TEXT NULL\n, `basic_auth` INTEGER NOT NULL\n, `basic_auth_user` TEXT NULL\n, `basic_auth_password` TEXT NULL\n, `is_default` INTEGER NOT NULL\n, `json_data` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:23.329129166Z level=info msg="Migration successfully executed" id="create data_source table v2" duration=1.377495ms
logger=migrator t=2025-07-27T02:26:23.348013058Z level=info msg="Executing migration" id="create index IDX_data_source_org_id - v2"
logger=migrator t=2025-07-27T02:26:23.348038498Z level=debug msg="Executing migration condition SQL" id="create index IDX_data_source_org_id - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[data_source IDX_data_source_org_id]"
logger=migrator t=2025-07-27T02:26:23.348483208Z level=debug msg="Executing sql migration" id="create index IDX_data_source_org_id - v2" sql="CREATE INDEX `IDX_data_source_org_id` ON `data_source` (`org_id`);"
logger=migrator t=2025-07-27T02:26:23.349454373Z level=info msg="Migration successfully executed" id="create index IDX_data_source_org_id - v2" duration=1.43179ms
logger=migrator t=2025-07-27T02:26:23.368628953Z level=info msg="Executing migration" id="create index UQE_data_source_org_id_name - v2"
logger=migrator t=2025-07-27T02:26:23.36867005Z level=debug msg="Executing migration condition SQL" id="create index UQE_data_source_org_id_name - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[data_source UQE_data_source_org_id_name]"
logger=migrator t=2025-07-27T02:26:23.369114615Z level=debug msg="Executing sql migration" id="create index UQE_data_source_org_id_name - v2" sql="CREATE UNIQUE INDEX `UQE_data_source_org_id_name` ON `data_source` (`org_id`,`name`);"
logger=migrator t=2025-07-27T02:26:23.370025185Z level=info msg="Migration successfully executed" id="create index UQE_data_source_org_id_name - v2" duration=1.396315ms
logger=migrator t=2025-07-27T02:26:23.390374389Z level=info msg="Executing migration" id="Drop old table data_source_v1 #2"
logger=migrator t=2025-07-27T02:26:23.390439811Z level=debug msg="Executing sql migration" id="Drop old table data_source_v1 #2" sql="DROP TABLE IF EXISTS `data_source_v1`"
logger=migrator t=2025-07-27T02:26:23.391402523Z level=info msg="Migration successfully executed" id="Drop old table data_source_v1 #2" duration=1.025122ms
logger=migrator t=2025-07-27T02:26:23.412177778Z level=info msg="Executing migration" id="Add column with_credentials"
logger=migrator t=2025-07-27T02:26:23.41225571Z level=debug msg="Executing sql migration" id="Add column with_credentials" sql="alter table `data_source` ADD COLUMN `with_credentials` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:23.415715235Z level=info msg="Migration successfully executed" id="Add column with_credentials" duration=3.538996ms
logger=migrator t=2025-07-27T02:26:23.434453479Z level=info msg="Executing migration" id="Add secure json data column"
logger=migrator t=2025-07-27T02:26:23.434473894Z level=debug msg="Executing sql migration" id="Add secure json data column" sql="alter table `data_source` ADD COLUMN `secure_json_data` TEXT NULL "
logger=migrator t=2025-07-27T02:26:23.435729572Z level=info msg="Migration successfully executed" id="Add secure json data column" duration=1.277232ms
logger=migrator t=2025-07-27T02:26:23.453963599Z level=info msg="Executing migration" id="Update data_source table charset"
logger=migrator t=2025-07-27T02:26:23.453974856Z level=debug msg="Executing sql migration" id="Update data_source table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:23.453984455Z level=info msg="Migration successfully executed" id="Update data_source table charset" duration=21.944µs
logger=migrator t=2025-07-27T02:26:23.461429029Z level=info msg="Executing migration" id="Update initial version to 1"
logger=migrator t=2025-07-27T02:26:23.461437753Z level=debug msg="Executing sql migration" id="Update initial version to 1" sql="UPDATE data_source SET version = 1 WHERE version = 0"
logger=migrator t=2025-07-27T02:26:23.461580619Z level=info msg="Migration successfully executed" id="Update initial version to 1" duration=151.779µs
logger=migrator t=2025-07-27T02:26:23.480018244Z level=info msg="Executing migration" id="Add read_only data column"
logger=migrator t=2025-07-27T02:26:23.480063147Z level=debug msg="Executing sql migration" id="Add read_only data column" sql="alter table `data_source` ADD COLUMN `read_only` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:23.48205495Z level=info msg="Migration successfully executed" id="Add read_only data column" duration=2.042564ms
logger=migrator t=2025-07-27T02:26:23.500485312Z level=info msg="Executing migration" id="Migrate logging ds to loki ds"
logger=migrator t=2025-07-27T02:26:23.50052105Z level=debug msg="Executing sql migration" id="Migrate logging ds to loki ds" sql="UPDATE data_source SET type = 'loki' WHERE type = 'logging'"
logger=migrator t=2025-07-27T02:26:23.500972495Z level=info msg="Migration successfully executed" id="Migrate logging ds to loki ds" duration=502.58µs
logger=migrator t=2025-07-27T02:26:23.519990305Z level=info msg="Executing migration" id="Update json_data with nulls"
logger=migrator t=2025-07-27T02:26:23.520023276Z level=debug msg="Executing sql migration" id="Update json_data with nulls" sql="UPDATE data_source SET json_data = '{}' WHERE json_data is null"
logger=migrator t=2025-07-27T02:26:23.52032271Z level=info msg="Migration successfully executed" id="Update json_data with nulls" duration=335.269µs
logger=migrator t=2025-07-27T02:26:23.539378358Z level=info msg="Executing migration" id="Add uid column"
logger=migrator t=2025-07-27T02:26:23.539412219Z level=debug msg="Executing sql migration" id="Add uid column" sql="alter table `data_source` ADD COLUMN `uid` TEXT NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:23.542491846Z level=info msg="Migration successfully executed" id="Add uid column" duration=3.111922ms
logger=migrator t=2025-07-27T02:26:23.562118615Z level=info msg="Executing migration" id="Update uid value"
logger=migrator t=2025-07-27T02:26:23.562168057Z level=debug msg="Executing sql migration" id="Update uid value" sql="UPDATE data_source SET uid=printf('%09d',id);"
logger=migrator t=2025-07-27T02:26:23.562549293Z level=info msg="Migration successfully executed" id="Update uid value" duration=433.511µs
logger=migrator t=2025-07-27T02:26:23.58191553Z level=info msg="Executing migration" id="Add unique index datasource_org_id_uid"
logger=migrator t=2025-07-27T02:26:23.581949273Z level=debug msg="Executing migration condition SQL" id="Add unique index datasource_org_id_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[data_source UQE_data_source_org_id_uid]"
logger=migrator t=2025-07-27T02:26:23.582426281Z level=debug msg="Executing sql migration" id="Add unique index datasource_org_id_uid" sql="CREATE UNIQUE INDEX `UQE_data_source_org_id_uid` ON `data_source` (`org_id`,`uid`);"
logger=migrator t=2025-07-27T02:26:23.583312255Z level=info msg="Migration successfully executed" id="Add unique index datasource_org_id_uid" duration=1.397801ms
logger=migrator t=2025-07-27T02:26:23.603262716Z level=info msg="Executing migration" id="add unique index datasource_org_id_is_default"
logger=migrator t=2025-07-27T02:26:23.603290308Z level=debug msg="Executing migration condition SQL" id="add unique index datasource_org_id_is_default" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[data_source IDX_data_source_org_id_is_default]"
logger=migrator t=2025-07-27T02:26:23.603719554Z level=debug msg="Executing sql migration" id="add unique index datasource_org_id_is_default" sql="CREATE INDEX `IDX_data_source_org_id_is_default` ON `data_source` (`org_id`,`is_default`);"
logger=migrator t=2025-07-27T02:26:23.604514939Z level=info msg="Migration successfully executed" id="add unique index datasource_org_id_is_default" duration=1.252952ms
logger=migrator t=2025-07-27T02:26:23.625411081Z level=info msg="Executing migration" id="create api_key table"
logger=migrator t=2025-07-27T02:26:23.625457643Z level=debug msg="Executing sql migration" id="create api_key table" sql="CREATE TABLE IF NOT EXISTS `api_key` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `account_id` INTEGER NOT NULL\n, `name` TEXT NOT NULL\n, `key` TEXT NOT NULL\n, `role` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:23.626638591Z level=info msg="Migration successfully executed" id="create api_key table" duration=1.229337ms
logger=migrator t=2025-07-27T02:26:23.646352942Z level=info msg="Executing migration" id="add index api_key.account_id"
logger=migrator t=2025-07-27T02:26:23.646370346Z level=debug msg="Executing migration condition SQL" id="add index api_key.account_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[api_key IDX_api_key_account_id]"
logger=migrator t=2025-07-27T02:26:23.646559089Z level=debug msg="Executing sql migration" id="add index api_key.account_id" sql="CREATE INDEX `IDX_api_key_account_id` ON `api_key` (`account_id`);"
logger=migrator t=2025-07-27T02:26:23.646877319Z level=info msg="Migration successfully executed" id="add index api_key.account_id" duration=528.536µs
logger=migrator t=2025-07-27T02:26:23.665933033Z level=info msg="Executing migration" id="add index api_key.key"
logger=migrator t=2025-07-27T02:26:23.665955327Z level=debug msg="Executing migration condition SQL" id="add index api_key.key" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[api_key UQE_api_key_key]"
logger=migrator t=2025-07-27T02:26:23.66615049Z level=debug msg="Executing sql migration" id="add index api_key.key" sql="CREATE UNIQUE INDEX `UQE_api_key_key` ON `api_key` (`key`);"
logger=migrator t=2025-07-27T02:26:23.666460337Z level=info msg="Migration successfully executed" id="add index api_key.key" duration=527.939µs
logger=migrator t=2025-07-27T02:26:23.685446246Z level=info msg="Executing migration" id="add index api_key.account_id_name"
logger=migrator t=2025-07-27T02:26:23.685458415Z level=debug msg="Executing migration condition SQL" id="add index api_key.account_id_name" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[api_key UQE_api_key_account_id_name]"
logger=migrator t=2025-07-27T02:26:23.685633971Z level=debug msg="Executing sql migration" id="add index api_key.account_id_name" sql="CREATE UNIQUE INDEX `UQE_api_key_account_id_name` ON `api_key` (`account_id`,`name`);"
logger=migrator t=2025-07-27T02:26:23.685968562Z level=info msg="Migration successfully executed" id="add index api_key.account_id_name" duration=522.432µs
logger=migrator t=2025-07-27T02:26:23.70526961Z level=info msg="Executing migration" id="drop index IDX_api_key_account_id - v1"
logger=migrator t=2025-07-27T02:26:23.705280831Z level=debug msg="Executing migration condition SQL" id="drop index IDX_api_key_account_id - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[api_key IDX_api_key_account_id]"
logger=migrator t=2025-07-27T02:26:23.705452581Z level=debug msg="Executing sql migration" id="drop index IDX_api_key_account_id - v1" sql="DROP INDEX `IDX_api_key_account_id`"
logger=migrator t=2025-07-27T02:26:23.705718813Z level=info msg="Migration successfully executed" id="drop index IDX_api_key_account_id - v1" duration=449.362µs
logger=migrator t=2025-07-27T02:26:23.72590661Z level=info msg="Executing migration" id="drop index UQE_api_key_key - v1"
logger=migrator t=2025-07-27T02:26:23.725952802Z level=debug msg="Executing migration condition SQL" id="drop index UQE_api_key_key - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[api_key UQE_api_key_key]"
logger=migrator t=2025-07-27T02:26:23.726372258Z level=debug msg="Executing sql migration" id="drop index UQE_api_key_key - v1" sql="DROP INDEX `UQE_api_key_key`"
logger=migrator t=2025-07-27T02:26:23.727059308Z level=info msg="Migration successfully executed" id="drop index UQE_api_key_key - v1" duration=1.153123ms
logger=migrator t=2025-07-27T02:26:23.746296225Z level=info msg="Executing migration" id="drop index UQE_api_key_account_id_name - v1"
logger=migrator t=2025-07-27T02:26:23.746312745Z level=debug msg="Executing migration condition SQL" id="drop index UQE_api_key_account_id_name - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[api_key UQE_api_key_account_id_name]"
logger=migrator t=2025-07-27T02:26:23.746544428Z level=debug msg="Executing sql migration" id="drop index UQE_api_key_account_id_name - v1" sql="DROP INDEX `UQE_api_key_account_id_name`"
logger=migrator t=2025-07-27T02:26:23.746842474Z level=info msg="Migration successfully executed" id="drop index UQE_api_key_account_id_name - v1" duration=547.463µs
logger=migrator t=2025-07-27T02:26:23.765293223Z level=info msg="Executing migration" id="Rename table api_key to api_key_v1 - v1"
logger=migrator t=2025-07-27T02:26:23.765305555Z level=debug msg="Executing sql migration" id="Rename table api_key to api_key_v1 - v1" sql="ALTER TABLE `api_key` RENAME TO `api_key_v1`"
logger=migrator t=2025-07-27T02:26:23.769394335Z level=info msg="Migration successfully executed" id="Rename table api_key to api_key_v1 - v1" duration=4.100543ms
logger=migrator t=2025-07-27T02:26:23.800034856Z level=info msg="Executing migration" id="create api_key table v2"
logger=migrator t=2025-07-27T02:26:23.800075554Z level=debug msg="Executing sql migration" id="create api_key table v2" sql="CREATE TABLE IF NOT EXISTS `api_key` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `name` TEXT NOT NULL\n, `key` TEXT NOT NULL\n, `role` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:23.800533382Z level=info msg="Migration successfully executed" id="create api_key table v2" duration=499.539µs
logger=migrator t=2025-07-27T02:26:23.842493645Z level=info msg="Executing migration" id="create index IDX_api_key_org_id - v2"
logger=migrator t=2025-07-27T02:26:23.842512256Z level=debug msg="Executing migration condition SQL" id="create index IDX_api_key_org_id - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[api_key IDX_api_key_org_id]"
logger=migrator t=2025-07-27T02:26:23.842757089Z level=debug msg="Executing sql migration" id="create index IDX_api_key_org_id - v2" sql="CREATE INDEX `IDX_api_key_org_id` ON `api_key` (`org_id`);"
logger=migrator t=2025-07-27T02:26:23.843126252Z level=info msg="Migration successfully executed" id="create index IDX_api_key_org_id - v2" duration=633.611µs
logger=migrator t=2025-07-27T02:26:23.862108032Z level=info msg="Executing migration" id="create index UQE_api_key_key - v2"
logger=migrator t=2025-07-27T02:26:23.862131676Z level=debug msg="Executing migration condition SQL" id="create index UQE_api_key_key - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[api_key UQE_api_key_key]"
logger=migrator t=2025-07-27T02:26:23.862318015Z level=debug msg="Executing sql migration" id="create index UQE_api_key_key - v2" sql="CREATE UNIQUE INDEX `UQE_api_key_key` ON `api_key` (`key`);"
logger=migrator t=2025-07-27T02:26:23.862607616Z level=info msg="Migration successfully executed" id="create index UQE_api_key_key - v2" duration=496.848µs
logger=migrator t=2025-07-27T02:26:23.882227039Z level=info msg="Executing migration" id="create index UQE_api_key_org_id_name - v2"
logger=migrator t=2025-07-27T02:26:23.882245093Z level=debug msg="Executing migration condition SQL" id="create index UQE_api_key_org_id_name - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[api_key UQE_api_key_org_id_name]"
logger=migrator t=2025-07-27T02:26:23.882450165Z level=debug msg="Executing sql migration" id="create index UQE_api_key_org_id_name - v2" sql="CREATE UNIQUE INDEX `UQE_api_key_org_id_name` ON `api_key` (`org_id`,`name`);"
logger=migrator t=2025-07-27T02:26:23.882791858Z level=info msg="Migration successfully executed" id="create index UQE_api_key_org_id_name - v2" duration=565.805µs
logger=migrator t=2025-07-27T02:26:23.901734078Z level=info msg="Executing migration" id="copy api_key v1 to v2"
logger=migrator t=2025-07-27T02:26:23.901758851Z level=debug msg="Executing sql migration" id="copy api_key v1 to v2" sql="INSERT INTO `api_key` (`key`\n, `role`\n, `created`\n, `updated`\n, `id`\n, `org_id`\n, `name`) SELECT `key`\n, `role`\n, `created`\n, `updated`\n, `id`\n, `account_id`\n, `name` FROM `api_key_v1`"
logger=migrator t=2025-07-27T02:26:23.90211361Z level=info msg="Migration successfully executed" id="copy api_key v1 to v2" duration=380.91µs
logger=migrator t=2025-07-27T02:26:23.919996333Z level=info msg="Executing migration" id="Drop old table api_key_v1"
logger=migrator t=2025-07-27T02:26:23.920008435Z level=debug msg="Executing sql migration" id="Drop old table api_key_v1" sql="DROP TABLE IF EXISTS `api_key_v1`"
logger=migrator t=2025-07-27T02:26:23.920388751Z level=info msg="Migration successfully executed" id="Drop old table api_key_v1" duration=393.879µs
logger=migrator t=2025-07-27T02:26:23.951400401Z level=info msg="Executing migration" id="Update api_key table charset"
logger=migrator t=2025-07-27T02:26:23.951436989Z level=debug msg="Executing sql migration" id="Update api_key table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:23.95146265Z level=info msg="Migration successfully executed" id="Update api_key table charset" duration=65.633µs
logger=migrator t=2025-07-27T02:26:23.982194148Z level=info msg="Executing migration" id="Add expires to api_key table"
logger=migrator t=2025-07-27T02:26:23.982229887Z level=debug msg="Executing sql migration" id="Add expires to api_key table" sql="alter table `api_key` ADD COLUMN `expires` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:23.985824261Z level=info msg="Migration successfully executed" id="Add expires to api_key table" duration=3.634278ms
logger=migrator t=2025-07-27T02:26:24.005514196Z level=info msg="Executing migration" id="Add service account foreign key"
logger=migrator t=2025-07-27T02:26:24.005560239Z level=debug msg="Executing sql migration" id="Add service account foreign key" sql="alter table `api_key` ADD COLUMN `service_account_id` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:24.008217248Z level=info msg="Migration successfully executed" id="Add service account foreign key" duration=2.705915ms
logger=migrator t=2025-07-27T02:26:24.028211855Z level=info msg="Executing migration" id="set service account foreign key to nil if 0"
logger=migrator t=2025-07-27T02:26:24.028244546Z level=debug msg="Executing sql migration" id="set service account foreign key to nil if 0" sql="UPDATE api_key SET service_account_id = NULL WHERE service_account_id = 0;"
logger=migrator t=2025-07-27T02:26:24.02854087Z level=info msg="Migration successfully executed" id="set service account foreign key to nil if 0" duration=368.062µs
logger=migrator t=2025-07-27T02:26:24.048210111Z level=info msg="Executing migration" id="Add last_used_at to api_key table"
logger=migrator t=2025-07-27T02:26:24.04826925Z level=debug msg="Executing sql migration" id="Add last_used_at to api_key table" sql="alter table `api_key` ADD COLUMN `last_used_at` DATETIME NULL "
logger=migrator t=2025-07-27T02:26:24.051919436Z level=info msg="Migration successfully executed" id="Add last_used_at to api_key table" duration=3.709932ms
logger=migrator t=2025-07-27T02:26:24.081839026Z level=info msg="Executing migration" id="Add is_revoked column to api_key table"
logger=migrator t=2025-07-27T02:26:24.081897822Z level=debug msg="Executing sql migration" id="Add is_revoked column to api_key table" sql="alter table `api_key` ADD COLUMN `is_revoked` INTEGER NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:24.085406159Z level=info msg="Migration successfully executed" id="Add is_revoked column to api_key table" duration=3.568293ms
logger=migrator t=2025-07-27T02:26:24.109524873Z level=info msg="Executing migration" id="create dashboard_snapshot table v4"
logger=migrator t=2025-07-27T02:26:24.109543351Z level=debug msg="Executing sql migration" id="create dashboard_snapshot table v4" sql="CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `name` TEXT NOT NULL\n, `key` TEXT NOT NULL\n, `dashboard` TEXT NOT NULL\n, `expires` DATETIME NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:24.110022638Z level=info msg="Migration successfully executed" id="create dashboard_snapshot table v4" duration=498.813µs
logger=migrator t=2025-07-27T02:26:24.123781792Z level=info msg="Executing migration" id="drop table dashboard_snapshot_v4 #1"
logger=migrator t=2025-07-27T02:26:24.123795647Z level=debug msg="Executing sql migration" id="drop table dashboard_snapshot_v4 #1" sql="DROP TABLE IF EXISTS `dashboard_snapshot`"
logger=migrator t=2025-07-27T02:26:24.124170496Z level=info msg="Migration successfully executed" id="drop table dashboard_snapshot_v4 #1" duration=389.814µs
logger=migrator t=2025-07-27T02:26:24.135738849Z level=info msg="Executing migration" id="create dashboard_snapshot table v5 #2"
logger=migrator t=2025-07-27T02:26:24.135759325Z level=debug msg="Executing sql migration" id="create dashboard_snapshot table v5 #2" sql="CREATE TABLE IF NOT EXISTS `dashboard_snapshot` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `name` TEXT NOT NULL\n, `key` TEXT NOT NULL\n, `delete_key` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `user_id` INTEGER NOT NULL\n, `external` INTEGER NOT NULL\n, `external_url` TEXT NOT NULL\n, `dashboard` TEXT NOT NULL\n, `expires` DATETIME NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:24.136226881Z level=info msg="Migration successfully executed" id="create dashboard_snapshot table v5 #2" duration=486.677µs
logger=migrator t=2025-07-27T02:26:24.15471391Z level=info msg="Executing migration" id="create index UQE_dashboard_snapshot_key - v5"
logger=migrator t=2025-07-27T02:26:24.1547299Z level=debug msg="Executing migration condition SQL" id="create index UQE_dashboard_snapshot_key - v5" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_snapshot UQE_dashboard_snapshot_key]"
logger=migrator t=2025-07-27T02:26:24.154953217Z level=debug msg="Executing sql migration" id="create index UQE_dashboard_snapshot_key - v5" sql="CREATE UNIQUE INDEX `UQE_dashboard_snapshot_key` ON `dashboard_snapshot` (`key`);"
logger=migrator t=2025-07-27T02:26:24.155245209Z level=info msg="Migration successfully executed" id="create index UQE_dashboard_snapshot_key - v5" duration=527.86µs
logger=migrator t=2025-07-27T02:26:24.174719003Z level=info msg="Executing migration" id="create index UQE_dashboard_snapshot_delete_key - v5"
logger=migrator t=2025-07-27T02:26:24.174731004Z level=debug msg="Executing migration condition SQL" id="create index UQE_dashboard_snapshot_delete_key - v5" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_snapshot UQE_dashboard_snapshot_delete_key]"
logger=migrator t=2025-07-27T02:26:24.174922676Z level=debug msg="Executing sql migration" id="create index UQE_dashboard_snapshot_delete_key - v5" sql="CREATE UNIQUE INDEX `UQE_dashboard_snapshot_delete_key` ON `dashboard_snapshot` (`delete_key`);"
logger=migrator t=2025-07-27T02:26:24.175228919Z level=info msg="Migration successfully executed" id="create index UQE_dashboard_snapshot_delete_key - v5" duration=503.584µs
logger=migrator t=2025-07-27T02:26:24.193819247Z level=info msg="Executing migration" id="create index IDX_dashboard_snapshot_user_id - v5"
logger=migrator t=2025-07-27T02:26:24.193834447Z level=debug msg="Executing migration condition SQL" id="create index IDX_dashboard_snapshot_user_id - v5" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_snapshot IDX_dashboard_snapshot_user_id]"
logger=migrator t=2025-07-27T02:26:24.194061385Z level=debug msg="Executing sql migration" id="create index IDX_dashboard_snapshot_user_id - v5" sql="CREATE INDEX `IDX_dashboard_snapshot_user_id` ON `dashboard_snapshot` (`user_id`);"
logger=migrator t=2025-07-27T02:26:24.194424703Z level=info msg="Migration successfully executed" id="create index IDX_dashboard_snapshot_user_id - v5" duration=609.391µs
logger=migrator t=2025-07-27T02:26:24.213180112Z level=info msg="Executing migration" id="alter dashboard_snapshot to mediumtext v2"
logger=migrator t=2025-07-27T02:26:24.213192489Z level=debug msg="Executing sql migration" id="alter dashboard_snapshot to mediumtext v2" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:24.213268985Z level=info msg="Migration successfully executed" id="alter dashboard_snapshot to mediumtext v2" duration=81.583µs
logger=migrator t=2025-07-27T02:26:24.230913371Z level=info msg="Executing migration" id="Update dashboard_snapshot table charset"
logger=migrator t=2025-07-27T02:26:24.230934322Z level=debug msg="Executing sql migration" id="Update dashboard_snapshot table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:24.230944355Z level=info msg="Migration successfully executed" id="Update dashboard_snapshot table charset" duration=36.158µs
logger=migrator t=2025-07-27T02:26:24.248833676Z level=info msg="Executing migration" id="Add column external_delete_url to dashboard_snapshots table"
logger=migrator t=2025-07-27T02:26:24.248847321Z level=debug msg="Executing sql migration" id="Add column external_delete_url to dashboard_snapshots table" sql="alter table `dashboard_snapshot` ADD COLUMN `external_delete_url` TEXT NULL "
logger=migrator t=2025-07-27T02:26:24.250210071Z level=info msg="Migration successfully executed" id="Add column external_delete_url to dashboard_snapshots table" duration=1.379101ms
logger=migrator t=2025-07-27T02:26:24.269220481Z level=info msg="Executing migration" id="Add encrypted dashboard json column"
logger=migrator t=2025-07-27T02:26:24.269257828Z level=debug msg="Executing sql migration" id="Add encrypted dashboard json column" sql="alter table `dashboard_snapshot` ADD COLUMN `dashboard_encrypted` BLOB NULL "
logger=migrator t=2025-07-27T02:26:24.271721891Z level=info msg="Migration successfully executed" id="Add encrypted dashboard json column" duration=2.504911ms
logger=migrator t=2025-07-27T02:26:24.290845018Z level=info msg="Executing migration" id="Change dashboard_encrypted column to MEDIUMBLOB"
logger=migrator t=2025-07-27T02:26:24.290887201Z level=debug msg="Executing sql migration" id="Change dashboard_encrypted column to MEDIUMBLOB" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:24.290980969Z level=info msg="Migration successfully executed" id="Change dashboard_encrypted column to MEDIUMBLOB" duration=137.504µs
logger=migrator t=2025-07-27T02:26:24.309855742Z level=info msg="Executing migration" id="create quota table v1"
logger=migrator t=2025-07-27T02:26:24.309877264Z level=debug msg="Executing sql migration" id="create quota table v1" sql="CREATE TABLE IF NOT EXISTS `quota` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NULL\n, `user_id` INTEGER NULL\n, `target` TEXT NOT NULL\n, `limit` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:24.310290033Z level=info msg="Migration successfully executed" id="create quota table v1" duration=434.552µs
logger=migrator t=2025-07-27T02:26:24.330317537Z level=info msg="Executing migration" id="create index UQE_quota_org_id_user_id_target - v1"
logger=migrator t=2025-07-27T02:26:24.330361825Z level=debug msg="Executing migration condition SQL" id="create index UQE_quota_org_id_user_id_target - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[quota UQE_quota_org_id_user_id_target]"
logger=migrator t=2025-07-27T02:26:24.33081064Z level=debug msg="Executing sql migration" id="create index UQE_quota_org_id_user_id_target - v1" sql="CREATE UNIQUE INDEX `UQE_quota_org_id_user_id_target` ON `quota` (`org_id`,`user_id`,`target`);"
logger=migrator t=2025-07-27T02:26:24.331706983Z level=info msg="Migration successfully executed" id="create index UQE_quota_org_id_user_id_target - v1" duration=1.390105ms
logger=migrator t=2025-07-27T02:26:24.352328423Z level=info msg="Executing migration" id="Update quota table charset"
logger=migrator t=2025-07-27T02:26:24.352361283Z level=debug msg="Executing sql migration" id="Update quota table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:24.352386659Z level=info msg="Migration successfully executed" id="Update quota table charset" duration=63.505µs
logger=migrator t=2025-07-27T02:26:24.371923832Z level=info msg="Executing migration" id="create plugin_setting table"
logger=migrator t=2025-07-27T02:26:24.371984076Z level=debug msg="Executing sql migration" id="create plugin_setting table" sql="CREATE TABLE IF NOT EXISTS `plugin_setting` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NULL\n, `plugin_id` TEXT NOT NULL\n, `enabled` INTEGER NOT NULL\n, `pinned` INTEGER NOT NULL\n, `json_data` TEXT NULL\n, `secure_json_data` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:24.373161484Z level=info msg="Migration successfully executed" id="create plugin_setting table" duration=1.237176ms
logger=migrator t=2025-07-27T02:26:24.393293009Z level=info msg="Executing migration" id="create index UQE_plugin_setting_org_id_plugin_id - v1"
logger=migrator t=2025-07-27T02:26:24.393322066Z level=debug msg="Executing migration condition SQL" id="create index UQE_plugin_setting_org_id_plugin_id - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[plugin_setting UQE_plugin_setting_org_id_plugin_id]"
logger=migrator t=2025-07-27T02:26:24.39378572Z level=debug msg="Executing sql migration" id="create index UQE_plugin_setting_org_id_plugin_id - v1" sql="CREATE UNIQUE INDEX `UQE_plugin_setting_org_id_plugin_id` ON `plugin_setting` (`org_id`,`plugin_id`);"
logger=migrator t=2025-07-27T02:26:24.394573305Z level=info msg="Migration successfully executed" id="create index UQE_plugin_setting_org_id_plugin_id - v1" duration=1.281983ms
logger=migrator t=2025-07-27T02:26:24.414638585Z level=info msg="Executing migration" id="Add column plugin_version to plugin_settings"
logger=migrator t=2025-07-27T02:26:24.414670846Z level=debug msg="Executing sql migration" id="Add column plugin_version to plugin_settings" sql="alter table `plugin_setting` ADD COLUMN `plugin_version` TEXT NULL "
logger=migrator t=2025-07-27T02:26:24.41774994Z level=info msg="Migration successfully executed" id="Add column plugin_version to plugin_settings" duration=3.13862ms
logger=migrator t=2025-07-27T02:26:24.437200548Z level=info msg="Executing migration" id="Update plugin_setting table charset"
logger=migrator t=2025-07-27T02:26:24.437229569Z level=debug msg="Executing sql migration" id="Update plugin_setting table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:24.437257621Z level=info msg="Migration successfully executed" id="Update plugin_setting table charset" duration=60.229µs
logger=migrator t=2025-07-27T02:26:24.45701282Z level=info msg="Executing migration" id="create session table"
logger=migrator t=2025-07-27T02:26:24.457053516Z level=debug msg="Executing sql migration" id="create session table" sql="CREATE TABLE IF NOT EXISTS `session` (\n`key` TEXT PRIMARY KEY NOT NULL\n, `data` BLOB NOT NULL\n, `expiry` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:24.458426537Z level=info msg="Migration successfully executed" id="create session table" duration=1.415907ms
logger=migrator t=2025-07-27T02:26:24.489688246Z level=info msg="Executing migration" id="Drop old table playlist table"
logger=migrator t=2025-07-27T02:26:24.489728054Z level=debug msg="Executing sql migration" id="Drop old table playlist table" sql="DROP TABLE IF EXISTS `playlist`"
logger=migrator t=2025-07-27T02:26:24.489929326Z level=info msg="Migration successfully executed" id="Drop old table playlist table" duration=263.901µs
logger=migrator t=2025-07-27T02:26:24.508187755Z level=info msg="Executing migration" id="Drop old table playlist_item table"
logger=migrator t=2025-07-27T02:26:24.508203748Z level=debug msg="Executing sql migration" id="Drop old table playlist_item table" sql="DROP TABLE IF EXISTS `playlist_item`"
logger=migrator t=2025-07-27T02:26:24.508272717Z level=info msg="Migration successfully executed" id="Drop old table playlist_item table" duration=86.507µs
logger=migrator t=2025-07-27T02:26:24.52673298Z level=info msg="Executing migration" id="create playlist table v2"
logger=migrator t=2025-07-27T02:26:24.526747758Z level=debug msg="Executing sql migration" id="create playlist table v2" sql="CREATE TABLE IF NOT EXISTS `playlist` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `name` TEXT NOT NULL\n, `interval` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:24.52718834Z level=info msg="Migration successfully executed" id="create playlist table v2" duration=456.116µs
logger=migrator t=2025-07-27T02:26:24.545696708Z level=info msg="Executing migration" id="create playlist item table v2"
logger=migrator t=2025-07-27T02:26:24.545935854Z level=debug msg="Executing sql migration" id="create playlist item table v2" sql="CREATE TABLE IF NOT EXISTS `playlist_item` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `playlist_id` INTEGER NOT NULL\n, `type` TEXT NOT NULL\n, `value` TEXT NOT NULL\n, `title` TEXT NOT NULL\n, `order` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:24.546563523Z level=info msg="Migration successfully executed" id="create playlist item table v2" duration=862.633µs
logger=migrator t=2025-07-27T02:26:24.565578118Z level=info msg="Executing migration" id="Update playlist table charset"
logger=migrator t=2025-07-27T02:26:24.565597626Z level=debug msg="Executing sql migration" id="Update playlist table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:24.56560994Z level=info msg="Migration successfully executed" id="Update playlist table charset" duration=35.095µs
logger=migrator t=2025-07-27T02:26:24.583291142Z level=info msg="Executing migration" id="Update playlist_item table charset"
logger=migrator t=2025-07-27T02:26:24.583305353Z level=debug msg="Executing sql migration" id="Update playlist_item table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:24.583315425Z level=info msg="Migration successfully executed" id="Update playlist_item table charset" duration=26.393µs
logger=migrator t=2025-07-27T02:26:24.601541597Z level=info msg="Executing migration" id="Add playlist column created_at"
logger=migrator t=2025-07-27T02:26:24.601556429Z level=debug msg="Executing sql migration" id="Add playlist column created_at" sql="alter table `playlist` ADD COLUMN `created_at` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:24.603109375Z level=info msg="Migration successfully executed" id="Add playlist column created_at" duration=1.568234ms
logger=migrator t=2025-07-27T02:26:24.62302805Z level=info msg="Executing migration" id="Add playlist column updated_at"
logger=migrator t=2025-07-27T02:26:24.623062554Z level=debug msg="Executing sql migration" id="Add playlist column updated_at" sql="alter table `playlist` ADD COLUMN `updated_at` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:24.627062137Z level=info msg="Migration successfully executed" id="Add playlist column updated_at" duration=4.050282ms
logger=migrator t=2025-07-27T02:26:24.648048986Z level=info msg="Executing migration" id="drop preferences table v2"
logger=migrator t=2025-07-27T02:26:24.648093896Z level=debug msg="Executing sql migration" id="drop preferences table v2" sql="DROP TABLE IF EXISTS `preferences`"
logger=migrator t=2025-07-27T02:26:24.648228473Z level=info msg="Migration successfully executed" id="drop preferences table v2" duration=189.488µs
logger=migrator t=2025-07-27T02:26:24.677918144Z level=info msg="Executing migration" id="drop preferences table v3"
logger=migrator t=2025-07-27T02:26:24.677954056Z level=debug msg="Executing sql migration" id="drop preferences table v3" sql="DROP TABLE IF EXISTS `preferences`"
logger=migrator t=2025-07-27T02:26:24.678111174Z level=info msg="Migration successfully executed" id="drop preferences table v3" duration=196.526µs
logger=migrator t=2025-07-27T02:26:24.70863171Z level=info msg="Executing migration" id="create preferences table v3"
logger=migrator t=2025-07-27T02:26:24.708672629Z level=debug msg="Executing sql migration" id="create preferences table v3" sql="CREATE TABLE IF NOT EXISTS `preferences` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `user_id` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `home_dashboard_id` INTEGER NOT NULL\n, `timezone` TEXT NOT NULL\n, `theme` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:24.709979484Z level=info msg="Migration successfully executed" id="create preferences table v3" duration=1.348868ms
logger=migrator t=2025-07-27T02:26:24.730612921Z level=info msg="Executing migration" id="Update preferences table charset"
logger=migrator t=2025-07-27T02:26:24.73065474Z level=debug msg="Executing sql migration" id="Update preferences table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:24.730678634Z level=info msg="Migration successfully executed" id="Update preferences table charset" duration=67.391µs
logger=migrator t=2025-07-27T02:26:24.749186128Z level=info msg="Executing migration" id="Add column team_id in preferences"
logger=migrator t=2025-07-27T02:26:24.749200587Z level=debug msg="Executing sql migration" id="Add column team_id in preferences" sql="alter table `preferences` ADD COLUMN `team_id` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:24.750751113Z level=info msg="Migration successfully executed" id="Add column team_id in preferences" duration=1.562562ms
logger=migrator t=2025-07-27T02:26:24.770240037Z level=info msg="Executing migration" id="Update team_id column values in preferences"
logger=migrator t=2025-07-27T02:26:24.770266984Z level=debug msg="Executing sql migration" id="Update team_id column values in preferences" sql="UPDATE preferences SET team_id=0 WHERE team_id IS NULL;"
logger=migrator t=2025-07-27T02:26:24.770530847Z level=info msg="Migration successfully executed" id="Update team_id column values in preferences" duration=291.627µs
logger=migrator t=2025-07-27T02:26:24.789988637Z level=info msg="Executing migration" id="Add column week_start in preferences"
logger=migrator t=2025-07-27T02:26:24.790019421Z level=debug msg="Executing sql migration" id="Add column week_start in preferences" sql="alter table `preferences` ADD COLUMN `week_start` TEXT NULL "
logger=migrator t=2025-07-27T02:26:24.791567825Z level=info msg="Migration successfully executed" id="Add column week_start in preferences" duration=1.581346ms
logger=migrator t=2025-07-27T02:26:24.810215909Z level=info msg="Executing migration" id="Add column preferences.json_data"
logger=migrator t=2025-07-27T02:26:24.810229995Z level=debug msg="Executing sql migration" id="Add column preferences.json_data" sql="alter table `preferences` ADD COLUMN `json_data` TEXT NULL "
logger=migrator t=2025-07-27T02:26:24.811797146Z level=info msg="Migration successfully executed" id="Add column preferences.json_data" duration=1.57954ms
logger=migrator t=2025-07-27T02:26:24.841701892Z level=info msg="Executing migration" id="alter preferences.json_data to mediumtext v1"
logger=migrator t=2025-07-27T02:26:24.841718933Z level=debug msg="Executing sql migration" id="alter preferences.json_data to mediumtext v1" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:24.841782312Z level=info msg="Migration successfully executed" id="alter preferences.json_data to mediumtext v1" duration=81.897µs
logger=migrator t=2025-07-27T02:26:24.85998649Z level=info msg="Executing migration" id="Add preferences index org_id"
logger=migrator t=2025-07-27T02:26:24.860009408Z level=debug msg="Executing migration condition SQL" id="Add preferences index org_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[preferences IDX_preferences_org_id]"
logger=migrator t=2025-07-27T02:26:24.860248337Z level=debug msg="Executing sql migration" id="Add preferences index org_id" sql="CREATE INDEX `IDX_preferences_org_id` ON `preferences` (`org_id`);"
logger=migrator t=2025-07-27T02:26:24.860627164Z level=info msg="Migration successfully executed" id="Add preferences index org_id" duration=641.362µs
logger=migrator t=2025-07-27T02:26:24.879561932Z level=info msg="Executing migration" id="Add preferences index user_id"
logger=migrator t=2025-07-27T02:26:24.879584776Z level=debug msg="Executing migration condition SQL" id="Add preferences index user_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[preferences IDX_preferences_user_id]"
logger=migrator t=2025-07-27T02:26:24.879816135Z level=debug msg="Executing sql migration" id="Add preferences index user_id" sql="CREATE INDEX `IDX_preferences_user_id` ON `preferences` (`user_id`);"
logger=migrator t=2025-07-27T02:26:24.880141885Z level=info msg="Migration successfully executed" id="Add preferences index user_id" duration=579.125µs
logger=migrator t=2025-07-27T02:26:24.898834236Z level=info msg="Executing migration" id="create alert table v1"
logger=migrator t=2025-07-27T02:26:24.898866958Z level=debug msg="Executing sql migration" id="create alert table v1" sql="CREATE TABLE IF NOT EXISTS `alert` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `version` INTEGER NOT NULL\n, `dashboard_id` INTEGER NOT NULL\n, `panel_id` INTEGER NOT NULL\n, `org_id` INTEGER NOT NULL\n, `name` TEXT NOT NULL\n, `message` TEXT NOT NULL\n, `state` TEXT NOT NULL\n, `settings` TEXT NOT NULL\n, `frequency` INTEGER NOT NULL\n, `handler` INTEGER NOT NULL\n, `severity` TEXT NOT NULL\n, `silenced` INTEGER NOT NULL\n, `execution_error` TEXT NOT NULL\n, `eval_data` TEXT NULL\n, `eval_date` DATETIME NULL\n, `new_state_date` DATETIME NOT NULL\n, `state_changes` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:24.899364991Z level=info msg="Migration successfully executed" id="create alert table v1" duration=530.769µs
logger=migrator t=2025-07-27T02:26:24.918099617Z level=info msg="Executing migration" id="add index alert org_id & id "
logger=migrator t=2025-07-27T02:26:24.918112508Z level=debug msg="Executing migration condition SQL" id="add index alert org_id & id " sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert IDX_alert_org_id_id]"
logger=migrator t=2025-07-27T02:26:24.918330546Z level=debug msg="Executing sql migration" id="add index alert org_id & id " sql="CREATE INDEX `IDX_alert_org_id_id` ON `alert` (`org_id`,`id`);"
logger=migrator t=2025-07-27T02:26:24.918674733Z level=info msg="Migration successfully executed" id="add index alert org_id & id " duration=575.466µs
logger=migrator t=2025-07-27T02:26:24.938540193Z level=info msg="Executing migration" id="add index alert state"
logger=migrator t=2025-07-27T02:26:24.938570098Z level=debug msg="Executing migration condition SQL" id="add index alert state" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert IDX_alert_state]"
logger=migrator t=2025-07-27T02:26:24.939063813Z level=debug msg="Executing sql migration" id="add index alert state" sql="CREATE INDEX `IDX_alert_state` ON `alert` (`state`);"
logger=migrator t=2025-07-27T02:26:24.939889664Z level=info msg="Migration successfully executed" id="add index alert state" duration=1.345157ms
logger=migrator t=2025-07-27T02:26:24.971841322Z level=info msg="Executing migration" id="add index alert dashboard_id"
logger=migrator t=2025-07-27T02:26:24.971934667Z level=debug msg="Executing migration condition SQL" id="add index alert dashboard_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert IDX_alert_dashboard_id]"
logger=migrator t=2025-07-27T02:26:24.972451634Z level=debug msg="Executing sql migration" id="add index alert dashboard_id" sql="CREATE INDEX `IDX_alert_dashboard_id` ON `alert` (`dashboard_id`);"
logger=migrator t=2025-07-27T02:26:24.973296606Z level=info msg="Migration successfully executed" id="add index alert dashboard_id" duration=1.45911ms
logger=migrator t=2025-07-27T02:26:25.005407067Z level=info msg="Executing migration" id="Create alert_rule_tag table v1"
logger=migrator t=2025-07-27T02:26:25.005444325Z level=debug msg="Executing sql migration" id="Create alert_rule_tag table v1" sql="CREATE TABLE IF NOT EXISTS `alert_rule_tag` (\n`alert_id` INTEGER NOT NULL\n, `tag_id` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:25.006569748Z level=info msg="Migration successfully executed" id="Create alert_rule_tag table v1" duration=1.164292ms
logger=migrator t=2025-07-27T02:26:25.025876632Z level=info msg="Executing migration" id="Add unique index alert_rule_tag.alert_id_tag_id"
logger=migrator t=2025-07-27T02:26:25.025904648Z level=debug msg="Executing migration condition SQL" id="Add unique index alert_rule_tag.alert_id_tag_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule_tag UQE_alert_rule_tag_alert_id_tag_id]"
logger=migrator t=2025-07-27T02:26:25.026096019Z level=debug msg="Executing sql migration" id="Add unique index alert_rule_tag.alert_id_tag_id" sql="CREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`);"
logger=migrator t=2025-07-27T02:26:25.026407532Z level=info msg="Migration successfully executed" id="Add unique index alert_rule_tag.alert_id_tag_id" duration=531.208µs
logger=migrator t=2025-07-27T02:26:25.04543191Z level=info msg="Executing migration" id="drop index UQE_alert_rule_tag_alert_id_tag_id - v1"
logger=migrator t=2025-07-27T02:26:25.045444341Z level=debug msg="Executing migration condition SQL" id="drop index UQE_alert_rule_tag_alert_id_tag_id - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule_tag UQE_alert_rule_tag_alert_id_tag_id]"
logger=migrator t=2025-07-27T02:26:25.045639508Z level=debug msg="Executing sql migration" id="drop index UQE_alert_rule_tag_alert_id_tag_id - v1" sql="DROP INDEX `UQE_alert_rule_tag_alert_id_tag_id`"
logger=migrator t=2025-07-27T02:26:25.045948935Z level=info msg="Migration successfully executed" id="drop index UQE_alert_rule_tag_alert_id_tag_id - v1" duration=517.747µs
logger=migrator t=2025-07-27T02:26:25.066209991Z level=info msg="Executing migration" id="Rename table alert_rule_tag to alert_rule_tag_v1 - v1"
logger=migrator t=2025-07-27T02:26:25.066243529Z level=debug msg="Executing sql migration" id="Rename table alert_rule_tag to alert_rule_tag_v1 - v1" sql="ALTER TABLE `alert_rule_tag` RENAME TO `alert_rule_tag_v1`"
logger=migrator t=2025-07-27T02:26:25.073324002Z level=info msg="Migration successfully executed" id="Rename table alert_rule_tag to alert_rule_tag_v1 - v1" duration=7.116586ms
logger=migrator t=2025-07-27T02:26:25.092052538Z level=info msg="Executing migration" id="Create alert_rule_tag table v2"
logger=migrator t=2025-07-27T02:26:25.092071226Z level=debug msg="Executing sql migration" id="Create alert_rule_tag table v2" sql="CREATE TABLE IF NOT EXISTS `alert_rule_tag` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `alert_id` INTEGER NOT NULL\n, `tag_id` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:25.092535043Z level=info msg="Migration successfully executed" id="Create alert_rule_tag table v2" duration=483.377µs
logger=migrator t=2025-07-27T02:26:25.110829788Z level=info msg="Executing migration" id="create index UQE_alert_rule_tag_alert_id_tag_id - Add unique index alert_rule_tag.alert_id_tag_id V2"
logger=migrator t=2025-07-27T02:26:25.110844646Z level=debug msg="Executing migration condition SQL" id="create index UQE_alert_rule_tag_alert_id_tag_id - Add unique index alert_rule_tag.alert_id_tag_id V2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule_tag UQE_alert_rule_tag_alert_id_tag_id]"
logger=migrator t=2025-07-27T02:26:25.111077429Z level=debug msg="Executing sql migration" id="create index UQE_alert_rule_tag_alert_id_tag_id - Add unique index alert_rule_tag.alert_id_tag_id V2" sql="CREATE UNIQUE INDEX `UQE_alert_rule_tag_alert_id_tag_id` ON `alert_rule_tag` (`alert_id`,`tag_id`);"
logger=migrator t=2025-07-27T02:26:25.111435783Z level=info msg="Migration successfully executed" id="create index UQE_alert_rule_tag_alert_id_tag_id - Add unique index alert_rule_tag.alert_id_tag_id V2" duration=606.688µs
logger=migrator t=2025-07-27T02:26:25.130566665Z level=info msg="Executing migration" id="copy alert_rule_tag v1 to v2"
logger=migrator t=2025-07-27T02:26:25.130587241Z level=debug msg="Executing sql migration" id="copy alert_rule_tag v1 to v2" sql="INSERT INTO `alert_rule_tag` (`alert_id`\n, `tag_id`) SELECT `alert_id`\n, `tag_id` FROM `alert_rule_tag_v1`"
logger=migrator t=2025-07-27T02:26:25.130794923Z level=info msg="Migration successfully executed" id="copy alert_rule_tag v1 to v2" duration=230.058µs
logger=migrator t=2025-07-27T02:26:25.160620155Z level=info msg="Executing migration" id="drop table alert_rule_tag_v1"
logger=migrator t=2025-07-27T02:26:25.160653731Z level=debug msg="Executing sql migration" id="drop table alert_rule_tag_v1" sql="DROP TABLE IF EXISTS `alert_rule_tag_v1`"
logger=migrator t=2025-07-27T02:26:25.161645413Z level=info msg="Migration successfully executed" id="drop table alert_rule_tag_v1" duration=1.021858ms
logger=migrator t=2025-07-27T02:26:25.192650324Z level=info msg="Executing migration" id="create alert_notification table v1"
logger=migrator t=2025-07-27T02:26:25.192691567Z level=debug msg="Executing sql migration" id="create alert_notification table v1" sql="CREATE TABLE IF NOT EXISTS `alert_notification` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `name` TEXT NOT NULL\n, `type` TEXT NOT NULL\n, `settings` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:25.193901091Z level=info msg="Migration successfully executed" id="create alert_notification table v1" duration=1.252582ms
logger=migrator t=2025-07-27T02:26:25.224939484Z level=info msg="Executing migration" id="Add column is_default"
logger=migrator t=2025-07-27T02:26:25.224978721Z level=debug msg="Executing sql migration" id="Add column is_default" sql="alter table `alert_notification` ADD COLUMN `is_default` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:25.230085974Z level=info msg="Migration successfully executed" id="Add column is_default" duration=5.147248ms
logger=migrator t=2025-07-27T02:26:25.250097496Z level=info msg="Executing migration" id="Add column frequency"
logger=migrator t=2025-07-27T02:26:25.250126336Z level=debug msg="Executing sql migration" id="Add column frequency" sql="alter table `alert_notification` ADD COLUMN `frequency` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:25.253722898Z level=info msg="Migration successfully executed" id="Add column frequency" duration=3.63017ms
logger=migrator t=2025-07-27T02:26:25.273050892Z level=info msg="Executing migration" id="Add column send_reminder"
logger=migrator t=2025-07-27T02:26:25.273091643Z level=debug msg="Executing sql migration" id="Add column send_reminder" sql="alter table `alert_notification` ADD COLUMN `send_reminder` INTEGER NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:25.277024511Z level=info msg="Migration successfully executed" id="Add column send_reminder" duration=3.982552ms
logger=migrator t=2025-07-27T02:26:25.296196344Z level=info msg="Executing migration" id="Add column disable_resolve_message"
logger=migrator t=2025-07-27T02:26:25.296228778Z level=debug msg="Executing sql migration" id="Add column disable_resolve_message" sql="alter table `alert_notification` ADD COLUMN `disable_resolve_message` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:25.300035378Z level=info msg="Migration successfully executed" id="Add column disable_resolve_message" duration=3.841419ms
logger=migrator t=2025-07-27T02:26:25.33537317Z level=info msg="Executing migration" id="add index alert_notification org_id & name"
logger=migrator t=2025-07-27T02:26:25.335427821Z level=debug msg="Executing migration condition SQL" id="add index alert_notification org_id & name" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_notification UQE_alert_notification_org_id_name]"
logger=migrator t=2025-07-27T02:26:25.336005431Z level=debug msg="Executing sql migration" id="add index alert_notification org_id & name" sql="CREATE UNIQUE INDEX `UQE_alert_notification_org_id_name` ON `alert_notification` (`org_id`,`name`);"
logger=migrator t=2025-07-27T02:26:25.336992199Z level=info msg="Migration successfully executed" id="add index alert_notification org_id & name" duration=1.621064ms
logger=migrator t=2025-07-27T02:26:25.368894423Z level=info msg="Executing migration" id="Update alert table charset"
logger=migrator t=2025-07-27T02:26:25.368926905Z level=debug msg="Executing sql migration" id="Update alert table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:25.368966446Z level=info msg="Migration successfully executed" id="Update alert table charset" duration=74.396µs
logger=migrator t=2025-07-27T02:26:25.389518953Z level=info msg="Executing migration" id="Update alert_notification table charset"
logger=migrator t=2025-07-27T02:26:25.389580751Z level=debug msg="Executing sql migration" id="Update alert_notification table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:25.389622356Z level=info msg="Migration successfully executed" id="Update alert_notification table charset" duration=106.757µs
logger=migrator t=2025-07-27T02:26:25.408448832Z level=info msg="Executing migration" id="create notification_journal table v1"
logger=migrator t=2025-07-27T02:26:25.408504857Z level=debug msg="Executing sql migration" id="create notification_journal table v1" sql="CREATE TABLE IF NOT EXISTS `alert_notification_journal` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `alert_id` INTEGER NOT NULL\n, `notifier_id` INTEGER NOT NULL\n, `sent_at` INTEGER NOT NULL\n, `success` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:25.409619496Z level=info msg="Migration successfully executed" id="create notification_journal table v1" duration=1.18324ms
logger=migrator t=2025-07-27T02:26:25.429581004Z level=info msg="Executing migration" id="add index notification_journal org_id & alert_id & notifier_id"
logger=migrator t=2025-07-27T02:26:25.429629326Z level=debug msg="Executing migration condition SQL" id="add index notification_journal org_id & alert_id & notifier_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_notification_journal IDX_alert_notification_journal_org_id_alert_id_notifier_id]"
logger=migrator t=2025-07-27T02:26:25.430123743Z level=debug msg="Executing sql migration" id="add index notification_journal org_id & alert_id & notifier_id" sql="CREATE INDEX `IDX_alert_notification_journal_org_id_alert_id_notifier_id` ON `alert_notification_journal` (`org_id`,`alert_id`,`notifier_id`);"
logger=migrator t=2025-07-27T02:26:25.431058002Z level=info msg="Migration successfully executed" id="add index notification_journal org_id & alert_id & notifier_id" duration=1.477473ms
logger=migrator t=2025-07-27T02:26:25.450071574Z level=info msg="Executing migration" id="drop alert_notification_journal"
logger=migrator t=2025-07-27T02:26:25.450083521Z level=debug msg="Executing sql migration" id="drop alert_notification_journal" sql="DROP TABLE IF EXISTS `alert_notification_journal`"
logger=migrator t=2025-07-27T02:26:25.450539973Z level=info msg="Migration successfully executed" id="drop alert_notification_journal" duration=468.816µs
logger=migrator t=2025-07-27T02:26:25.470880794Z level=info msg="Executing migration" id="create alert_notification_state table v1"
logger=migrator t=2025-07-27T02:26:25.470912874Z level=debug msg="Executing sql migration" id="create alert_notification_state table v1" sql="CREATE TABLE IF NOT EXISTS `alert_notification_state` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `alert_id` INTEGER NOT NULL\n, `notifier_id` INTEGER NOT NULL\n, `state` TEXT NOT NULL\n, `version` INTEGER NOT NULL\n, `updated_at` INTEGER NOT NULL\n, `alert_rule_state_updated_version` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:25.47202214Z level=info msg="Migration successfully executed" id="create alert_notification_state table v1" duration=1.168122ms
logger=migrator t=2025-07-27T02:26:25.492047406Z level=info msg="Executing migration" id="add index alert_notification_state org_id & alert_id & notifier_id"
logger=migrator t=2025-07-27T02:26:25.492070706Z level=debug msg="Executing migration condition SQL" id="add index alert_notification_state org_id & alert_id & notifier_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_notification_state UQE_alert_notification_state_org_id_alert_id_notifier_id]"
logger=migrator t=2025-07-27T02:26:25.49252207Z level=debug msg="Executing sql migration" id="add index alert_notification_state org_id & alert_id & notifier_id" sql="CREATE UNIQUE INDEX `UQE_alert_notification_state_org_id_alert_id_notifier_id` ON `alert_notification_state` (`org_id`,`alert_id`,`notifier_id`);"
logger=migrator t=2025-07-27T02:26:25.493348211Z level=info msg="Migration successfully executed" id="add index alert_notification_state org_id & alert_id & notifier_id" duration=1.30042ms
logger=migrator t=2025-07-27T02:26:25.513452406Z level=info msg="Executing migration" id="Add for to alert table"
logger=migrator t=2025-07-27T02:26:25.513480604Z level=debug msg="Executing sql migration" id="Add for to alert table" sql="alter table `alert` ADD COLUMN `for` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:25.518547468Z level=info msg="Migration successfully executed" id="Add for to alert table" duration=5.094961ms
logger=migrator t=2025-07-27T02:26:25.538184087Z level=info msg="Executing migration" id="Add column uid in alert_notification"
logger=migrator t=2025-07-27T02:26:25.538216038Z level=debug msg="Executing sql migration" id="Add column uid in alert_notification" sql="alter table `alert_notification` ADD COLUMN `uid` TEXT NULL "
logger=migrator t=2025-07-27T02:26:25.543411201Z level=info msg="Migration successfully executed" id="Add column uid in alert_notification" duration=5.2285ms
logger=migrator t=2025-07-27T02:26:25.563051799Z level=info msg="Executing migration" id="Update uid column values in alert_notification"
logger=migrator t=2025-07-27T02:26:25.563101079Z level=debug msg="Executing sql migration" id="Update uid column values in alert_notification" sql="UPDATE alert_notification SET uid=printf('%09d',id) WHERE uid IS NULL;"
logger=migrator t=2025-07-27T02:26:25.563463144Z level=info msg="Migration successfully executed" id="Update uid column values in alert_notification" duration=413.979µs
logger=migrator t=2025-07-27T02:26:25.583088672Z level=info msg="Executing migration" id="Add unique index alert_notification_org_id_uid"
logger=migrator t=2025-07-27T02:26:25.583132526Z level=debug msg="Executing migration condition SQL" id="Add unique index alert_notification_org_id_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_notification UQE_alert_notification_org_id_uid]"
logger=migrator t=2025-07-27T02:26:25.583659162Z level=debug msg="Executing sql migration" id="Add unique index alert_notification_org_id_uid" sql="CREATE UNIQUE INDEX `UQE_alert_notification_org_id_uid` ON `alert_notification` (`org_id`,`uid`);"
logger=migrator t=2025-07-27T02:26:25.584606015Z level=info msg="Migration successfully executed" id="Add unique index alert_notification_org_id_uid" duration=1.520265ms
logger=migrator t=2025-07-27T02:26:25.605163401Z level=info msg="Executing migration" id="Remove unique index org_id_name"
logger=migrator t=2025-07-27T02:26:25.605199241Z level=debug msg="Executing migration condition SQL" id="Remove unique index org_id_name" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_notification UQE_alert_notification_org_id_name]"
logger=migrator t=2025-07-27T02:26:25.605681645Z level=debug msg="Executing sql migration" id="Remove unique index org_id_name" sql="DROP INDEX `UQE_alert_notification_org_id_name`"
logger=migrator t=2025-07-27T02:26:25.606466145Z level=info msg="Migration successfully executed" id="Remove unique index org_id_name" duration=1.304277ms
logger=migrator t=2025-07-27T02:26:25.626545844Z level=info msg="Executing migration" id="Add column secure_settings in alert_notification"
logger=migrator t=2025-07-27T02:26:25.626589176Z level=debug msg="Executing sql migration" id="Add column secure_settings in alert_notification" sql="alter table `alert_notification` ADD COLUMN `secure_settings` TEXT NULL "
logger=migrator t=2025-07-27T02:26:25.63146316Z level=info msg="Migration successfully executed" id="Add column secure_settings in alert_notification" duration=4.921693ms
logger=migrator t=2025-07-27T02:26:25.650707455Z level=info msg="Executing migration" id="alter alert.settings to mediumtext"
logger=migrator t=2025-07-27T02:26:25.650737797Z level=debug msg="Executing sql migration" id="alter alert.settings to mediumtext" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:25.650843285Z level=info msg="Migration successfully executed" id="alter alert.settings to mediumtext" duration=135.217µs
logger=migrator t=2025-07-27T02:26:25.691375883Z level=info msg="Executing migration" id="Add non-unique index alert_notification_state_alert_id"
logger=migrator t=2025-07-27T02:26:25.691411846Z level=debug msg="Executing migration condition SQL" id="Add non-unique index alert_notification_state_alert_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_notification_state IDX_alert_notification_state_alert_id]"
logger=migrator t=2025-07-27T02:26:25.692009843Z level=debug msg="Executing sql migration" id="Add non-unique index alert_notification_state_alert_id" sql="CREATE INDEX `IDX_alert_notification_state_alert_id` ON `alert_notification_state` (`alert_id`);"
logger=migrator t=2025-07-27T02:26:25.692965826Z level=info msg="Migration successfully executed" id="Add non-unique index alert_notification_state_alert_id" duration=1.595953ms
logger=migrator t=2025-07-27T02:26:25.711665037Z level=info msg="Executing migration" id="Add non-unique index alert_rule_tag_alert_id"
logger=migrator t=2025-07-27T02:26:25.711679662Z level=debug msg="Executing migration condition SQL" id="Add non-unique index alert_rule_tag_alert_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule_tag IDX_alert_rule_tag_alert_id]"
logger=migrator t=2025-07-27T02:26:25.711909317Z level=debug msg="Executing sql migration" id="Add non-unique index alert_rule_tag_alert_id" sql="CREATE INDEX `IDX_alert_rule_tag_alert_id` ON `alert_rule_tag` (`alert_id`);"
logger=migrator t=2025-07-27T02:26:25.712285737Z level=info msg="Migration successfully executed" id="Add non-unique index alert_rule_tag_alert_id" duration=621.604µs
logger=migrator t=2025-07-27T02:26:25.73296999Z level=info msg="Executing migration" id="Drop old annotation table v4"
logger=migrator t=2025-07-27T02:26:25.732981237Z level=debug msg="Executing sql migration" id="Drop old annotation table v4" sql="DROP TABLE IF EXISTS `annotation`"
logger=migrator t=2025-07-27T02:26:25.733031722Z level=info msg="Migration successfully executed" id="Drop old annotation table v4" duration=62.959µs
logger=migrator t=2025-07-27T02:26:25.766332747Z level=info msg="Executing migration" id="create annotation table v5"
logger=migrator t=2025-07-27T02:26:25.766368413Z level=debug msg="Executing sql migration" id="create annotation table v5" sql="CREATE TABLE IF NOT EXISTS `annotation` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `alert_id` INTEGER NULL\n, `user_id` INTEGER NULL\n, `dashboard_id` INTEGER NULL\n, `panel_id` INTEGER NULL\n, `category_id` INTEGER NULL\n, `type` TEXT NOT NULL\n, `title` TEXT NOT NULL\n, `text` TEXT NOT NULL\n, `metric` TEXT NULL\n, `prev_state` TEXT NOT NULL\n, `new_state` TEXT NOT NULL\n, `data` TEXT NOT NULL\n, `epoch` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:25.76693744Z level=info msg="Migration successfully executed" id="create annotation table v5" duration=605.817µs
logger=migrator t=2025-07-27T02:26:25.785897012Z level=info msg="Executing migration" id="add index annotation 0 v3"
logger=migrator t=2025-07-27T02:26:25.785916245Z level=debug msg="Executing migration condition SQL" id="add index annotation 0 v3" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_alert_id]"
logger=migrator t=2025-07-27T02:26:25.786161831Z level=debug msg="Executing sql migration" id="add index annotation 0 v3" sql="CREATE INDEX `IDX_annotation_org_id_alert_id` ON `annotation` (`org_id`,`alert_id`);"
logger=migrator t=2025-07-27T02:26:25.786526807Z level=info msg="Migration successfully executed" id="add index annotation 0 v3" duration=631.717µs
logger=migrator t=2025-07-27T02:26:25.805111796Z level=info msg="Executing migration" id="add index annotation 1 v3"
logger=migrator t=2025-07-27T02:26:25.8051296Z level=debug msg="Executing migration condition SQL" id="add index annotation 1 v3" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_type]"
logger=migrator t=2025-07-27T02:26:25.805384442Z level=debug msg="Executing sql migration" id="add index annotation 1 v3" sql="CREATE INDEX `IDX_annotation_org_id_type` ON `annotation` (`org_id`,`type`);"
logger=migrator t=2025-07-27T02:26:25.805734282Z level=info msg="Migration successfully executed" id="add index annotation 1 v3" duration=623.196µs
logger=migrator t=2025-07-27T02:26:25.825244519Z level=info msg="Executing migration" id="add index annotation 2 v3"
logger=migrator t=2025-07-27T02:26:25.825264265Z level=debug msg="Executing migration condition SQL" id="add index annotation 2 v3" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_category_id]"
logger=migrator t=2025-07-27T02:26:25.82550889Z level=debug msg="Executing sql migration" id="add index annotation 2 v3" sql="CREATE INDEX `IDX_annotation_org_id_category_id` ON `annotation` (`org_id`,`category_id`);"
logger=migrator t=2025-07-27T02:26:25.825871905Z level=info msg="Migration successfully executed" id="add index annotation 2 v3" duration=628.716µs
logger=migrator t=2025-07-27T02:26:25.855002005Z level=info msg="Executing migration" id="add index annotation 3 v3"
logger=migrator t=2025-07-27T02:26:25.855037495Z level=debug msg="Executing migration condition SQL" id="add index annotation 3 v3" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_dashboard_id_panel_id_epoch]"
logger=migrator t=2025-07-27T02:26:25.855615434Z level=debug msg="Executing sql migration" id="add index annotation 3 v3" sql="CREATE INDEX `IDX_annotation_org_id_dashboard_id_panel_id_epoch` ON `annotation` (`org_id`,`dashboard_id`,`panel_id`,`epoch`);"
logger=migrator t=2025-07-27T02:26:25.856695121Z level=info msg="Migration successfully executed" id="add index annotation 3 v3" duration=1.69785ms
logger=migrator t=2025-07-27T02:26:25.877738489Z level=info msg="Executing migration" id="add index annotation 4 v3"
logger=migrator t=2025-07-27T02:26:25.877777238Z level=debug msg="Executing migration condition SQL" id="add index annotation 4 v3" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_epoch]"
logger=migrator t=2025-07-27T02:26:25.878283583Z level=debug msg="Executing sql migration" id="add index annotation 4 v3" sql="CREATE INDEX `IDX_annotation_org_id_epoch` ON `annotation` (`org_id`,`epoch`);"
logger=migrator t=2025-07-27T02:26:25.879272469Z level=info msg="Migration successfully executed" id="add index annotation 4 v3" duration=1.533864ms
logger=migrator t=2025-07-27T02:26:25.898645765Z level=info msg="Executing migration" id="Update annotation table charset"
logger=migrator t=2025-07-27T02:26:25.898660338Z level=debug msg="Executing sql migration" id="Update annotation table charset" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:25.898670488Z level=info msg="Migration successfully executed" id="Update annotation table charset" duration=26.708µs
logger=migrator t=2025-07-27T02:26:25.916159242Z level=info msg="Executing migration" id="Add column region_id to annotation table"
logger=migrator t=2025-07-27T02:26:25.916170178Z level=debug msg="Executing sql migration" id="Add column region_id to annotation table" sql="alter table `annotation` ADD COLUMN `region_id` INTEGER NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:25.91804533Z level=info msg="Migration successfully executed" id="Add column region_id to annotation table" duration=1.885487ms
logger=migrator t=2025-07-27T02:26:25.937573319Z level=info msg="Executing migration" id="Drop category_id index"
logger=migrator t=2025-07-27T02:26:25.937611326Z level=debug msg="Executing migration condition SQL" id="Drop category_id index" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_category_id]"
logger=migrator t=2025-07-27T02:26:25.938197068Z level=debug msg="Executing sql migration" id="Drop category_id index" sql="DROP INDEX `IDX_annotation_org_id_category_id`"
logger=migrator t=2025-07-27T02:26:25.939047995Z level=info msg="Migration successfully executed" id="Drop category_id index" duration=1.476197ms
logger=migrator t=2025-07-27T02:26:25.958909955Z level=info msg="Executing migration" id="Add column tags to annotation table"
logger=migrator t=2025-07-27T02:26:25.958935052Z level=debug msg="Executing sql migration" id="Add column tags to annotation table" sql="alter table `annotation` ADD COLUMN `tags` TEXT NULL "
logger=migrator t=2025-07-27T02:26:25.962304613Z level=info msg="Migration successfully executed" id="Add column tags to annotation table" duration=3.397033ms
logger=migrator t=2025-07-27T02:26:25.981212861Z level=info msg="Executing migration" id="Create annotation_tag table v2"
logger=migrator t=2025-07-27T02:26:25.981244287Z level=debug msg="Executing sql migration" id="Create annotation_tag table v2" sql="CREATE TABLE IF NOT EXISTS `annotation_tag` (\n`annotation_id` INTEGER NOT NULL\n, `tag_id` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:25.982284651Z level=info msg="Migration successfully executed" id="Create annotation_tag table v2" duration=1.068988ms
logger=migrator t=2025-07-27T02:26:26.00215536Z level=info msg="Executing migration" id="Add unique index annotation_tag.annotation_id_tag_id"
logger=migrator t=2025-07-27T02:26:26.002204033Z level=debug msg="Executing migration condition SQL" id="Add unique index annotation_tag.annotation_id_tag_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation_tag UQE_annotation_tag_annotation_id_tag_id]"
logger=migrator t=2025-07-27T02:26:26.0026787Z level=debug msg="Executing sql migration" id="Add unique index annotation_tag.annotation_id_tag_id" sql="CREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_id`);"
logger=migrator t=2025-07-27T02:26:26.003615748Z level=info msg="Migration successfully executed" id="Add unique index annotation_tag.annotation_id_tag_id" duration=1.461321ms
logger=migrator t=2025-07-27T02:26:26.023604111Z level=info msg="Executing migration" id="drop index UQE_annotation_tag_annotation_id_tag_id - v2"
logger=migrator t=2025-07-27T02:26:26.02363933Z level=debug msg="Executing migration condition SQL" id="drop index UQE_annotation_tag_annotation_id_tag_id - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation_tag UQE_annotation_tag_annotation_id_tag_id]"
logger=migrator t=2025-07-27T02:26:26.024218909Z level=debug msg="Executing sql migration" id="drop index UQE_annotation_tag_annotation_id_tag_id - v2" sql="DROP INDEX `UQE_annotation_tag_annotation_id_tag_id`"
logger=migrator t=2025-07-27T02:26:26.025041202Z level=info msg="Migration successfully executed" id="drop index UQE_annotation_tag_annotation_id_tag_id - v2" duration=1.439236ms
logger=migrator t=2025-07-27T02:26:26.044921166Z level=info msg="Executing migration" id="Rename table annotation_tag to annotation_tag_v2 - v2"
logger=migrator t=2025-07-27T02:26:26.044963702Z level=debug msg="Executing sql migration" id="Rename table annotation_tag to annotation_tag_v2 - v2" sql="ALTER TABLE `annotation_tag` RENAME TO `annotation_tag_v2`"
logger=migrator t=2025-07-27T02:26:26.054783406Z level=info msg="Migration successfully executed" id="Rename table annotation_tag to annotation_tag_v2 - v2" duration=9.860833ms
logger=migrator t=2025-07-27T02:26:26.074913108Z level=info msg="Executing migration" id="Create annotation_tag table v3"
logger=migrator t=2025-07-27T02:26:26.074962469Z level=debug msg="Executing sql migration" id="Create annotation_tag table v3" sql="CREATE TABLE IF NOT EXISTS `annotation_tag` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `annotation_id` INTEGER NOT NULL\n, `tag_id` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:26.076041006Z level=info msg="Migration successfully executed" id="Create annotation_tag table v3" duration=1.130465ms
logger=migrator t=2025-07-27T02:26:26.095780124Z level=info msg="Executing migration" id="create index UQE_annotation_tag_annotation_id_tag_id - Add unique index annotation_tag.annotation_id_tag_id V3"
logger=migrator t=2025-07-27T02:26:26.095821964Z level=debug msg="Executing migration condition SQL" id="create index UQE_annotation_tag_annotation_id_tag_id - Add unique index annotation_tag.annotation_id_tag_id V3" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation_tag UQE_annotation_tag_annotation_id_tag_id]"
logger=migrator t=2025-07-27T02:26:26.096336311Z level=debug msg="Executing sql migration" id="create index UQE_annotation_tag_annotation_id_tag_id - Add unique index annotation_tag.annotation_id_tag_id V3" sql="CREATE UNIQUE INDEX `UQE_annotation_tag_annotation_id_tag_id` ON `annotation_tag` (`annotation_id`,`tag_id`);"
logger=migrator t=2025-07-27T02:26:26.097229778Z level=info msg="Migration successfully executed" id="create index UQE_annotation_tag_annotation_id_tag_id - Add unique index annotation_tag.annotation_id_tag_id V3" duration=1.449916ms
logger=migrator t=2025-07-27T02:26:26.117659849Z level=info msg="Executing migration" id="copy annotation_tag v2 to v3"
logger=migrator t=2025-07-27T02:26:26.117696936Z level=debug msg="Executing sql migration" id="copy annotation_tag v2 to v3" sql="INSERT INTO `annotation_tag` (`tag_id`\n, `annotation_id`) SELECT `tag_id`\n, `annotation_id` FROM `annotation_tag_v2`"
logger=migrator t=2025-07-27T02:26:26.118256217Z level=info msg="Migration successfully executed" id="copy annotation_tag v2 to v3" duration=598.59µs
logger=migrator t=2025-07-27T02:26:26.137200491Z level=info msg="Executing migration" id="drop table annotation_tag_v2"
logger=migrator t=2025-07-27T02:26:26.137239214Z level=debug msg="Executing sql migration" id="drop table annotation_tag_v2" sql="DROP TABLE IF EXISTS `annotation_tag_v2`"
logger=migrator t=2025-07-27T02:26:26.138272251Z level=info msg="Migration successfully executed" id="drop table annotation_tag_v2" duration=1.077303ms
logger=migrator t=2025-07-27T02:26:26.157475222Z level=info msg="Executing migration" id="Update alert annotations and set TEXT to empty"
logger=migrator t=2025-07-27T02:26:26.15752218Z level=debug msg="Executing sql migration" id="Update alert annotations and set TEXT to empty" sql="UPDATE annotation SET TEXT = '' WHERE alert_id > 0"
logger=migrator t=2025-07-27T02:26:26.157949893Z level=info msg="Migration successfully executed" id="Update alert annotations and set TEXT to empty" duration=476.018µs
logger=migrator t=2025-07-27T02:26:26.188546045Z level=info msg="Executing migration" id="Add created time to annotation table"
logger=migrator t=2025-07-27T02:26:26.188601689Z level=debug msg="Executing sql migration" id="Add created time to annotation table" sql="alter table `annotation` ADD COLUMN `created` INTEGER NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:26.194158012Z level=info msg="Migration successfully executed" id="Add created time to annotation table" duration=5.621596ms
logger=migrator t=2025-07-27T02:26:26.213553876Z level=info msg="Executing migration" id="Add updated time to annotation table"
logger=migrator t=2025-07-27T02:26:26.213580804Z level=debug msg="Executing sql migration" id="Add updated time to annotation table" sql="alter table `annotation` ADD COLUMN `updated` INTEGER NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:26.218505005Z level=info msg="Migration successfully executed" id="Add updated time to annotation table" duration=4.953327ms
logger=migrator t=2025-07-27T02:26:26.237556368Z level=info msg="Executing migration" id="Add index for created in annotation table"
logger=migrator t=2025-07-27T02:26:26.237590812Z level=debug msg="Executing migration condition SQL" id="Add index for created in annotation table" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_created]"
logger=migrator t=2025-07-27T02:26:26.238097904Z level=debug msg="Executing sql migration" id="Add index for created in annotation table" sql="CREATE INDEX `IDX_annotation_org_id_created` ON `annotation` (`org_id`,`created`);"
logger=migrator t=2025-07-27T02:26:26.23893415Z level=info msg="Migration successfully executed" id="Add index for created in annotation table" duration=1.374068ms
logger=migrator t=2025-07-27T02:26:26.258319395Z level=info msg="Executing migration" id="Add index for updated in annotation table"
logger=migrator t=2025-07-27T02:26:26.258362452Z level=debug msg="Executing migration condition SQL" id="Add index for updated in annotation table" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_updated]"
logger=migrator t=2025-07-27T02:26:26.258937069Z level=debug msg="Executing sql migration" id="Add index for updated in annotation table" sql="CREATE INDEX `IDX_annotation_org_id_updated` ON `annotation` (`org_id`,`updated`);"
logger=migrator t=2025-07-27T02:26:26.259808382Z level=info msg="Migration successfully executed" id="Add index for updated in annotation table" duration=1.490556ms
logger=migrator t=2025-07-27T02:26:26.279898071Z level=info msg="Executing migration" id="Convert existing annotations from seconds to milliseconds"
logger=migrator t=2025-07-27T02:26:26.279938951Z level=debug msg="Executing sql migration" id="Convert existing annotations from seconds to milliseconds" sql="UPDATE annotation SET epoch = (epoch*1000) where epoch < 9999999999"
logger=migrator t=2025-07-27T02:26:26.280311578Z level=info msg="Migration successfully executed" id="Convert existing annotations from seconds to milliseconds" duration=450.798µs
logger=migrator t=2025-07-27T02:26:26.298736937Z level=info msg="Executing migration" id="Add epoch_end column"
logger=migrator t=2025-07-27T02:26:26.298753998Z level=debug msg="Executing sql migration" id="Add epoch_end column" sql="alter table `annotation` ADD COLUMN `epoch_end` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:26.300963354Z level=info msg="Migration successfully executed" id="Add epoch_end column" duration=2.224056ms
logger=migrator t=2025-07-27T02:26:26.31967441Z level=info msg="Executing migration" id="Add index for epoch_end"
logger=migrator t=2025-07-27T02:26:26.319689153Z level=debug msg="Executing migration condition SQL" id="Add index for epoch_end" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_epoch_epoch_end]"
logger=migrator t=2025-07-27T02:26:26.319924741Z level=debug msg="Executing sql migration" id="Add index for epoch_end" sql="CREATE INDEX `IDX_annotation_org_id_epoch_epoch_end` ON `annotation` (`org_id`,`epoch`,`epoch_end`);"
logger=migrator t=2025-07-27T02:26:26.320261665Z level=info msg="Migration successfully executed" id="Add index for epoch_end" duration=587.23µs
logger=migrator t=2025-07-27T02:26:26.340165918Z level=info msg="Executing migration" id="Make epoch_end the same as epoch"
logger=migrator t=2025-07-27T02:26:26.340211311Z level=debug msg="Executing sql migration" id="Make epoch_end the same as epoch" sql="UPDATE annotation SET epoch_end = epoch"
logger=migrator t=2025-07-27T02:26:26.340519787Z level=info msg="Migration successfully executed" id="Make epoch_end the same as epoch" duration=357.254µs
logger=migrator t=2025-07-27T02:26:26.359013964Z level=info msg="Executing migration" id="Move region to single row"
logger=migrator t=2025-07-27T02:26:26.359028337Z level=debug msg="Executing code migration" id="Move region to single row"
logger=migrator t=2025-07-27T02:26:26.359263467Z level=info msg="Migration successfully executed" id="Move region to single row" duration=254.265µs
logger=migrator t=2025-07-27T02:26:26.378029213Z level=info msg="Executing migration" id="Remove index org_id_epoch from annotation table"
logger=migrator t=2025-07-27T02:26:26.378070786Z level=debug msg="Executing migration condition SQL" id="Remove index org_id_epoch from annotation table" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_epoch]"
logger=migrator t=2025-07-27T02:26:26.378558557Z level=debug msg="Executing sql migration" id="Remove index org_id_epoch from annotation table" sql="DROP INDEX `IDX_annotation_org_id_epoch`"
logger=migrator t=2025-07-27T02:26:26.379346439Z level=info msg="Migration successfully executed" id="Remove index org_id_epoch from annotation table" duration=1.32062ms
logger=migrator t=2025-07-27T02:26:26.398056116Z level=info msg="Executing migration" id="Remove index org_id_dashboard_id_panel_id_epoch from annotation table"
logger=migrator t=2025-07-27T02:26:26.398070016Z level=debug msg="Executing migration condition SQL" id="Remove index org_id_dashboard_id_panel_id_epoch from annotation table" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_dashboard_id_panel_id_epoch]"
logger=migrator t=2025-07-27T02:26:26.398281029Z level=debug msg="Executing sql migration" id="Remove index org_id_dashboard_id_panel_id_epoch from annotation table" sql="DROP INDEX `IDX_annotation_org_id_dashboard_id_panel_id_epoch`"
logger=migrator t=2025-07-27T02:26:26.398586009Z level=info msg="Migration successfully executed" id="Remove index org_id_dashboard_id_panel_id_epoch from annotation table" duration=530.754µs
logger=migrator t=2025-07-27T02:26:26.417994449Z level=info msg="Executing migration" id="Add index for org_id_dashboard_id_epoch_end_epoch on annotation table"
logger=migrator t=2025-07-27T02:26:26.418022172Z level=debug msg="Executing migration condition SQL" id="Add index for org_id_dashboard_id_epoch_end_epoch on annotation table" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_dashboard_id_epoch_end_epoch]"
logger=migrator t=2025-07-27T02:26:26.418496567Z level=debug msg="Executing sql migration" id="Add index for org_id_dashboard_id_epoch_end_epoch on annotation table" sql="CREATE INDEX `IDX_annotation_org_id_dashboard_id_epoch_end_epoch` ON `annotation` (`org_id`,`dashboard_id`,`epoch_end`,`epoch`);"
logger=migrator t=2025-07-27T02:26:26.419409106Z level=info msg="Migration successfully executed" id="Add index for org_id_dashboard_id_epoch_end_epoch on annotation table" duration=1.425584ms
logger=migrator t=2025-07-27T02:26:26.43900291Z level=info msg="Executing migration" id="Add index for org_id_epoch_end_epoch on annotation table"
logger=migrator t=2025-07-27T02:26:26.439028163Z level=debug msg="Executing migration condition SQL" id="Add index for org_id_epoch_end_epoch on annotation table" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_epoch_end_epoch]"
logger=migrator t=2025-07-27T02:26:26.43953357Z level=debug msg="Executing sql migration" id="Add index for org_id_epoch_end_epoch on annotation table" sql="CREATE INDEX `IDX_annotation_org_id_epoch_end_epoch` ON `annotation` (`org_id`,`epoch_end`,`epoch`);"
logger=migrator t=2025-07-27T02:26:26.440330126Z level=info msg="Migration successfully executed" id="Add index for org_id_epoch_end_epoch on annotation table" duration=1.327239ms
logger=migrator t=2025-07-27T02:26:26.460630403Z level=info msg="Executing migration" id="Remove index org_id_epoch_epoch_end from annotation table"
logger=migrator t=2025-07-27T02:26:26.460670111Z level=debug msg="Executing migration condition SQL" id="Remove index org_id_epoch_epoch_end from annotation table" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_org_id_epoch_epoch_end]"
logger=migrator t=2025-07-27T02:26:26.461252369Z level=debug msg="Executing sql migration" id="Remove index org_id_epoch_epoch_end from annotation table" sql="DROP INDEX `IDX_annotation_org_id_epoch_epoch_end`"
logger=migrator t=2025-07-27T02:26:26.462113307Z level=info msg="Migration successfully executed" id="Remove index org_id_epoch_epoch_end from annotation table" duration=1.48523ms
logger=migrator t=2025-07-27T02:26:26.493110624Z level=info msg="Executing migration" id="Add index for alert_id on annotation table"
logger=migrator t=2025-07-27T02:26:26.493146128Z level=debug msg="Executing migration condition SQL" id="Add index for alert_id on annotation table" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[annotation IDX_annotation_alert_id]"
logger=migrator t=2025-07-27T02:26:26.49373679Z level=debug msg="Executing sql migration" id="Add index for alert_id on annotation table" sql="CREATE INDEX `IDX_annotation_alert_id` ON `annotation` (`alert_id`);"
logger=migrator t=2025-07-27T02:26:26.494603034Z level=info msg="Migration successfully executed" id="Add index for alert_id on annotation table" duration=1.494588ms
logger=migrator t=2025-07-27T02:26:26.514173955Z level=info msg="Executing migration" id="Increase tags column to length 4096"
logger=migrator t=2025-07-27T02:26:26.5142041Z level=debug msg="Executing sql migration" id="Increase tags column to length 4096" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:26.514309297Z level=info msg="Migration successfully executed" id="Increase tags column to length 4096" duration=161.471µs
logger=migrator t=2025-07-27T02:26:26.533037887Z level=info msg="Executing migration" id="create test_data table"
logger=migrator t=2025-07-27T02:26:26.533051699Z level=debug msg="Executing sql migration" id="create test_data table" sql="CREATE TABLE IF NOT EXISTS `test_data` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `metric1` TEXT NULL\n, `metric2` TEXT NULL\n, `value_big_int` INTEGER NULL\n, `value_double` REAL NULL\n, `value_float` REAL NULL\n, `value_int` INTEGER NULL\n, `time_epoch` INTEGER NOT NULL\n, `time_date_time` DATETIME NOT NULL\n, `time_time_stamp` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:26.533513718Z level=info msg="Migration successfully executed" id="create test_data table" duration=476.397µs
logger=migrator t=2025-07-27T02:26:26.553765551Z level=info msg="Executing migration" id="create dashboard_version table v1"
logger=migrator t=2025-07-27T02:26:26.553810761Z level=debug msg="Executing sql migration" id="create dashboard_version table v1" sql="CREATE TABLE IF NOT EXISTS `dashboard_version` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `dashboard_id` INTEGER NOT NULL\n, `parent_version` INTEGER NOT NULL\n, `restored_from` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `created_by` INTEGER NOT NULL\n, `message` TEXT NOT NULL\n, `data` TEXT NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:26.554976163Z level=info msg="Migration successfully executed" id="create dashboard_version table v1" duration=1.21149ms
logger=migrator t=2025-07-27T02:26:26.574982861Z level=info msg="Executing migration" id="add index dashboard_version.dashboard_id"
logger=migrator t=2025-07-27T02:26:26.575012511Z level=debug msg="Executing migration condition SQL" id="add index dashboard_version.dashboard_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_version IDX_dashboard_version_dashboard_id]"
logger=migrator t=2025-07-27T02:26:26.575503041Z level=debug msg="Executing sql migration" id="add index dashboard_version.dashboard_id" sql="CREATE INDEX `IDX_dashboard_version_dashboard_id` ON `dashboard_version` (`dashboard_id`);"
logger=migrator t=2025-07-27T02:26:26.576308395Z level=info msg="Migration successfully executed" id="add index dashboard_version.dashboard_id" duration=1.327558ms
logger=migrator t=2025-07-27T02:26:26.595980635Z level=info msg="Executing migration" id="add unique index dashboard_version.dashboard_id and dashboard_version.version"
logger=migrator t=2025-07-27T02:26:26.596012116Z level=debug msg="Executing migration condition SQL" id="add unique index dashboard_version.dashboard_id and dashboard_version.version" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_version UQE_dashboard_version_dashboard_id_version]"
logger=migrator t=2025-07-27T02:26:26.596529066Z level=debug msg="Executing sql migration" id="add unique index dashboard_version.dashboard_id and dashboard_version.version" sql="CREATE UNIQUE INDEX `UQE_dashboard_version_dashboard_id_version` ON `dashboard_version` (`dashboard_id`,`version`);"
logger=migrator t=2025-07-27T02:26:26.597307222Z level=info msg="Migration successfully executed" id="add unique index dashboard_version.dashboard_id and dashboard_version.version" duration=1.329884ms
logger=migrator t=2025-07-27T02:26:26.617263707Z level=info msg="Executing migration" id="Set dashboard version to 1 where 0"
logger=migrator t=2025-07-27T02:26:26.617305841Z level=debug msg="Executing sql migration" id="Set dashboard version to 1 where 0" sql="UPDATE dashboard SET version = 1 WHERE version = 0"
logger=migrator t=2025-07-27T02:26:26.617595042Z level=info msg="Migration successfully executed" id="Set dashboard version to 1 where 0" duration=332.626µs
logger=migrator t=2025-07-27T02:26:26.636166263Z level=info msg="Executing migration" id="save existing dashboard data in dashboard_version table v1"
logger=migrator t=2025-07-27T02:26:26.636203329Z level=debug msg="Executing sql migration" id="save existing dashboard data in dashboard_version table v1" sql="INSERT INTO dashboard_version\n(\n\tdashboard_id,\n\tversion,\n\tparent_version,\n\trestored_from,\n\tcreated,\n\tcreated_by,\n\tmessage,\n\tdata\n)\nSELECT\n\tdashboard.id,\n\tdashboard.version,\n\tdashboard.version,\n\tdashboard.version,\n\tdashboard.updated,\n\tCOALESCE(dashboard.updated_by, -1),\n\t'',\n\tdashboard.data\nFROM dashboard;"
logger=migrator t=2025-07-27T02:26:26.63682058Z level=info msg="Migration successfully executed" id="save existing dashboard data in dashboard_version table v1" duration=658.125µs
logger=migrator t=2025-07-27T02:26:26.677470435Z level=info msg="Executing migration" id="alter dashboard_version.data to mediumtext v1"
logger=migrator t=2025-07-27T02:26:26.677505062Z level=debug msg="Executing sql migration" id="alter dashboard_version.data to mediumtext v1" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:26.677612879Z level=info msg="Migration successfully executed" id="alter dashboard_version.data to mediumtext v1" duration=146.181µs
logger=migrator t=2025-07-27T02:26:26.708375314Z level=info msg="Executing migration" id="create team table"
logger=migrator t=2025-07-27T02:26:26.708415784Z level=debug msg="Executing sql migration" id="create team table" sql="CREATE TABLE IF NOT EXISTS `team` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `name` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:26.709630435Z level=info msg="Migration successfully executed" id="create team table" duration=1.260822ms
logger=migrator t=2025-07-27T02:26:26.729651515Z level=info msg="Executing migration" id="add index team.org_id"
logger=migrator t=2025-07-27T02:26:26.729682452Z level=debug msg="Executing migration condition SQL" id="add index team.org_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[team IDX_team_org_id]"
logger=migrator t=2025-07-27T02:26:26.730099058Z level=debug msg="Executing sql migration" id="add index team.org_id" sql="CREATE INDEX `IDX_team_org_id` ON `team` (`org_id`);"
logger=migrator t=2025-07-27T02:26:26.730482415Z level=info msg="Migration successfully executed" id="add index team.org_id" duration=851.023µs
logger=migrator t=2025-07-27T02:26:26.750033812Z level=info msg="Executing migration" id="add unique index team_org_id_name"
logger=migrator t=2025-07-27T02:26:26.750049058Z level=debug msg="Executing migration condition SQL" id="add unique index team_org_id_name" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[team UQE_team_org_id_name]"
logger=migrator t=2025-07-27T02:26:26.750319854Z level=debug msg="Executing sql migration" id="add unique index team_org_id_name" sql="CREATE UNIQUE INDEX `UQE_team_org_id_name` ON `team` (`org_id`,`name`);"
logger=migrator t=2025-07-27T02:26:26.750666277Z level=info msg="Migration successfully executed" id="add unique index team_org_id_name" duration=633.672µs
logger=migrator t=2025-07-27T02:26:26.781843892Z level=info msg="Executing migration" id="Add column uid in team"
logger=migrator t=2025-07-27T02:26:26.781904202Z level=debug msg="Executing sql migration" id="Add column uid in team" sql="alter table `team` ADD COLUMN `uid` TEXT NULL "
logger=migrator t=2025-07-27T02:26:26.788181695Z level=info msg="Migration successfully executed" id="Add column uid in team" duration=6.337812ms
logger=migrator t=2025-07-27T02:26:26.818165289Z level=info msg="Executing migration" id="Update uid column values in team"
logger=migrator t=2025-07-27T02:26:26.81819331Z level=debug msg="Executing sql migration" id="Update uid column values in team" sql="UPDATE team SET uid=printf('t%09d',id) WHERE uid IS NULL;"
logger=migrator t=2025-07-27T02:26:26.818501138Z level=info msg="Migration successfully executed" id="Update uid column values in team" duration=341.811µs
logger=migrator t=2025-07-27T02:26:26.837223231Z level=info msg="Executing migration" id="Add unique index team_org_id_uid"
logger=migrator t=2025-07-27T02:26:26.83724267Z level=debug msg="Executing migration condition SQL" id="Add unique index team_org_id_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[team UQE_team_org_id_uid]"
logger=migrator t=2025-07-27T02:26:26.83747823Z level=debug msg="Executing sql migration" id="Add unique index team_org_id_uid" sql="CREATE UNIQUE INDEX `UQE_team_org_id_uid` ON `team` (`org_id`,`uid`);"
logger=migrator t=2025-07-27T02:26:26.837818486Z level=info msg="Migration successfully executed" id="Add unique index team_org_id_uid" duration=594.437µs
logger=migrator t=2025-07-27T02:26:26.856556016Z level=info msg="Executing migration" id="create team member table"
logger=migrator t=2025-07-27T02:26:26.856575145Z level=debug msg="Executing sql migration" id="create team member table" sql="CREATE TABLE IF NOT EXISTS `team_member` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `team_id` INTEGER NOT NULL\n, `user_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:26.857027254Z level=info msg="Migration successfully executed" id="create team member table" duration=465.684µs
logger=migrator t=2025-07-27T02:26:26.879540272Z level=info msg="Executing migration" id="add index team_member.org_id"
logger=migrator t=2025-07-27T02:26:26.879554267Z level=debug msg="Executing migration condition SQL" id="add index team_member.org_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[team_member IDX_team_member_org_id]"
logger=migrator t=2025-07-27T02:26:26.879791163Z level=debug msg="Executing sql migration" id="add index team_member.org_id" sql="CREATE INDEX `IDX_team_member_org_id` ON `team_member` (`org_id`);"
logger=migrator t=2025-07-27T02:26:26.880124812Z level=info msg="Migration successfully executed" id="add index team_member.org_id" duration=586.485µs
logger=migrator t=2025-07-27T02:26:26.899049018Z level=info msg="Executing migration" id="add unique index team_member_org_id_team_id_user_id"
logger=migrator t=2025-07-27T02:26:26.899069076Z level=debug msg="Executing migration condition SQL" id="add unique index team_member_org_id_team_id_user_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[team_member UQE_team_member_org_id_team_id_user_id]"
logger=migrator t=2025-07-27T02:26:26.899332559Z level=debug msg="Executing sql migration" id="add unique index team_member_org_id_team_id_user_id" sql="CREATE UNIQUE INDEX `UQE_team_member_org_id_team_id_user_id` ON `team_member` (`org_id`,`team_id`,`user_id`);"
logger=migrator t=2025-07-27T02:26:26.89970258Z level=info msg="Migration successfully executed" id="add unique index team_member_org_id_team_id_user_id" duration=653.734µs
logger=migrator t=2025-07-27T02:26:26.918577724Z level=info msg="Executing migration" id="add index team_member.team_id"
logger=migrator t=2025-07-27T02:26:26.918593732Z level=debug msg="Executing migration condition SQL" id="add index team_member.team_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[team_member IDX_team_member_team_id]"
logger=migrator t=2025-07-27T02:26:26.918839336Z level=debug msg="Executing sql migration" id="add index team_member.team_id" sql="CREATE INDEX `IDX_team_member_team_id` ON `team_member` (`team_id`);"
logger=migrator t=2025-07-27T02:26:26.919177728Z level=info msg="Migration successfully executed" id="add index team_member.team_id" duration=600.981µs
logger=migrator t=2025-07-27T02:26:26.938272696Z level=info msg="Executing migration" id="Add column email to team table"
logger=migrator t=2025-07-27T02:26:26.938285469Z level=debug msg="Executing sql migration" id="Add column email to team table" sql="alter table `team` ADD COLUMN `email` TEXT NULL "
logger=migrator t=2025-07-27T02:26:26.940456205Z level=info msg="Migration successfully executed" id="Add column email to team table" duration=2.184527ms
logger=migrator t=2025-07-27T02:26:26.960874094Z level=info msg="Executing migration" id="Add column external to team_member table"
logger=migrator t=2025-07-27T02:26:26.960907577Z level=debug msg="Executing sql migration" id="Add column external to team_member table" sql="alter table `team_member` ADD COLUMN `external` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:26.965773037Z level=info msg="Migration successfully executed" id="Add column external to team_member table" duration=4.932893ms
logger=migrator t=2025-07-27T02:26:26.985927135Z level=info msg="Executing migration" id="Add column permission to team_member table"
logger=migrator t=2025-07-27T02:26:26.985961677Z level=debug msg="Executing sql migration" id="Add column permission to team_member table" sql="alter table `team_member` ADD COLUMN `permission` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:26.990846798Z level=info msg="Migration successfully executed" id="Add column permission to team_member table" duration=4.921974ms
logger=migrator t=2025-07-27T02:26:27.021461217Z level=info msg="Executing migration" id="create dashboard acl table"
logger=migrator t=2025-07-27T02:26:27.021503159Z level=debug msg="Executing sql migration" id="create dashboard acl table" sql="CREATE TABLE IF NOT EXISTS `dashboard_acl` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `dashboard_id` INTEGER NOT NULL\n, `user_id` INTEGER NULL\n, `team_id` INTEGER NULL\n, `permission` INTEGER NOT NULL DEFAULT 4\n, `role` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:27.022954528Z level=info msg="Migration successfully executed" id="create dashboard acl table" duration=1.493976ms
logger=migrator t=2025-07-27T02:26:27.043667587Z level=info msg="Executing migration" id="add index dashboard_acl_dashboard_id"
logger=migrator t=2025-07-27T02:26:27.043709952Z level=debug msg="Executing migration condition SQL" id="add index dashboard_acl_dashboard_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_acl IDX_dashboard_acl_dashboard_id]"
logger=migrator t=2025-07-27T02:26:27.044221796Z level=debug msg="Executing sql migration" id="add index dashboard_acl_dashboard_id" sql="CREATE INDEX `IDX_dashboard_acl_dashboard_id` ON `dashboard_acl` (`dashboard_id`);"
logger=migrator t=2025-07-27T02:26:27.045023436Z level=info msg="Migration successfully executed" id="add index dashboard_acl_dashboard_id" duration=1.356435ms
logger=migrator t=2025-07-27T02:26:27.065880246Z level=info msg="Executing migration" id="add unique index dashboard_acl_dashboard_id_user_id"
logger=migrator t=2025-07-27T02:26:27.065918188Z level=debug msg="Executing migration condition SQL" id="add unique index dashboard_acl_dashboard_id_user_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_acl UQE_dashboard_acl_dashboard_id_user_id]"
logger=migrator t=2025-07-27T02:26:27.066451924Z level=debug msg="Executing sql migration" id="add unique index dashboard_acl_dashboard_id_user_id" sql="CREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_user_id` ON `dashboard_acl` (`dashboard_id`,`user_id`);"
logger=migrator t=2025-07-27T02:26:27.067540166Z level=info msg="Migration successfully executed" id="add unique index dashboard_acl_dashboard_id_user_id" duration=1.69201ms
logger=migrator t=2025-07-27T02:26:27.088971547Z level=info msg="Executing migration" id="add unique index dashboard_acl_dashboard_id_team_id"
logger=migrator t=2025-07-27T02:26:27.089008156Z level=debug msg="Executing migration condition SQL" id="add unique index dashboard_acl_dashboard_id_team_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_acl UQE_dashboard_acl_dashboard_id_team_id]"
logger=migrator t=2025-07-27T02:26:27.089581958Z level=debug msg="Executing sql migration" id="add unique index dashboard_acl_dashboard_id_team_id" sql="CREATE UNIQUE INDEX `UQE_dashboard_acl_dashboard_id_team_id` ON `dashboard_acl` (`dashboard_id`,`team_id`);"
logger=migrator t=2025-07-27T02:26:27.090499927Z level=info msg="Migration successfully executed" id="add unique index dashboard_acl_dashboard_id_team_id" duration=1.530098ms
logger=migrator t=2025-07-27T02:26:27.111494338Z level=info msg="Executing migration" id="add index dashboard_acl_user_id"
logger=migrator t=2025-07-27T02:26:27.111522048Z level=debug msg="Executing migration condition SQL" id="add index dashboard_acl_user_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_acl IDX_dashboard_acl_user_id]"
logger=migrator t=2025-07-27T02:26:27.112056416Z level=debug msg="Executing sql migration" id="add index dashboard_acl_user_id" sql="CREATE INDEX `IDX_dashboard_acl_user_id` ON `dashboard_acl` (`user_id`);"
logger=migrator t=2025-07-27T02:26:27.112880206Z level=info msg="Migration successfully executed" id="add index dashboard_acl_user_id" duration=1.385531ms
logger=migrator t=2025-07-27T02:26:27.133306759Z level=info msg="Executing migration" id="add index dashboard_acl_team_id"
logger=migrator t=2025-07-27T02:26:27.13332308Z level=debug msg="Executing migration condition SQL" id="add index dashboard_acl_team_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_acl IDX_dashboard_acl_team_id]"
logger=migrator t=2025-07-27T02:26:27.133582996Z level=debug msg="Executing sql migration" id="add index dashboard_acl_team_id" sql="CREATE INDEX `IDX_dashboard_acl_team_id` ON `dashboard_acl` (`team_id`);"
logger=migrator t=2025-07-27T02:26:27.133923735Z level=info msg="Migration successfully executed" id="add index dashboard_acl_team_id" duration=618.409µs
logger=migrator t=2025-07-27T02:26:27.175828801Z level=info msg="Executing migration" id="add index dashboard_acl_org_id_role"
logger=migrator t=2025-07-27T02:26:27.175886868Z level=debug msg="Executing migration condition SQL" id="add index dashboard_acl_org_id_role" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_acl IDX_dashboard_acl_org_id_role]"
logger=migrator t=2025-07-27T02:26:27.176530601Z level=debug msg="Executing sql migration" id="add index dashboard_acl_org_id_role" sql="CREATE INDEX `IDX_dashboard_acl_org_id_role` ON `dashboard_acl` (`org_id`,`role`);"
logger=migrator t=2025-07-27T02:26:27.177454007Z level=info msg="Migration successfully executed" id="add index dashboard_acl_org_id_role" duration=1.626735ms
logger=migrator t=2025-07-27T02:26:27.208274476Z level=info msg="Executing migration" id="add index dashboard_permission"
logger=migrator t=2025-07-27T02:26:27.208312446Z level=debug msg="Executing migration condition SQL" id="add index dashboard_permission" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_acl IDX_dashboard_acl_permission]"
logger=migrator t=2025-07-27T02:26:27.20893257Z level=debug msg="Executing sql migration" id="add index dashboard_permission" sql="CREATE INDEX `IDX_dashboard_acl_permission` ON `dashboard_acl` (`permission`);"
logger=migrator t=2025-07-27T02:26:27.209813719Z level=info msg="Migration successfully executed" id="add index dashboard_permission" duration=1.540441ms
logger=migrator t=2025-07-27T02:26:27.232674399Z level=info msg="Executing migration" id="save default acl rules in dashboard_acl table"
logger=migrator t=2025-07-27T02:26:27.232706169Z level=debug msg="Executing sql migration" id="save default acl rules in dashboard_acl table" sql="\nINSERT INTO dashboard_acl\n\t(\n\t\torg_id,\n\t\tdashboard_id,\n\t\tpermission,\n\t\trole,\n\t\tcreated,\n\t\tupdated\n\t)\n\tVALUES\n\t\t(-1,-1, 1,'Viewer','2017-06-20','2017-06-20'),\n\t\t(-1,-1, 2,'Editor','2017-06-20','2017-06-20')\n\t"
logger=migrator t=2025-07-27T02:26:27.233639869Z level=info msg="Migration successfully executed" id="save default acl rules in dashboard_acl table" duration=965.973µs
logger=migrator t=2025-07-27T02:26:27.253551307Z level=info msg="Executing migration" id="delete acl rules for deleted dashboards and folders"
logger=migrator t=2025-07-27T02:26:27.253572597Z level=debug msg="Executing sql migration" id="delete acl rules for deleted dashboards and folders" sql="DELETE FROM dashboard_acl WHERE dashboard_id NOT IN (SELECT id FROM dashboard) AND dashboard_id != -1"
logger=migrator t=2025-07-27T02:26:27.253812543Z level=info msg="Migration successfully executed" id="delete acl rules for deleted dashboards and folders" duration=263.228µs
logger=migrator t=2025-07-27T02:26:27.271838727Z level=info msg="Executing migration" id="create tag table"
logger=migrator t=2025-07-27T02:26:27.271868862Z level=debug msg="Executing sql migration" id="create tag table" sql="CREATE TABLE IF NOT EXISTS `tag` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `key` TEXT NOT NULL\n, `value` TEXT NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:27.272356722Z level=info msg="Migration successfully executed" id="create tag table" duration=518.928µs
logger=migrator t=2025-07-27T02:26:27.29129048Z level=info msg="Executing migration" id="add index tag.key_value"
logger=migrator t=2025-07-27T02:26:27.291309405Z level=debug msg="Executing migration condition SQL" id="add index tag.key_value" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[tag UQE_tag_key_value]"
logger=migrator t=2025-07-27T02:26:27.291597256Z level=debug msg="Executing sql migration" id="add index tag.key_value" sql="CREATE UNIQUE INDEX `UQE_tag_key_value` ON `tag` (`key`,`value`);"
logger=migrator t=2025-07-27T02:26:27.29197223Z level=info msg="Migration successfully executed" id="add index tag.key_value" duration=682.905µs
logger=migrator t=2025-07-27T02:26:27.311416723Z level=info msg="Executing migration" id="create login attempt table"
logger=migrator t=2025-07-27T02:26:27.311460799Z level=debug msg="Executing sql migration" id="create login attempt table" sql="CREATE TABLE IF NOT EXISTS `login_attempt` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `username` TEXT NOT NULL\n, `ip_address` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:27.311969622Z level=info msg="Migration successfully executed" id="create login attempt table" duration=552.034µs
logger=migrator t=2025-07-27T02:26:27.331102865Z level=info msg="Executing migration" id="add index login_attempt.username"
logger=migrator t=2025-07-27T02:26:27.331142502Z level=debug msg="Executing migration condition SQL" id="add index login_attempt.username" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[login_attempt IDX_login_attempt_username]"
logger=migrator t=2025-07-27T02:26:27.331429329Z level=debug msg="Executing sql migration" id="add index login_attempt.username" sql="CREATE INDEX `IDX_login_attempt_username` ON `login_attempt` (`username`);"
logger=migrator t=2025-07-27T02:26:27.331789192Z level=info msg="Migration successfully executed" id="add index login_attempt.username" duration=689.505µs
logger=migrator t=2025-07-27T02:26:27.35071276Z level=info msg="Executing migration" id="drop index IDX_login_attempt_username - v1"
logger=migrator t=2025-07-27T02:26:27.350732299Z level=debug msg="Executing migration condition SQL" id="drop index IDX_login_attempt_username - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[login_attempt IDX_login_attempt_username]"
logger=migrator t=2025-07-27T02:26:27.351007435Z level=debug msg="Executing sql migration" id="drop index IDX_login_attempt_username - v1" sql="DROP INDEX `IDX_login_attempt_username`"
logger=migrator t=2025-07-27T02:26:27.351365154Z level=info msg="Migration successfully executed" id="drop index IDX_login_attempt_username - v1" duration=655.275µs
logger=migrator t=2025-07-27T02:26:27.370057139Z level=info msg="Executing migration" id="Rename table login_attempt to login_attempt_tmp_qwerty - v1"
logger=migrator t=2025-07-27T02:26:27.370073247Z level=debug msg="Executing sql migration" id="Rename table login_attempt to login_attempt_tmp_qwerty - v1" sql="ALTER TABLE `login_attempt` RENAME TO `login_attempt_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:27.380175545Z level=info msg="Migration successfully executed" id="Rename table login_attempt to login_attempt_tmp_qwerty - v1" duration=10.117486ms
logger=migrator t=2025-07-27T02:26:27.399001749Z level=info msg="Executing migration" id="create login_attempt v2"
logger=migrator t=2025-07-27T02:26:27.399019674Z level=debug msg="Executing sql migration" id="create login_attempt v2" sql="CREATE TABLE IF NOT EXISTS `login_attempt` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `username` TEXT NOT NULL\n, `ip_address` TEXT NOT NULL\n, `created` INTEGER NOT NULL DEFAULT 0\n);"
logger=migrator t=2025-07-27T02:26:27.399597316Z level=info msg="Migration successfully executed" id="create login_attempt v2" duration=594.892µs
logger=migrator t=2025-07-27T02:26:27.418047645Z level=info msg="Executing migration" id="create index IDX_login_attempt_username - v2"
logger=migrator t=2025-07-27T02:26:27.41806949Z level=debug msg="Executing migration condition SQL" id="create index IDX_login_attempt_username - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[login_attempt IDX_login_attempt_username]"
logger=migrator t=2025-07-27T02:26:27.418335375Z level=debug msg="Executing sql migration" id="create index IDX_login_attempt_username - v2" sql="CREATE INDEX `IDX_login_attempt_username` ON `login_attempt` (`username`);"
logger=migrator t=2025-07-27T02:26:27.418669353Z level=info msg="Migration successfully executed" id="create index IDX_login_attempt_username - v2" duration=623.238µs
logger=migrator t=2025-07-27T02:26:27.437299445Z level=info msg="Executing migration" id="copy login_attempt v1 to v2"
logger=migrator t=2025-07-27T02:26:27.437319864Z level=debug msg="Executing sql migration" id="copy login_attempt v1 to v2" sql="INSERT INTO `login_attempt` (`id`\n, `username`\n, `ip_address`) SELECT `id`\n, `username`\n, `ip_address` FROM `login_attempt_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:27.437576478Z level=info msg="Migration successfully executed" id="copy login_attempt v1 to v2" duration=278.502µs
logger=migrator t=2025-07-27T02:26:27.455467416Z level=info msg="Executing migration" id="drop login_attempt_tmp_qwerty"
logger=migrator t=2025-07-27T02:26:27.455489185Z level=debug msg="Executing sql migration" id="drop login_attempt_tmp_qwerty" sql="DROP TABLE IF EXISTS `login_attempt_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:27.455982894Z level=info msg="Migration successfully executed" id="drop login_attempt_tmp_qwerty" duration=515.281µs
logger=migrator t=2025-07-27T02:26:27.474452512Z level=info msg="Executing migration" id="create user auth table"
logger=migrator t=2025-07-27T02:26:27.474469914Z level=debug msg="Executing sql migration" id="create user auth table" sql="CREATE TABLE IF NOT EXISTS `user_auth` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `user_id` INTEGER NOT NULL\n, `auth_module` TEXT NOT NULL\n, `auth_id` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:27.474973201Z level=info msg="Migration successfully executed" id="create user auth table" duration=522.542µs
logger=migrator t=2025-07-27T02:26:27.494151218Z level=info msg="Executing migration" id="create index IDX_user_auth_auth_module_auth_id - v1"
logger=migrator t=2025-07-27T02:26:27.494180802Z level=debug msg="Executing migration condition SQL" id="create index IDX_user_auth_auth_module_auth_id - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user_auth IDX_user_auth_auth_module_auth_id]"
logger=migrator t=2025-07-27T02:26:27.49444579Z level=debug msg="Executing sql migration" id="create index IDX_user_auth_auth_module_auth_id - v1" sql="CREATE INDEX `IDX_user_auth_auth_module_auth_id` ON `user_auth` (`auth_module`,`auth_id`);"
logger=migrator t=2025-07-27T02:26:27.49479496Z level=info msg="Migration successfully executed" id="create index IDX_user_auth_auth_module_auth_id - v1" duration=644.765µs
logger=migrator t=2025-07-27T02:26:27.513679299Z level=info msg="Executing migration" id="alter user_auth.auth_id to length 190"
logger=migrator t=2025-07-27T02:26:27.513694112Z level=debug msg="Executing sql migration" id="alter user_auth.auth_id to length 190" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:27.513755024Z level=info msg="Migration successfully executed" id="alter user_auth.auth_id to length 190" duration=84.886µs
logger=migrator t=2025-07-27T02:26:27.532029205Z level=info msg="Executing migration" id="Add OAuth access token to user_auth"
logger=migrator t=2025-07-27T02:26:27.532042321Z level=debug msg="Executing sql migration" id="Add OAuth access token to user_auth" sql="alter table `user_auth` ADD COLUMN `o_auth_access_token` TEXT NULL "
logger=migrator t=2025-07-27T02:26:27.534435147Z level=info msg="Migration successfully executed" id="Add OAuth access token to user_auth" duration=2.406364ms
logger=migrator t=2025-07-27T02:26:27.554100112Z level=info msg="Executing migration" id="Add OAuth refresh token to user_auth"
logger=migrator t=2025-07-27T02:26:27.554130225Z level=debug msg="Executing sql migration" id="Add OAuth refresh token to user_auth" sql="alter table `user_auth` ADD COLUMN `o_auth_refresh_token` TEXT NULL "
logger=migrator t=2025-07-27T02:26:27.557400503Z level=info msg="Migration successfully executed" id="Add OAuth refresh token to user_auth" duration=3.302475ms
logger=migrator t=2025-07-27T02:26:27.587214026Z level=info msg="Executing migration" id="Add OAuth token type to user_auth"
logger=migrator t=2025-07-27T02:26:27.587251836Z level=debug msg="Executing sql migration" id="Add OAuth token type to user_auth" sql="alter table `user_auth` ADD COLUMN `o_auth_token_type` TEXT NULL "
logger=migrator t=2025-07-27T02:26:27.592974725Z level=info msg="Migration successfully executed" id="Add OAuth token type to user_auth" duration=5.764883ms
logger=migrator t=2025-07-27T02:26:27.613632162Z level=info msg="Executing migration" id="Add OAuth expiry to user_auth"
logger=migrator t=2025-07-27T02:26:27.613669548Z level=debug msg="Executing sql migration" id="Add OAuth expiry to user_auth" sql="alter table `user_auth` ADD COLUMN `o_auth_expiry` DATETIME NULL "
logger=migrator t=2025-07-27T02:26:27.618563907Z level=info msg="Migration successfully executed" id="Add OAuth expiry to user_auth" duration=4.936581ms
logger=migrator t=2025-07-27T02:26:27.637386757Z level=info msg="Executing migration" id="Add index to user_id column in user_auth"
logger=migrator t=2025-07-27T02:26:27.63741844Z level=debug msg="Executing migration condition SQL" id="Add index to user_id column in user_auth" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user_auth IDX_user_auth_user_id]"
logger=migrator t=2025-07-27T02:26:27.638016837Z level=debug msg="Executing sql migration" id="Add index to user_id column in user_auth" sql="CREATE INDEX `IDX_user_auth_user_id` ON `user_auth` (`user_id`);"
logger=migrator t=2025-07-27T02:26:27.638922035Z level=info msg="Migration successfully executed" id="Add index to user_id column in user_auth" duration=1.47273ms
logger=migrator t=2025-07-27T02:26:27.658532509Z level=info msg="Executing migration" id="Add OAuth ID token to user_auth"
logger=migrator t=2025-07-27T02:26:27.658547166Z level=debug msg="Executing sql migration" id="Add OAuth ID token to user_auth" sql="alter table `user_auth` ADD COLUMN `o_auth_id_token` TEXT NULL "
logger=migrator t=2025-07-27T02:26:27.660921661Z level=info msg="Migration successfully executed" id="Add OAuth ID token to user_auth" duration=2.386462ms
logger=migrator t=2025-07-27T02:26:27.679246953Z level=info msg="Executing migration" id="create server_lock table"
logger=migrator t=2025-07-27T02:26:27.679301509Z level=debug msg="Executing sql migration" id="create server_lock table" sql="CREATE TABLE IF NOT EXISTS `server_lock` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `operation_uid` TEXT NOT NULL\n, `version` INTEGER NOT NULL\n, `last_execution` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:27.680662992Z level=info msg="Migration successfully executed" id="create server_lock table" duration=1.414487ms
logger=migrator t=2025-07-27T02:26:27.713521108Z level=info msg="Executing migration" id="add index server_lock.operation_uid"
logger=migrator t=2025-07-27T02:26:27.71357435Z level=debug msg="Executing migration condition SQL" id="add index server_lock.operation_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[server_lock UQE_server_lock_operation_uid]"
logger=migrator t=2025-07-27T02:26:27.714261586Z level=debug msg="Executing sql migration" id="add index server_lock.operation_uid" sql="CREATE UNIQUE INDEX `UQE_server_lock_operation_uid` ON `server_lock` (`operation_uid`);"
logger=migrator t=2025-07-27T02:26:27.715291355Z level=info msg="Migration successfully executed" id="add index server_lock.operation_uid" duration=1.772507ms
logger=migrator t=2025-07-27T02:26:27.73566723Z level=info msg="Executing migration" id="create user auth token table"
logger=migrator t=2025-07-27T02:26:27.735709251Z level=debug msg="Executing sql migration" id="create user auth token table" sql="CREATE TABLE IF NOT EXISTS `user_auth_token` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `user_id` INTEGER NOT NULL\n, `auth_token` TEXT NOT NULL\n, `prev_auth_token` TEXT NOT NULL\n, `user_agent` TEXT NOT NULL\n, `client_ip` TEXT NOT NULL\n, `auth_token_seen` INTEGER NOT NULL\n, `seen_at` INTEGER NULL\n, `rotated_at` INTEGER NOT NULL\n, `created_at` INTEGER NOT NULL\n, `updated_at` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:27.73704355Z level=info msg="Migration successfully executed" id="create user auth token table" duration=1.377331ms
logger=migrator t=2025-07-27T02:26:27.758040992Z level=info msg="Executing migration" id="add unique index user_auth_token.auth_token"
logger=migrator t=2025-07-27T02:26:27.758071461Z level=debug msg="Executing migration condition SQL" id="add unique index user_auth_token.auth_token" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user_auth_token UQE_user_auth_token_auth_token]"
logger=migrator t=2025-07-27T02:26:27.758676228Z level=debug msg="Executing sql migration" id="add unique index user_auth_token.auth_token" sql="CREATE UNIQUE INDEX `UQE_user_auth_token_auth_token` ON `user_auth_token` (`auth_token`);"
logger=migrator t=2025-07-27T02:26:27.759658589Z level=info msg="Migration successfully executed" id="add unique index user_auth_token.auth_token" duration=1.622395ms
logger=migrator t=2025-07-27T02:26:27.781292826Z level=info msg="Executing migration" id="add unique index user_auth_token.prev_auth_token"
logger=migrator t=2025-07-27T02:26:27.781335543Z level=debug msg="Executing migration condition SQL" id="add unique index user_auth_token.prev_auth_token" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user_auth_token UQE_user_auth_token_prev_auth_token]"
logger=migrator t=2025-07-27T02:26:27.781926716Z level=debug msg="Executing sql migration" id="add unique index user_auth_token.prev_auth_token" sql="CREATE UNIQUE INDEX `UQE_user_auth_token_prev_auth_token` ON `user_auth_token` (`prev_auth_token`);"
logger=migrator t=2025-07-27T02:26:27.782799468Z level=info msg="Migration successfully executed" id="add unique index user_auth_token.prev_auth_token" duration=1.507167ms
logger=migrator t=2025-07-27T02:26:27.803357987Z level=info msg="Executing migration" id="add index user_auth_token.user_id"
logger=migrator t=2025-07-27T02:26:27.803391134Z level=debug msg="Executing migration condition SQL" id="add index user_auth_token.user_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user_auth_token IDX_user_auth_token_user_id]"
logger=migrator t=2025-07-27T02:26:27.804019499Z level=debug msg="Executing sql migration" id="add index user_auth_token.user_id" sql="CREATE INDEX `IDX_user_auth_token_user_id` ON `user_auth_token` (`user_id`);"
logger=migrator t=2025-07-27T02:26:27.805031552Z level=info msg="Migration successfully executed" id="add index user_auth_token.user_id" duration=1.67769ms
logger=migrator t=2025-07-27T02:26:27.836395589Z level=info msg="Executing migration" id="Add revoked_at to the user auth token"
logger=migrator t=2025-07-27T02:26:27.836430403Z level=debug msg="Executing sql migration" id="Add revoked_at to the user auth token" sql="alter table `user_auth_token` ADD COLUMN `revoked_at` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:27.842057658Z level=info msg="Migration successfully executed" id="Add revoked_at to the user auth token" duration=5.666133ms
logger=migrator t=2025-07-27T02:26:27.862411451Z level=info msg="Executing migration" id="add index user_auth_token.revoked_at"
logger=migrator t=2025-07-27T02:26:27.862446811Z level=debug msg="Executing migration condition SQL" id="add index user_auth_token.revoked_at" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user_auth_token IDX_user_auth_token_revoked_at]"
logger=migrator t=2025-07-27T02:26:27.863169772Z level=debug msg="Executing sql migration" id="add index user_auth_token.revoked_at" sql="CREATE INDEX `IDX_user_auth_token_revoked_at` ON `user_auth_token` (`revoked_at`);"
logger=migrator t=2025-07-27T02:26:27.864238087Z level=info msg="Migration successfully executed" id="add index user_auth_token.revoked_at" duration=1.829278ms
logger=migrator t=2025-07-27T02:26:27.885428273Z level=info msg="Executing migration" id="create cache_data table"
logger=migrator t=2025-07-27T02:26:27.885457987Z level=debug msg="Executing sql migration" id="create cache_data table" sql="CREATE TABLE IF NOT EXISTS `cache_data` (\n`cache_key` TEXT PRIMARY KEY NOT NULL\n, `data` BLOB NOT NULL\n, `expires` INTEGER NOT NULL\n, `created_at` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:27.886682204Z level=info msg="Migration successfully executed" id="create cache_data table" duration=1.255916ms
logger=migrator t=2025-07-27T02:26:27.907498387Z level=info msg="Executing migration" id="add unique index cache_data.cache_key"
logger=migrator t=2025-07-27T02:26:27.907528728Z level=debug msg="Executing migration condition SQL" id="add unique index cache_data.cache_key" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[cache_data UQE_cache_data_cache_key]"
logger=migrator t=2025-07-27T02:26:27.908104379Z level=debug msg="Executing sql migration" id="add unique index cache_data.cache_key" sql="CREATE UNIQUE INDEX `UQE_cache_data_cache_key` ON `cache_data` (`cache_key`);"
logger=migrator t=2025-07-27T02:26:27.908986445Z level=info msg="Migration successfully executed" id="add unique index cache_data.cache_key" duration=1.488447ms
logger=migrator t=2025-07-27T02:26:27.929446987Z level=info msg="Executing migration" id="create short_url table v1"
logger=migrator t=2025-07-27T02:26:27.929514895Z level=debug msg="Executing sql migration" id="create short_url table v1" sql="CREATE TABLE IF NOT EXISTS `short_url` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `uid` TEXT NOT NULL\n, `path` TEXT NOT NULL\n, `created_by` INTEGER NOT NULL\n, `created_at` INTEGER NOT NULL\n, `last_seen_at` INTEGER NULL\n);"
logger=migrator t=2025-07-27T02:26:27.930891928Z level=info msg="Migration successfully executed" id="create short_url table v1" duration=1.446778ms
logger=migrator t=2025-07-27T02:26:27.951954143Z level=info msg="Executing migration" id="add index short_url.org_id-uid"
logger=migrator t=2025-07-27T02:26:27.951991001Z level=debug msg="Executing migration condition SQL" id="add index short_url.org_id-uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[short_url UQE_short_url_org_id_uid]"
logger=migrator t=2025-07-27T02:26:27.952624055Z level=debug msg="Executing sql migration" id="add index short_url.org_id-uid" sql="CREATE UNIQUE INDEX `UQE_short_url_org_id_uid` ON `short_url` (`org_id`,`uid`);"
logger=migrator t=2025-07-27T02:26:27.953555256Z level=info msg="Migration successfully executed" id="add index short_url.org_id-uid" duration=1.602996ms
logger=migrator t=2025-07-27T02:26:27.974609289Z level=info msg="Executing migration" id="alter table short_url alter column created_by type to bigint"
logger=migrator t=2025-07-27T02:26:27.974641627Z level=debug msg="Executing sql migration" id="alter table short_url alter column created_by type to bigint" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:27.974749136Z level=info msg="Migration successfully executed" id="alter table short_url alter column created_by type to bigint" duration=142.19µs
logger=migrator t=2025-07-27T02:26:28.004819835Z level=info msg="Executing migration" id="delete alert_definition table"
logger=migrator t=2025-07-27T02:26:28.004846464Z level=debug msg="Executing sql migration" id="delete alert_definition table" sql="DROP TABLE IF EXISTS `alert_definition`"
logger=migrator t=2025-07-27T02:26:28.004955709Z level=info msg="Migration successfully executed" id="delete alert_definition table" duration=152.438µs
logger=migrator t=2025-07-27T02:26:28.022708891Z level=info msg="Executing migration" id="recreate alert_definition table"
logger=migrator t=2025-07-27T02:26:28.022746473Z level=debug msg="Executing sql migration" id="recreate alert_definition table" sql="CREATE TABLE IF NOT EXISTS `alert_definition` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `title` TEXT NOT NULL\n, `condition` TEXT NOT NULL\n, `data` TEXT NOT NULL\n, `updated` DATETIME NOT NULL\n, `interval_seconds` INTEGER NOT NULL DEFAULT 60\n, `version` INTEGER NOT NULL DEFAULT 0\n, `uid` TEXT NOT NULL DEFAULT 0\n);"
logger=migrator t=2025-07-27T02:26:28.023288408Z level=info msg="Migration successfully executed" id="recreate alert_definition table" duration=580.551µs
logger=migrator t=2025-07-27T02:26:28.041753838Z level=info msg="Executing migration" id="add index in alert_definition on org_id and title columns"
logger=migrator t=2025-07-27T02:26:28.041769425Z level=debug msg="Executing migration condition SQL" id="add index in alert_definition on org_id and title columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_definition IDX_alert_definition_org_id_title]"
logger=migrator t=2025-07-27T02:26:28.042075542Z level=debug msg="Executing sql migration" id="add index in alert_definition on org_id and title columns" sql="CREATE INDEX `IDX_alert_definition_org_id_title` ON `alert_definition` (`org_id`,`title`);"
logger=migrator t=2025-07-27T02:26:28.042453077Z level=info msg="Migration successfully executed" id="add index in alert_definition on org_id and title columns" duration=700.339µs
logger=migrator t=2025-07-27T02:26:28.060825051Z level=info msg="Executing migration" id="add index in alert_definition on org_id and uid columns"
logger=migrator t=2025-07-27T02:26:28.060839265Z level=debug msg="Executing migration condition SQL" id="add index in alert_definition on org_id and uid columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_definition IDX_alert_definition_org_id_uid]"
logger=migrator t=2025-07-27T02:26:28.06111435Z level=debug msg="Executing sql migration" id="add index in alert_definition on org_id and uid columns" sql="CREATE INDEX `IDX_alert_definition_org_id_uid` ON `alert_definition` (`org_id`,`uid`);"
logger=migrator t=2025-07-27T02:26:28.061476946Z level=info msg="Migration successfully executed" id="add index in alert_definition on org_id and uid columns" duration=652.874µs
logger=migrator t=2025-07-27T02:26:28.081199928Z level=info msg="Executing migration" id="alter alert_definition table data column to mediumtext in mysql"
logger=migrator t=2025-07-27T02:26:28.081228863Z level=debug msg="Executing sql migration" id="alter alert_definition table data column to mediumtext in mysql" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:28.081324859Z level=info msg="Migration successfully executed" id="alter alert_definition table data column to mediumtext in mysql" duration=128.413µs
logger=migrator t=2025-07-27T02:26:28.100387356Z level=info msg="Executing migration" id="drop index in alert_definition on org_id and title columns"
logger=migrator t=2025-07-27T02:26:28.100417983Z level=debug msg="Executing migration condition SQL" id="drop index in alert_definition on org_id and title columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_definition IDX_alert_definition_org_id_title]"
logger=migrator t=2025-07-27T02:26:28.101075151Z level=debug msg="Executing sql migration" id="drop index in alert_definition on org_id and title columns" sql="DROP INDEX `IDX_alert_definition_org_id_title`"
logger=migrator t=2025-07-27T02:26:28.101990492Z level=info msg="Migration successfully executed" id="drop index in alert_definition on org_id and title columns" duration=1.604316ms
logger=migrator t=2025-07-27T02:26:28.139410788Z level=info msg="Executing migration" id="drop index in alert_definition on org_id and uid columns"
logger=migrator t=2025-07-27T02:26:28.139444514Z level=debug msg="Executing migration condition SQL" id="drop index in alert_definition on org_id and uid columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_definition IDX_alert_definition_org_id_uid]"
logger=migrator t=2025-07-27T02:26:28.140175105Z level=debug msg="Executing sql migration" id="drop index in alert_definition on org_id and uid columns" sql="DROP INDEX `IDX_alert_definition_org_id_uid`"
logger=migrator t=2025-07-27T02:26:28.141158317Z level=info msg="Migration successfully executed" id="drop index in alert_definition on org_id and uid columns" duration=1.748377ms
logger=migrator t=2025-07-27T02:26:28.161306353Z level=info msg="Executing migration" id="add unique index in alert_definition on org_id and title columns"
logger=migrator t=2025-07-27T02:26:28.161350409Z level=debug msg="Executing migration condition SQL" id="add unique index in alert_definition on org_id and title columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_definition UQE_alert_definition_org_id_title]"
logger=migrator t=2025-07-27T02:26:28.1619547Z level=debug msg="Executing sql migration" id="add unique index in alert_definition on org_id and title columns" sql="CREATE UNIQUE INDEX `UQE_alert_definition_org_id_title` ON `alert_definition` (`org_id`,`title`);"
logger=migrator t=2025-07-27T02:26:28.162935378Z level=info msg="Migration successfully executed" id="add unique index in alert_definition on org_id and title columns" duration=1.62977ms
logger=migrator t=2025-07-27T02:26:28.204273825Z level=info msg="Executing migration" id="add unique index in alert_definition on org_id and uid columns"
logger=migrator t=2025-07-27T02:26:28.204314359Z level=debug msg="Executing migration condition SQL" id="add unique index in alert_definition on org_id and uid columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_definition UQE_alert_definition_org_id_uid]"
logger=migrator t=2025-07-27T02:26:28.205030928Z level=debug msg="Executing sql migration" id="add unique index in alert_definition on org_id and uid columns" sql="CREATE UNIQUE INDEX `UQE_alert_definition_org_id_uid` ON `alert_definition` (`org_id`,`uid`);"
logger=migrator t=2025-07-27T02:26:28.206063487Z level=info msg="Migration successfully executed" id="add unique index in alert_definition on org_id and uid columns" duration=1.790858ms
logger=migrator t=2025-07-27T02:26:28.237117032Z level=info msg="Executing migration" id="Add column paused in alert_definition"
logger=migrator t=2025-07-27T02:26:28.237162424Z level=debug msg="Executing sql migration" id="Add column paused in alert_definition" sql="alter table `alert_definition` ADD COLUMN `paused` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:28.243290466Z level=info msg="Migration successfully executed" id="Add column paused in alert_definition" duration=6.17913ms
logger=migrator t=2025-07-27T02:26:28.273101797Z level=info msg="Executing migration" id="drop alert_definition table"
logger=migrator t=2025-07-27T02:26:28.273121604Z level=debug msg="Executing sql migration" id="drop alert_definition table" sql="DROP TABLE IF EXISTS `alert_definition`"
logger=migrator t=2025-07-27T02:26:28.273772708Z level=info msg="Migration successfully executed" id="drop alert_definition table" duration=671.823µs
logger=migrator t=2025-07-27T02:26:28.293953112Z level=info msg="Executing migration" id="delete alert_definition_version table"
logger=migrator t=2025-07-27T02:26:28.293988411Z level=debug msg="Executing sql migration" id="delete alert_definition_version table" sql="DROP TABLE IF EXISTS `alert_definition_version`"
logger=migrator t=2025-07-27T02:26:28.294129156Z level=info msg="Migration successfully executed" id="delete alert_definition_version table" duration=197.94µs
logger=migrator t=2025-07-27T02:26:28.313224228Z level=info msg="Executing migration" id="recreate alert_definition_version table"
logger=migrator t=2025-07-27T02:26:28.313260396Z level=debug msg="Executing sql migration" id="recreate alert_definition_version table" sql="CREATE TABLE IF NOT EXISTS `alert_definition_version` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `alert_definition_id` INTEGER NOT NULL\n, `alert_definition_uid` TEXT NOT NULL DEFAULT 0\n, `parent_version` INTEGER NOT NULL\n, `restored_from` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `title` TEXT NOT NULL\n, `condition` TEXT NOT NULL\n, `data` TEXT NOT NULL\n, `interval_seconds` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:28.313847639Z level=info msg="Migration successfully executed" id="recreate alert_definition_version table" duration=624.968µs
logger=migrator t=2025-07-27T02:26:28.333158595Z level=info msg="Executing migration" id="add index in alert_definition_version table on alert_definition_id and version columns"
logger=migrator t=2025-07-27T02:26:28.333176561Z level=debug msg="Executing migration condition SQL" id="add index in alert_definition_version table on alert_definition_id and version columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_definition_version UQE_alert_definition_version_alert_definition_id_version]"
logger=migrator t=2025-07-27T02:26:28.333474766Z level=debug msg="Executing sql migration" id="add index in alert_definition_version table on alert_definition_id and version columns" sql="CREATE UNIQUE INDEX `UQE_alert_definition_version_alert_definition_id_version` ON `alert_definition_version` (`alert_definition_id`,`version`);"
logger=migrator t=2025-07-27T02:26:28.333886197Z level=info msg="Migration successfully executed" id="add index in alert_definition_version table on alert_definition_id and version columns" duration=729.455µs
logger=migrator t=2025-07-27T02:26:28.352183079Z level=info msg="Executing migration" id="add index in alert_definition_version table on alert_definition_uid and version columns"
logger=migrator t=2025-07-27T02:26:28.352200388Z level=debug msg="Executing migration condition SQL" id="add index in alert_definition_version table on alert_definition_uid and version columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_definition_version UQE_alert_definition_version_alert_definition_uid_version]"
logger=migrator t=2025-07-27T02:26:28.352457856Z level=debug msg="Executing sql migration" id="add index in alert_definition_version table on alert_definition_uid and version columns" sql="CREATE UNIQUE INDEX `UQE_alert_definition_version_alert_definition_uid_version` ON `alert_definition_version` (`alert_definition_uid`,`version`);"
logger=migrator t=2025-07-27T02:26:28.352895592Z level=info msg="Migration successfully executed" id="add index in alert_definition_version table on alert_definition_uid and version columns" duration=713.194µs
logger=migrator t=2025-07-27T02:26:28.37211271Z level=info msg="Executing migration" id="alter alert_definition_version table data column to mediumtext in mysql"
logger=migrator t=2025-07-27T02:26:28.372135118Z level=debug msg="Executing sql migration" id="alter alert_definition_version table data column to mediumtext in mysql" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:28.372193835Z level=info msg="Migration successfully executed" id="alter alert_definition_version table data column to mediumtext in mysql" duration=80.035µs
logger=migrator t=2025-07-27T02:26:28.390197775Z level=info msg="Executing migration" id="drop alert_definition_version table"
logger=migrator t=2025-07-27T02:26:28.390214768Z level=debug msg="Executing sql migration" id="drop alert_definition_version table" sql="DROP TABLE IF EXISTS `alert_definition_version`"
logger=migrator t=2025-07-27T02:26:28.390845809Z level=info msg="Migration successfully executed" id="drop alert_definition_version table" duration=649.16µs
logger=migrator t=2025-07-27T02:26:28.411044876Z level=info msg="Executing migration" id="create alert_instance table"
logger=migrator t=2025-07-27T02:26:28.411083369Z level=debug msg="Executing sql migration" id="create alert_instance table" sql="CREATE TABLE IF NOT EXISTS `alert_instance` (\n`def_org_id` INTEGER NOT NULL\n, `def_uid` TEXT NOT NULL DEFAULT 0\n, `labels` TEXT NOT NULL\n, `labels_hash` TEXT NOT NULL\n, `current_state` TEXT NOT NULL\n, `current_state_since` INTEGER NOT NULL\n, `last_eval_time` INTEGER NOT NULL\n, PRIMARY KEY ( `def_org_id`,`def_uid`,`labels_hash` ));"
logger=migrator t=2025-07-27T02:26:28.41238492Z level=info msg="Migration successfully executed" id="create alert_instance table" duration=1.341399ms
logger=migrator t=2025-07-27T02:26:28.432043372Z level=info msg="Executing migration" id="add index in alert_instance table on def_org_id, def_uid and current_state columns"
logger=migrator t=2025-07-27T02:26:28.432072559Z level=debug msg="Executing migration condition SQL" id="add index in alert_instance table on def_org_id, def_uid and current_state columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_instance IDX_alert_instance_def_org_id_def_uid_current_state]"
logger=migrator t=2025-07-27T02:26:28.432643319Z level=debug msg="Executing sql migration" id="add index in alert_instance table on def_org_id, def_uid and current_state columns" sql="CREATE INDEX `IDX_alert_instance_def_org_id_def_uid_current_state` ON `alert_instance` (`def_org_id`,`def_uid`,`current_state`);"
logger=migrator t=2025-07-27T02:26:28.433577167Z level=info msg="Migration successfully executed" id="add index in alert_instance table on def_org_id, def_uid and current_state columns" duration=1.53314ms
logger=migrator t=2025-07-27T02:26:28.453434138Z level=info msg="Executing migration" id="add index in alert_instance table on def_org_id, current_state columns"
logger=migrator t=2025-07-27T02:26:28.453473503Z level=debug msg="Executing migration condition SQL" id="add index in alert_instance table on def_org_id, current_state columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_instance IDX_alert_instance_def_org_id_current_state]"
logger=migrator t=2025-07-27T02:26:28.454072233Z level=debug msg="Executing sql migration" id="add index in alert_instance table on def_org_id, current_state columns" sql="CREATE INDEX `IDX_alert_instance_def_org_id_current_state` ON `alert_instance` (`def_org_id`,`current_state`);"
logger=migrator t=2025-07-27T02:26:28.454971741Z level=info msg="Migration successfully executed" id="add index in alert_instance table on def_org_id, current_state columns" duration=1.537897ms
logger=migrator t=2025-07-27T02:26:28.475361866Z level=info msg="Executing migration" id="add column current_state_end to alert_instance"
logger=migrator t=2025-07-27T02:26:28.475398192Z level=debug msg="Executing sql migration" id="add column current_state_end to alert_instance" sql="alter table `alert_instance` ADD COLUMN `current_state_end` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:28.480660503Z level=info msg="Migration successfully executed" id="add column current_state_end to alert_instance" duration=5.306105ms
logger=migrator t=2025-07-27T02:26:28.499376615Z level=info msg="Executing migration" id="remove index def_org_id, def_uid, current_state on alert_instance"
logger=migrator t=2025-07-27T02:26:28.499413145Z level=debug msg="Executing migration condition SQL" id="remove index def_org_id, def_uid, current_state on alert_instance" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_instance IDX_alert_instance_def_org_id_def_uid_current_state]"
logger=migrator t=2025-07-27T02:26:28.500059934Z level=debug msg="Executing sql migration" id="remove index def_org_id, def_uid, current_state on alert_instance" sql="DROP INDEX `IDX_alert_instance_def_org_id_def_uid_current_state`"
logger=migrator t=2025-07-27T02:26:28.501003919Z level=info msg="Migration successfully executed" id="remove index def_org_id, def_uid, current_state on alert_instance" duration=1.629237ms
logger=migrator t=2025-07-27T02:26:28.520670095Z level=info msg="Executing migration" id="remove index def_org_id, current_state on alert_instance"
logger=migrator t=2025-07-27T02:26:28.520714799Z level=debug msg="Executing migration condition SQL" id="remove index def_org_id, current_state on alert_instance" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_instance IDX_alert_instance_def_org_id_current_state]"
logger=migrator t=2025-07-27T02:26:28.521412506Z level=debug msg="Executing sql migration" id="remove index def_org_id, current_state on alert_instance" sql="DROP INDEX `IDX_alert_instance_def_org_id_current_state`"
logger=migrator t=2025-07-27T02:26:28.522420075Z level=info msg="Migration successfully executed" id="remove index def_org_id, current_state on alert_instance" duration=1.753919ms
logger=migrator t=2025-07-27T02:26:28.541407731Z level=info msg="Executing migration" id="rename def_org_id to rule_org_id in alert_instance"
logger=migrator t=2025-07-27T02:26:28.541436839Z level=debug msg="Executing sql migration" id="rename def_org_id to rule_org_id in alert_instance" sql="ALTER TABLE alert_instance RENAME COLUMN def_org_id TO rule_org_id;"
logger=migrator t=2025-07-27T02:26:28.560998481Z level=info msg="Migration successfully executed" id="rename def_org_id to rule_org_id in alert_instance" duration=19.593422ms
logger=migrator t=2025-07-27T02:26:28.579870239Z level=info msg="Executing migration" id="rename def_uid to rule_uid in alert_instance"
logger=migrator t=2025-07-27T02:26:28.579889583Z level=debug msg="Executing sql migration" id="rename def_uid to rule_uid in alert_instance" sql="ALTER TABLE alert_instance RENAME COLUMN def_uid TO rule_uid;"
logger=migrator t=2025-07-27T02:26:28.59952993Z level=info msg="Migration successfully executed" id="rename def_uid to rule_uid in alert_instance" duration=19.669801ms
logger=migrator t=2025-07-27T02:26:28.618653404Z level=info msg="Executing migration" id="add index rule_org_id, rule_uid, current_state on alert_instance"
logger=migrator t=2025-07-27T02:26:28.61866934Z level=debug msg="Executing migration condition SQL" id="add index rule_org_id, rule_uid, current_state on alert_instance" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_instance IDX_alert_instance_rule_org_id_rule_uid_current_state]"
logger=migrator t=2025-07-27T02:26:28.619006611Z level=debug msg="Executing sql migration" id="add index rule_org_id, rule_uid, current_state on alert_instance" sql="CREATE INDEX `IDX_alert_instance_rule_org_id_rule_uid_current_state` ON `alert_instance` (`rule_org_id`,`rule_uid`,`current_state`);"
logger=migrator t=2025-07-27T02:26:28.61953614Z level=info msg="Migration successfully executed" id="add index rule_org_id, rule_uid, current_state on alert_instance" duration=882.847µs
logger=migrator t=2025-07-27T02:26:28.640126937Z level=info msg="Executing migration" id="add index rule_org_id, current_state on alert_instance"
logger=migrator t=2025-07-27T02:26:28.640156146Z level=debug msg="Executing migration condition SQL" id="add index rule_org_id, current_state on alert_instance" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_instance IDX_alert_instance_rule_org_id_current_state]"
logger=migrator t=2025-07-27T02:26:28.640751209Z level=debug msg="Executing sql migration" id="add index rule_org_id, current_state on alert_instance" sql="CREATE INDEX `IDX_alert_instance_rule_org_id_current_state` ON `alert_instance` (`rule_org_id`,`current_state`);"
logger=migrator t=2025-07-27T02:26:28.641646319Z level=info msg="Migration successfully executed" id="add index rule_org_id, current_state on alert_instance" duration=1.522246ms
logger=migrator t=2025-07-27T02:26:28.661941201Z level=info msg="Executing migration" id="add current_reason column related to current_state"
logger=migrator t=2025-07-27T02:26:28.661973271Z level=debug msg="Executing sql migration" id="add current_reason column related to current_state" sql="alter table `alert_instance` ADD COLUMN `current_reason` TEXT NULL "
logger=migrator t=2025-07-27T02:26:28.66678158Z level=info msg="Migration successfully executed" id="add current_reason column related to current_state" duration=4.84318ms
logger=migrator t=2025-07-27T02:26:28.685053079Z level=info msg="Executing migration" id="create alert_rule table"
logger=migrator t=2025-07-27T02:26:28.685087724Z level=debug msg="Executing sql migration" id="create alert_rule table" sql="CREATE TABLE IF NOT EXISTS `alert_rule` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `title` TEXT NOT NULL\n, `condition` TEXT NOT NULL\n, `data` TEXT NOT NULL\n, `updated` DATETIME NOT NULL\n, `interval_seconds` INTEGER NOT NULL DEFAULT 60\n, `version` INTEGER NOT NULL DEFAULT 0\n, `uid` TEXT NOT NULL DEFAULT 0\n, `namespace_uid` TEXT NOT NULL\n, `rule_group` TEXT NOT NULL\n, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'\n, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'\n);"
logger=migrator t=2025-07-27T02:26:28.686338963Z level=info msg="Migration successfully executed" id="create alert_rule table" duration=1.28654ms
logger=migrator t=2025-07-27T02:26:28.706821864Z level=info msg="Executing migration" id="add index in alert_rule on org_id and title columns"
logger=migrator t=2025-07-27T02:26:28.706884317Z level=debug msg="Executing migration condition SQL" id="add index in alert_rule on org_id and title columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule UQE_alert_rule_org_id_title]"
logger=migrator t=2025-07-27T02:26:28.707530425Z level=debug msg="Executing sql migration" id="add index in alert_rule on org_id and title columns" sql="CREATE UNIQUE INDEX `UQE_alert_rule_org_id_title` ON `alert_rule` (`org_id`,`title`);"
logger=migrator t=2025-07-27T02:26:28.708551805Z level=info msg="Migration successfully executed" id="add index in alert_rule on org_id and title columns" duration=1.731808ms
logger=migrator t=2025-07-27T02:26:28.728181186Z level=info msg="Executing migration" id="add index in alert_rule on org_id and uid columns"
logger=migrator t=2025-07-27T02:26:28.728208771Z level=debug msg="Executing migration condition SQL" id="add index in alert_rule on org_id and uid columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule UQE_alert_rule_org_id_uid]"
logger=migrator t=2025-07-27T02:26:28.728486466Z level=debug msg="Executing sql migration" id="add index in alert_rule on org_id and uid columns" sql="CREATE UNIQUE INDEX `UQE_alert_rule_org_id_uid` ON `alert_rule` (`org_id`,`uid`);"
logger=migrator t=2025-07-27T02:26:28.728898952Z level=info msg="Migration successfully executed" id="add index in alert_rule on org_id and uid columns" duration=719.43µs
logger=migrator t=2025-07-27T02:26:28.747961364Z level=info msg="Executing migration" id="add index in alert_rule on org_id, namespace_uid, group_uid columns"
logger=migrator t=2025-07-27T02:26:28.747978591Z level=debug msg="Executing migration condition SQL" id="add index in alert_rule on org_id, namespace_uid, group_uid columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule IDX_alert_rule_org_id_namespace_uid_rule_group]"
logger=migrator t=2025-07-27T02:26:28.748239443Z level=debug msg="Executing sql migration" id="add index in alert_rule on org_id, namespace_uid, group_uid columns" sql="CREATE INDEX `IDX_alert_rule_org_id_namespace_uid_rule_group` ON `alert_rule` (`org_id`,`namespace_uid`,`rule_group`);"
logger=migrator t=2025-07-27T02:26:28.748681121Z level=info msg="Migration successfully executed" id="add index in alert_rule on org_id, namespace_uid, group_uid columns" duration=722.995µs
logger=migrator t=2025-07-27T02:26:28.768278994Z level=info msg="Executing migration" id="alter alert_rule table data column to mediumtext in mysql"
logger=migrator t=2025-07-27T02:26:28.768297109Z level=debug msg="Executing sql migration" id="alter alert_rule table data column to mediumtext in mysql" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:28.768346096Z level=info msg="Migration successfully executed" id="alter alert_rule table data column to mediumtext in mysql" duration=71.429µs
logger=migrator t=2025-07-27T02:26:28.776022579Z level=info msg="Executing migration" id="add column for to alert_rule"
logger=migrator t=2025-07-27T02:26:28.776041739Z level=debug msg="Executing sql migration" id="add column for to alert_rule" sql="alter table `alert_rule` ADD COLUMN `for` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:28.779185057Z level=info msg="Migration successfully executed" id="add column for to alert_rule" duration=3.162223ms
logger=migrator t=2025-07-27T02:26:28.797400803Z level=info msg="Executing migration" id="add column annotations to alert_rule"
logger=migrator t=2025-07-27T02:26:28.797413215Z level=debug msg="Executing sql migration" id="add column annotations to alert_rule" sql="alter table `alert_rule` ADD COLUMN `annotations` TEXT NULL "
logger=migrator t=2025-07-27T02:26:28.800117381Z level=info msg="Migration successfully executed" id="add column annotations to alert_rule" duration=2.717629ms
logger=migrator t=2025-07-27T02:26:28.818085222Z level=info msg="Executing migration" id="add column labels to alert_rule"
logger=migrator t=2025-07-27T02:26:28.818103539Z level=debug msg="Executing sql migration" id="add column labels to alert_rule" sql="alter table `alert_rule` ADD COLUMN `labels` TEXT NULL "
logger=migrator t=2025-07-27T02:26:28.820875209Z level=info msg="Migration successfully executed" id="add column labels to alert_rule" duration=2.790856ms
logger=migrator t=2025-07-27T02:26:28.839097288Z level=info msg="Executing migration" id="remove unique index from alert_rule on org_id, title columns"
logger=migrator t=2025-07-27T02:26:28.839108066Z level=debug msg="Executing migration condition SQL" id="remove unique index from alert_rule on org_id, title columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule UQE_alert_rule_org_id_title]"
logger=migrator t=2025-07-27T02:26:28.839353721Z level=debug msg="Executing sql migration" id="remove unique index from alert_rule on org_id, title columns" sql="DROP INDEX `UQE_alert_rule_org_id_title`"
logger=migrator t=2025-07-27T02:26:28.839669507Z level=info msg="Migration successfully executed" id="remove unique index from alert_rule on org_id, title columns" duration=572.728µs
logger=migrator t=2025-07-27T02:26:28.858341396Z level=info msg="Executing migration" id="add index in alert_rule on org_id, namespase_uid and title columns"
logger=migrator t=2025-07-27T02:26:28.858352976Z level=debug msg="Executing migration condition SQL" id="add index in alert_rule on org_id, namespase_uid and title columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule UQE_alert_rule_org_id_namespace_uid_title]"
logger=migrator t=2025-07-27T02:26:28.858573045Z level=debug msg="Executing sql migration" id="add index in alert_rule on org_id, namespase_uid and title columns" sql="CREATE UNIQUE INDEX `UQE_alert_rule_org_id_namespace_uid_title` ON `alert_rule` (`org_id`,`namespace_uid`,`title`);"
logger=migrator t=2025-07-27T02:26:28.858921403Z level=info msg="Migration successfully executed" id="add index in alert_rule on org_id, namespase_uid and title columns" duration=578.979µs
logger=migrator t=2025-07-27T02:26:28.879096164Z level=info msg="Executing migration" id="add dashboard_uid column to alert_rule"
logger=migrator t=2025-07-27T02:26:28.879148164Z level=debug msg="Executing sql migration" id="add dashboard_uid column to alert_rule" sql="alter table `alert_rule` ADD COLUMN `dashboard_uid` TEXT NULL "
logger=migrator t=2025-07-27T02:26:28.884367171Z level=info msg="Migration successfully executed" id="add dashboard_uid column to alert_rule" duration=5.275415ms
logger=migrator t=2025-07-27T02:26:28.904545657Z level=info msg="Executing migration" id="add panel_id column to alert_rule"
logger=migrator t=2025-07-27T02:26:28.904582568Z level=debug msg="Executing sql migration" id="add panel_id column to alert_rule" sql="alter table `alert_rule` ADD COLUMN `panel_id` INTEGER NULL "
logger=migrator t=2025-07-27T02:26:28.909587174Z level=info msg="Migration successfully executed" id="add panel_id column to alert_rule" duration=5.045845ms
logger=migrator t=2025-07-27T02:26:28.92985116Z level=info msg="Executing migration" id="add index in alert_rule on org_id, dashboard_uid and panel_id columns"
logger=migrator t=2025-07-27T02:26:28.929949144Z level=debug msg="Executing migration condition SQL" id="add index in alert_rule on org_id, dashboard_uid and panel_id columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule IDX_alert_rule_org_id_dashboard_uid_panel_id]"
logger=migrator t=2025-07-27T02:26:28.930611935Z level=debug msg="Executing sql migration" id="add index in alert_rule on org_id, dashboard_uid and panel_id columns" sql="CREATE INDEX `IDX_alert_rule_org_id_dashboard_uid_panel_id` ON `alert_rule` (`org_id`,`dashboard_uid`,`panel_id`);"
logger=migrator t=2025-07-27T02:26:28.931589398Z level=info msg="Migration successfully executed" id="add index in alert_rule on org_id, dashboard_uid and panel_id columns" duration=1.740695ms
logger=migrator t=2025-07-27T02:26:28.952576463Z level=info msg="Executing migration" id="add rule_group_idx column to alert_rule"
logger=migrator t=2025-07-27T02:26:28.952612737Z level=debug msg="Executing sql migration" id="add rule_group_idx column to alert_rule" sql="alter table `alert_rule` ADD COLUMN `rule_group_idx` INTEGER NOT NULL DEFAULT 1 "
logger=migrator t=2025-07-27T02:26:28.96047169Z level=info msg="Migration successfully executed" id="add rule_group_idx column to alert_rule" duration=7.895693ms
logger=migrator t=2025-07-27T02:26:28.980154703Z level=info msg="Executing migration" id="add is_paused column to alert_rule table"
logger=migrator t=2025-07-27T02:26:28.980190542Z level=debug msg="Executing sql migration" id="add is_paused column to alert_rule table" sql="alter table `alert_rule` ADD COLUMN `is_paused` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:28.98762684Z level=info msg="Migration successfully executed" id="add is_paused column to alert_rule table" duration=7.473964ms
logger=migrator t=2025-07-27T02:26:29.006791439Z level=info msg="Executing migration" id="fix is_paused column for alert_rule table"
logger=migrator t=2025-07-27T02:26:29.006827399Z level=debug msg="Executing sql migration" id="fix is_paused column for alert_rule table" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:29.006960931Z level=info msg="Migration successfully executed" id="fix is_paused column for alert_rule table" duration=172.294µs
logger=migrator t=2025-07-27T02:26:29.025237545Z level=info msg="Executing migration" id="create alert_rule_version table"
logger=migrator t=2025-07-27T02:26:29.025277364Z level=debug msg="Executing sql migration" id="create alert_rule_version table" sql="CREATE TABLE IF NOT EXISTS `alert_rule_version` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `rule_org_id` INTEGER NOT NULL\n, `rule_uid` TEXT NOT NULL DEFAULT 0\n, `rule_namespace_uid` TEXT NOT NULL\n, `rule_group` TEXT NOT NULL\n, `parent_version` INTEGER NOT NULL\n, `restored_from` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `title` TEXT NOT NULL\n, `condition` TEXT NOT NULL\n, `data` TEXT NOT NULL\n, `interval_seconds` INTEGER NOT NULL\n, `no_data_state` TEXT NOT NULL DEFAULT 'NoData'\n, `exec_err_state` TEXT NOT NULL DEFAULT 'Alerting'\n);"
logger=migrator t=2025-07-27T02:26:29.025872518Z level=info msg="Migration successfully executed" id="create alert_rule_version table" duration=635.832µs
logger=migrator t=2025-07-27T02:26:29.046349975Z level=info msg="Executing migration" id="add index in alert_rule_version table on rule_org_id, rule_uid and version columns"
logger=migrator t=2025-07-27T02:26:29.046380987Z level=debug msg="Executing migration condition SQL" id="add index in alert_rule_version table on rule_org_id, rule_uid and version columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule_version UQE_alert_rule_version_rule_org_id_rule_uid_version]"
logger=migrator t=2025-07-27T02:26:29.047065829Z level=debug msg="Executing sql migration" id="add index in alert_rule_version table on rule_org_id, rule_uid and version columns" sql="CREATE UNIQUE INDEX `UQE_alert_rule_version_rule_org_id_rule_uid_version` ON `alert_rule_version` (`rule_org_id`,`rule_uid`,`version`);"
logger=migrator t=2025-07-27T02:26:29.04810384Z level=info msg="Migration successfully executed" id="add index in alert_rule_version table on rule_org_id, rule_uid and version columns" duration=1.754314ms
logger=migrator t=2025-07-27T02:26:29.06866947Z level=info msg="Executing migration" id="add index in alert_rule_version table on rule_org_id, rule_namespace_uid and rule_group columns"
logger=migrator t=2025-07-27T02:26:29.068697994Z level=debug msg="Executing migration condition SQL" id="add index in alert_rule_version table on rule_org_id, rule_namespace_uid and rule_group columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_rule_version IDX_alert_rule_version_rule_org_id_rule_namespace_uid_rule_group]"
logger=migrator t=2025-07-27T02:26:29.069326604Z level=debug msg="Executing sql migration" id="add index in alert_rule_version table on rule_org_id, rule_namespace_uid and rule_group columns" sql="CREATE INDEX `IDX_alert_rule_version_rule_org_id_rule_namespace_uid_rule_group` ON `alert_rule_version` (`rule_org_id`,`rule_namespace_uid`,`rule_group`);"
logger=migrator t=2025-07-27T02:26:29.070339291Z level=info msg="Migration successfully executed" id="add index in alert_rule_version table on rule_org_id, rule_namespace_uid and rule_group columns" duration=1.672578ms
logger=migrator t=2025-07-27T02:26:29.090896155Z level=info msg="Executing migration" id="alter alert_rule_version table data column to mediumtext in mysql"
logger=migrator t=2025-07-27T02:26:29.090946142Z level=debug msg="Executing sql migration" id="alter alert_rule_version table data column to mediumtext in mysql" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:29.091090692Z level=info msg="Migration successfully executed" id="alter alert_rule_version table data column to mediumtext in mysql" duration=196.557µs
logger=migrator t=2025-07-27T02:26:29.110309547Z level=info msg="Executing migration" id="add column for to alert_rule_version"
logger=migrator t=2025-07-27T02:26:29.110341066Z level=debug msg="Executing sql migration" id="add column for to alert_rule_version" sql="alter table `alert_rule_version` ADD COLUMN `for` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:29.114128324Z level=info msg="Migration successfully executed" id="add column for to alert_rule_version" duration=3.822021ms
logger=migrator t=2025-07-27T02:26:29.134029112Z level=info msg="Executing migration" id="add column annotations to alert_rule_version"
logger=migrator t=2025-07-27T02:26:29.134079587Z level=debug msg="Executing sql migration" id="add column annotations to alert_rule_version" sql="alter table `alert_rule_version` ADD COLUMN `annotations` TEXT NULL "
logger=migrator t=2025-07-27T02:26:29.138144372Z level=info msg="Migration successfully executed" id="add column annotations to alert_rule_version" duration=4.131439ms
logger=migrator t=2025-07-27T02:26:29.15927835Z level=info msg="Executing migration" id="add column labels to alert_rule_version"
logger=migrator t=2025-07-27T02:26:29.159297382Z level=debug msg="Executing sql migration" id="add column labels to alert_rule_version" sql="alter table `alert_rule_version` ADD COLUMN `labels` TEXT NULL "
logger=migrator t=2025-07-27T02:26:29.162272013Z level=info msg="Migration successfully executed" id="add column labels to alert_rule_version" duration=2.993559ms
logger=migrator t=2025-07-27T02:26:29.180812944Z level=info msg="Executing migration" id="add rule_group_idx column to alert_rule_version"
logger=migrator t=2025-07-27T02:26:29.180838839Z level=debug msg="Executing sql migration" id="add rule_group_idx column to alert_rule_version" sql="alter table `alert_rule_version` ADD COLUMN `rule_group_idx` INTEGER NOT NULL DEFAULT 1 "
logger=migrator t=2025-07-27T02:26:29.184126902Z level=info msg="Migration successfully executed" id="add rule_group_idx column to alert_rule_version" duration=3.312153ms
logger=migrator t=2025-07-27T02:26:29.202281355Z level=info msg="Executing migration" id="add is_paused column to alert_rule_versions table"
logger=migrator t=2025-07-27T02:26:29.202331483Z level=debug msg="Executing sql migration" id="add is_paused column to alert_rule_versions table" sql="alter table `alert_rule_version` ADD COLUMN `is_paused` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:29.20667192Z level=info msg="Migration successfully executed" id="add is_paused column to alert_rule_versions table" duration=4.391715ms
logger=migrator t=2025-07-27T02:26:29.225304538Z level=info msg="Executing migration" id="fix is_paused column for alert_rule_version table"
logger=migrator t=2025-07-27T02:26:29.225331066Z level=debug msg="Executing sql migration" id="fix is_paused column for alert_rule_version table" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:29.225389644Z level=info msg="Migration successfully executed" id="fix is_paused column for alert_rule_version table" duration=88.307µs
logger=migrator t=2025-07-27T02:26:29.243530377Z level=info msg="Executing migration" id=create_alert_configuration_table
logger=migrator t=2025-07-27T02:26:29.243560477Z level=debug msg="Executing sql migration" id=create_alert_configuration_table sql="CREATE TABLE IF NOT EXISTS `alert_configuration` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `alertmanager_configuration` TEXT NOT NULL\n, `configuration_version` TEXT NOT NULL\n, `created_at` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:29.244385932Z level=info msg="Migration successfully executed" id=create_alert_configuration_table duration=858.793µs
logger=migrator t=2025-07-27T02:26:29.274222335Z level=info msg="Executing migration" id="Add column default in alert_configuration"
logger=migrator t=2025-07-27T02:26:29.274240423Z level=debug msg="Executing sql migration" id="Add column default in alert_configuration" sql="alter table `alert_configuration` ADD COLUMN `default` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:29.277788064Z level=info msg="Migration successfully executed" id="Add column default in alert_configuration" duration=3.573847ms
logger=migrator t=2025-07-27T02:26:29.301293626Z level=info msg="Executing migration" id="alert alert_configuration alertmanager_configuration column from TEXT to MEDIUMTEXT if mysql"
logger=migrator t=2025-07-27T02:26:29.301317913Z level=debug msg="Executing sql migration" id="alert alert_configuration alertmanager_configuration column from TEXT to MEDIUMTEXT if mysql" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:29.30147361Z level=info msg="Migration successfully executed" id="alert alert_configuration alertmanager_configuration column from TEXT to MEDIUMTEXT if mysql" duration=185.993µs
logger=migrator t=2025-07-27T02:26:29.319307849Z level=info msg="Executing migration" id="add column org_id in alert_configuration"
logger=migrator t=2025-07-27T02:26:29.319332828Z level=debug msg="Executing sql migration" id="add column org_id in alert_configuration" sql="alter table `alert_configuration` ADD COLUMN `org_id` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:29.322595334Z level=info msg="Migration successfully executed" id="add column org_id in alert_configuration" duration=3.287497ms
logger=migrator t=2025-07-27T02:26:29.340747279Z level=info msg="Executing migration" id="add index in alert_configuration table on org_id column"
logger=migrator t=2025-07-27T02:26:29.340785121Z level=debug msg="Executing migration condition SQL" id="add index in alert_configuration table on org_id column" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_configuration IDX_alert_configuration_org_id]"
logger=migrator t=2025-07-27T02:26:29.341174529Z level=debug msg="Executing sql migration" id="add index in alert_configuration table on org_id column" sql="CREATE INDEX `IDX_alert_configuration_org_id` ON `alert_configuration` (`org_id`);"
logger=migrator t=2025-07-27T02:26:29.341541884Z level=info msg="Migration successfully executed" id="add index in alert_configuration table on org_id column" duration=796.529µs
logger=migrator t=2025-07-27T02:26:29.360199198Z level=info msg="Executing migration" id="add configuration_hash column to alert_configuration"
logger=migrator t=2025-07-27T02:26:29.360220337Z level=debug msg="Executing sql migration" id="add configuration_hash column to alert_configuration" sql="alter table `alert_configuration` ADD COLUMN `configuration_hash` TEXT NOT NULL DEFAULT 'not-yet-calculated' "
logger=migrator t=2025-07-27T02:26:29.363593311Z level=info msg="Migration successfully executed" id="add configuration_hash column to alert_configuration" duration=3.385852ms
logger=migrator t=2025-07-27T02:26:29.381690838Z level=info msg="Executing migration" id=create_ngalert_configuration_table
logger=migrator t=2025-07-27T02:26:29.381710458Z level=debug msg="Executing sql migration" id=create_ngalert_configuration_table sql="CREATE TABLE IF NOT EXISTS `ngalert_configuration` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `alertmanagers` TEXT NULL\n, `created_at` INTEGER NOT NULL\n, `updated_at` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:29.382294504Z level=info msg="Migration successfully executed" id=create_ngalert_configuration_table duration=604.785µs
logger=migrator t=2025-07-27T02:26:29.401249263Z level=info msg="Executing migration" id="add index in ngalert_configuration on org_id column"
logger=migrator t=2025-07-27T02:26:29.4012727Z level=debug msg="Executing migration condition SQL" id="add index in ngalert_configuration on org_id column" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[ngalert_configuration UQE_ngalert_configuration_org_id]"
logger=migrator t=2025-07-27T02:26:29.401639477Z level=debug msg="Executing sql migration" id="add index in ngalert_configuration on org_id column" sql="CREATE UNIQUE INDEX `UQE_ngalert_configuration_org_id` ON `ngalert_configuration` (`org_id`);"
logger=migrator t=2025-07-27T02:26:29.402192571Z level=info msg="Migration successfully executed" id="add index in ngalert_configuration on org_id column" duration=943.656µs
logger=migrator t=2025-07-27T02:26:29.420720464Z level=info msg="Executing migration" id="add column send_alerts_to in ngalert_configuration"
logger=migrator t=2025-07-27T02:26:29.420744494Z level=debug msg="Executing sql migration" id="add column send_alerts_to in ngalert_configuration" sql="alter table `ngalert_configuration` ADD COLUMN `send_alerts_to` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:29.424736127Z level=info msg="Migration successfully executed" id="add column send_alerts_to in ngalert_configuration" duration=4.014949ms
logger=migrator t=2025-07-27T02:26:29.471086917Z level=info msg="Executing migration" id="create provenance_type table"
logger=migrator t=2025-07-27T02:26:29.471113575Z level=debug msg="Executing sql migration" id="create provenance_type table" sql="CREATE TABLE IF NOT EXISTS `provenance_type` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `record_key` TEXT NOT NULL\n, `record_type` TEXT NOT NULL\n, `provenance` TEXT NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:29.471793111Z level=info msg="Migration successfully executed" id="create provenance_type table" duration=708.454µs
logger=migrator t=2025-07-27T02:26:29.507201194Z level=info msg="Executing migration" id="add index to uniquify (record_key, record_type, org_id) columns"
logger=migrator t=2025-07-27T02:26:29.507233696Z level=debug msg="Executing migration condition SQL" id="add index to uniquify (record_key, record_type, org_id) columns" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[provenance_type UQE_provenance_type_record_type_record_key_org_id]"
logger=migrator t=2025-07-27T02:26:29.507640419Z level=debug msg="Executing sql migration" id="add index to uniquify (record_key, record_type, org_id) columns" sql="CREATE UNIQUE INDEX `UQE_provenance_type_record_type_record_key_org_id` ON `provenance_type` (`record_type`,`record_key`,`org_id`);"
logger=migrator t=2025-07-27T02:26:29.508311781Z level=info msg="Migration successfully executed" id="add index to uniquify (record_key, record_type, org_id) columns" duration=1.116752ms
logger=migrator t=2025-07-27T02:26:29.540111194Z level=info msg="Executing migration" id="create alert_image table"
logger=migrator t=2025-07-27T02:26:29.540137356Z level=debug msg="Executing sql migration" id="create alert_image table" sql="CREATE TABLE IF NOT EXISTS `alert_image` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `token` TEXT NOT NULL\n, `path` TEXT NOT NULL\n, `url` TEXT NOT NULL\n, `created_at` DATETIME NOT NULL\n, `expires_at` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:29.540819704Z level=info msg="Migration successfully executed" id="create alert_image table" duration=709.318µs
logger=migrator t=2025-07-27T02:26:29.559263804Z level=info msg="Executing migration" id="add unique index on token to alert_image table"
logger=migrator t=2025-07-27T02:26:29.559281514Z level=debug msg="Executing migration condition SQL" id="add unique index on token to alert_image table" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_image UQE_alert_image_token]"
logger=migrator t=2025-07-27T02:26:29.559556747Z level=debug msg="Executing sql migration" id="add unique index on token to alert_image table" sql="CREATE UNIQUE INDEX `UQE_alert_image_token` ON `alert_image` (`token`);"
logger=migrator t=2025-07-27T02:26:29.559929181Z level=info msg="Migration successfully executed" id="add unique index on token to alert_image table" duration=666.814µs
logger=migrator t=2025-07-27T02:26:29.578550503Z level=info msg="Executing migration" id="support longer URLs in alert_image table"
logger=migrator t=2025-07-27T02:26:29.578568965Z level=debug msg="Executing sql migration" id="support longer URLs in alert_image table" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:29.578634304Z level=info msg="Migration successfully executed" id="support longer URLs in alert_image table" duration=85.132µs
logger=migrator t=2025-07-27T02:26:29.59649658Z level=info msg="Executing migration" id=create_alert_configuration_history_table
logger=migrator t=2025-07-27T02:26:29.596524287Z level=debug msg="Executing sql migration" id=create_alert_configuration_history_table sql="CREATE TABLE IF NOT EXISTS `alert_configuration_history` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL DEFAULT 0\n, `alertmanager_configuration` TEXT NOT NULL\n, `configuration_hash` TEXT NOT NULL DEFAULT 'not-yet-calculated'\n, `configuration_version` TEXT NOT NULL\n, `created_at` INTEGER NOT NULL\n, `default` INTEGER NOT NULL DEFAULT 0\n);"
logger=migrator t=2025-07-27T02:26:29.597159402Z level=info msg="Migration successfully executed" id=create_alert_configuration_history_table duration=664.451µs
logger=migrator t=2025-07-27T02:26:29.615792711Z level=info msg="Executing migration" id="drop non-unique orgID index on alert_configuration"
logger=migrator t=2025-07-27T02:26:29.615812458Z level=debug msg="Executing migration condition SQL" id="drop non-unique orgID index on alert_configuration" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_configuration IDX_alert_configuration_org_id]"
logger=migrator t=2025-07-27T02:26:29.616130012Z level=debug msg="Executing sql migration" id="drop non-unique orgID index on alert_configuration" sql="DROP INDEX `IDX_alert_configuration_org_id`"
logger=migrator t=2025-07-27T02:26:29.616623062Z level=info msg="Migration successfully executed" id="drop non-unique orgID index on alert_configuration" duration=831.761µs
logger=migrator t=2025-07-27T02:26:29.634940583Z level=info msg="Executing migration" id="drop unique orgID index on alert_configuration if exists"
logger=migrator t=2025-07-27T02:26:29.634961574Z level=debug msg="Executing migration condition SQL" id="drop unique orgID index on alert_configuration if exists" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_configuration UQE_alert_configuration_org_id]"
logger=migrator t=2025-07-27T02:26:29.635265169Z level=warn msg="Skipping migration: Already executed, but not recorded in migration log" id="drop unique orgID index on alert_configuration if exists"
logger=migrator t=2025-07-27T02:26:29.652890273Z level=info msg="Executing migration" id="extract alertmanager configuration history to separate table"
logger=migrator t=2025-07-27T02:26:29.6529106Z level=debug msg="Executing code migration" id="extract alertmanager configuration history to separate table"
logger=migrator t=2025-07-27T02:26:29.653265619Z level=info msg="Migration successfully executed" id="extract alertmanager configuration history to separate table" duration=376.243µs
logger=migrator t=2025-07-27T02:26:29.671247714Z level=info msg="Executing migration" id="add unique index on orgID to alert_configuration"
logger=migrator t=2025-07-27T02:26:29.671301741Z level=debug msg="Executing migration condition SQL" id="add unique index on orgID to alert_configuration" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[alert_configuration UQE_alert_configuration_org_id]"
logger=migrator t=2025-07-27T02:26:29.67158796Z level=debug msg="Executing sql migration" id="add unique index on orgID to alert_configuration" sql="CREATE UNIQUE INDEX `UQE_alert_configuration_org_id` ON `alert_configuration` (`org_id`);"
logger=migrator t=2025-07-27T02:26:29.672018168Z level=info msg="Migration successfully executed" id="add unique index on orgID to alert_configuration" duration=772.788µs
logger=migrator t=2025-07-27T02:26:29.690244673Z level=info msg="Executing migration" id="add last_applied column to alert_configuration_history"
logger=migrator t=2025-07-27T02:26:29.690260325Z level=debug msg="Executing sql migration" id="add last_applied column to alert_configuration_history" sql="alter table `alert_configuration_history` ADD COLUMN `last_applied` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:29.693438929Z level=info msg="Migration successfully executed" id="add last_applied column to alert_configuration_history" duration=3.194935ms
logger=migrator t=2025-07-27T02:26:29.711668829Z level=info msg="Executing migration" id="create library_element table v1"
logger=migrator t=2025-07-27T02:26:29.711690444Z level=debug msg="Executing sql migration" id="create library_element table v1" sql="CREATE TABLE IF NOT EXISTS `library_element` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `folder_id` INTEGER NOT NULL\n, `uid` TEXT NOT NULL\n, `name` TEXT NOT NULL\n, `kind` INTEGER NOT NULL\n, `type` TEXT NOT NULL\n, `description` TEXT NOT NULL\n, `model` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `created_by` INTEGER NOT NULL\n, `updated` DATETIME NOT NULL\n, `updated_by` INTEGER NOT NULL\n, `version` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:29.712264476Z level=info msg="Migration successfully executed" id="create library_element table v1" duration=599.717µs
logger=migrator t=2025-07-27T02:26:29.747543396Z level=info msg="Executing migration" id="add index library_element org_id-folder_id-name-kind"
logger=migrator t=2025-07-27T02:26:29.747578363Z level=debug msg="Executing migration condition SQL" id="add index library_element org_id-folder_id-name-kind" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[library_element UQE_library_element_org_id_folder_id_name_kind]"
logger=migrator t=2025-07-27T02:26:29.748189209Z level=debug msg="Executing sql migration" id="add index library_element org_id-folder_id-name-kind" sql="CREATE UNIQUE INDEX `UQE_library_element_org_id_folder_id_name_kind` ON `library_element` (`org_id`,`folder_id`,`name`,`kind`);"
logger=migrator t=2025-07-27T02:26:29.749124702Z level=info msg="Migration successfully executed" id="add index library_element org_id-folder_id-name-kind" duration=1.581701ms
logger=migrator t=2025-07-27T02:26:29.768184723Z level=info msg="Executing migration" id="create library_element_connection table v1"
logger=migrator t=2025-07-27T02:26:29.768214727Z level=debug msg="Executing sql migration" id="create library_element_connection table v1" sql="CREATE TABLE IF NOT EXISTS `library_element_connection` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `element_id` INTEGER NOT NULL\n, `kind` INTEGER NOT NULL\n, `connection_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `created_by` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:29.769039892Z level=info msg="Migration successfully executed" id="create library_element_connection table v1" duration=854.163µs
logger=migrator t=2025-07-27T02:26:29.866019644Z level=info msg="Executing migration" id="add index library_element_connection element_id-kind-connection_id"
logger=migrator t=2025-07-27T02:26:29.866050123Z level=debug msg="Executing migration condition SQL" id="add index library_element_connection element_id-kind-connection_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[library_element_connection UQE_library_element_connection_element_id_kind_connection_id]"
logger=migrator t=2025-07-27T02:26:29.866372104Z level=debug msg="Executing sql migration" id="add index library_element_connection element_id-kind-connection_id" sql="CREATE UNIQUE INDEX `UQE_library_element_connection_element_id_kind_connection_id` ON `library_element_connection` (`element_id`,`kind`,`connection_id`);"
logger=migrator t=2025-07-27T02:26:29.866832258Z level=info msg="Migration successfully executed" id="add index library_element_connection element_id-kind-connection_id" duration=813.333µs
logger=migrator t=2025-07-27T02:26:30.012268411Z level=info msg="Executing migration" id="add unique index library_element org_id_uid"
logger=migrator t=2025-07-27T02:26:30.012334778Z level=debug msg="Executing migration condition SQL" id="add unique index library_element org_id_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[library_element UQE_library_element_org_id_uid]"
logger=migrator t=2025-07-27T02:26:30.013498679Z level=debug msg="Executing sql migration" id="add unique index library_element org_id_uid" sql="CREATE UNIQUE INDEX `UQE_library_element_org_id_uid` ON `library_element` (`org_id`,`uid`);"
logger=migrator t=2025-07-27T02:26:30.014639182Z level=info msg="Migration successfully executed" id="add unique index library_element org_id_uid" duration=2.376138ms
logger=migrator t=2025-07-27T02:26:30.150857066Z level=info msg="Executing migration" id="increase max description length to 2048"
logger=migrator t=2025-07-27T02:26:30.150952814Z level=debug msg="Executing sql migration" id="increase max description length to 2048" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:30.151019932Z level=info msg="Migration successfully executed" id="increase max description length to 2048" duration=166.24µs
logger=migrator t=2025-07-27T02:26:30.203425583Z level=info msg="Executing migration" id="alter library_element model to mediumtext"
logger=migrator t=2025-07-27T02:26:30.203451418Z level=debug msg="Executing sql migration" id="alter library_element model to mediumtext" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:30.203513919Z level=info msg="Migration successfully executed" id="alter library_element model to mediumtext" duration=90.677µs
logger=migrator t=2025-07-27T02:26:30.293604888Z level=info msg="Executing migration" id="clone move dashboard alerts to unified alerting"
logger=migrator t=2025-07-27T02:26:30.293643009Z level=debug msg="Executing code migration" id="clone move dashboard alerts to unified alerting"
logger=migrator t=2025-07-27T02:26:30.293914496Z level=info msg="Migration successfully executed" id="clone move dashboard alerts to unified alerting" duration=311.239µs
logger=migrator t=2025-07-27T02:26:30.355516886Z level=info msg="Executing migration" id="create data_keys table"
logger=migrator t=2025-07-27T02:26:30.355573589Z level=debug msg="Executing sql migration" id="create data_keys table" sql="CREATE TABLE IF NOT EXISTS `data_keys` (\n`name` TEXT PRIMARY KEY NOT NULL\n, `active` INTEGER NOT NULL\n, `scope` TEXT NOT NULL\n, `provider` TEXT NOT NULL\n, `encrypted_data` BLOB NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:30.357127654Z level=info msg="Migration successfully executed" id="create data_keys table" duration=1.672489ms
logger=migrator t=2025-07-27T02:26:30.415933378Z level=info msg="Executing migration" id="create secrets table"
logger=migrator t=2025-07-27T02:26:30.415975513Z level=debug msg="Executing sql migration" id="create secrets table" sql="CREATE TABLE IF NOT EXISTS `secrets` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `namespace` TEXT NOT NULL\n, `type` TEXT NOT NULL\n, `value` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:30.416632895Z level=info msg="Migration successfully executed" id="create secrets table" duration=701.941µs
logger=migrator t=2025-07-27T02:26:30.50138035Z level=info msg="Executing migration" id="rename data_keys name column to id"
logger=migrator t=2025-07-27T02:26:30.501416033Z level=debug msg="Executing sql migration" id="rename data_keys name column to id" sql="ALTER TABLE `data_keys` RENAME COLUMN `name` TO `id`"
logger=migrator t=2025-07-27T02:26:30.538263577Z level=info msg="Migration successfully executed" id="rename data_keys name column to id" duration=36.8908ms
logger=migrator t=2025-07-27T02:26:30.697914825Z level=info msg="Executing migration" id="add name column into data_keys"
logger=migrator t=2025-07-27T02:26:30.697955693Z level=debug msg="Executing sql migration" id="add name column into data_keys" sql="alter table `data_keys` ADD COLUMN `name` TEXT NOT NULL DEFAULT '' "
logger=migrator t=2025-07-27T02:26:30.708231983Z level=info msg="Migration successfully executed" id="add name column into data_keys" duration=10.319105ms
logger=migrator t=2025-07-27T02:26:30.77460059Z level=info msg="Executing migration" id="copy data_keys id column values into name"
logger=migrator t=2025-07-27T02:26:30.774650702Z level=debug msg="Executing sql migration" id="copy data_keys id column values into name" sql="UPDATE data_keys SET name = id"
logger=migrator t=2025-07-27T02:26:30.774976255Z level=info msg="Migration successfully executed" id="copy data_keys id column values into name" duration=377.629µs
logger=migrator t=2025-07-27T02:26:30.784682811Z level=info msg="Executing migration" id="rename data_keys name column to label"
logger=migrator t=2025-07-27T02:26:30.784695047Z level=debug msg="Executing sql migration" id="rename data_keys name column to label" sql="ALTER TABLE `data_keys` RENAME COLUMN `name` TO `label`"
logger=migrator t=2025-07-27T02:26:30.810176287Z level=info msg="Migration successfully executed" id="rename data_keys name column to label" duration=25.492188ms
logger=migrator t=2025-07-27T02:26:30.828877975Z level=info msg="Executing migration" id="rename data_keys id column back to name"
logger=migrator t=2025-07-27T02:26:30.828909214Z level=debug msg="Executing sql migration" id="rename data_keys id column back to name" sql="ALTER TABLE `data_keys` RENAME COLUMN `id` TO `name`"
logger=migrator t=2025-07-27T02:26:30.853958553Z level=info msg="Migration successfully executed" id="rename data_keys id column back to name" duration=25.073203ms
logger=migrator t=2025-07-27T02:26:30.884763733Z level=info msg="Executing migration" id="create kv_store table v1"
logger=migrator t=2025-07-27T02:26:30.884816013Z level=debug msg="Executing sql migration" id="create kv_store table v1" sql="CREATE TABLE IF NOT EXISTS `kv_store` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `namespace` TEXT NOT NULL\n, `key` TEXT NOT NULL\n, `value` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:30.88624108Z level=info msg="Migration successfully executed" id="create kv_store table v1" duration=1.479944ms
logger=migrator t=2025-07-27T02:26:30.918498154Z level=info msg="Executing migration" id="add index kv_store.org_id-namespace-key"
logger=migrator t=2025-07-27T02:26:30.918535512Z level=debug msg="Executing migration condition SQL" id="add index kv_store.org_id-namespace-key" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[kv_store UQE_kv_store_org_id_namespace_key]"
logger=migrator t=2025-07-27T02:26:30.919270969Z level=debug msg="Executing sql migration" id="add index kv_store.org_id-namespace-key" sql="CREATE UNIQUE INDEX `UQE_kv_store_org_id_namespace_key` ON `kv_store` (`org_id`,`namespace`,`key`);"
logger=migrator t=2025-07-27T02:26:30.920366249Z level=info msg="Migration successfully executed" id="add index kv_store.org_id-namespace-key" duration=1.86938ms
logger=migrator t=2025-07-27T02:26:30.941366365Z level=info msg="Executing migration" id="update dashboard_uid and panel_id from existing annotations"
logger=migrator t=2025-07-27T02:26:30.941416723Z level=debug msg="Executing code migration" id="update dashboard_uid and panel_id from existing annotations"
logger=migrator t=2025-07-27T02:26:30.941780579Z level=info msg="Migration successfully executed" id="update dashboard_uid and panel_id from existing annotations" duration=418.069µs
logger=migrator t=2025-07-27T02:26:30.962694712Z level=info msg="Executing migration" id="create permission table"
logger=migrator t=2025-07-27T02:26:30.9627135Z level=debug msg="Executing sql migration" id="create permission table" sql="CREATE TABLE IF NOT EXISTS `permission` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `role_id` INTEGER NOT NULL\n, `action` TEXT NOT NULL\n, `scope` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:30.963276887Z level=info msg="Migration successfully executed" id="create permission table" duration=579.708µs
logger=migrator t=2025-07-27T02:26:30.983842204Z level=info msg="Executing migration" id="add unique index permission.role_id"
logger=migrator t=2025-07-27T02:26:30.983868047Z level=debug msg="Executing migration condition SQL" id="add unique index permission.role_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[permission IDX_permission_role_id]"
logger=migrator t=2025-07-27T02:26:30.984147991Z level=debug msg="Executing sql migration" id="add unique index permission.role_id" sql="CREATE INDEX `IDX_permission_role_id` ON `permission` (`role_id`);"
logger=migrator t=2025-07-27T02:26:30.984520549Z level=info msg="Migration successfully executed" id="add unique index permission.role_id" duration=679.473µs
logger=migrator t=2025-07-27T02:26:31.003372395Z level=info msg="Executing migration" id="add unique index role_id_action_scope"
logger=migrator t=2025-07-27T02:26:31.003383517Z level=debug msg="Executing migration condition SQL" id="add unique index role_id_action_scope" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[permission UQE_permission_role_id_action_scope]"
logger=migrator t=2025-07-27T02:26:31.003614671Z level=debug msg="Executing sql migration" id="add unique index role_id_action_scope" sql="CREATE UNIQUE INDEX `UQE_permission_role_id_action_scope` ON `permission` (`role_id`,`action`,`scope`);"
logger=migrator t=2025-07-27T02:26:31.004002134Z level=info msg="Migration successfully executed" id="add unique index role_id_action_scope" duration=629.887µs
logger=migrator t=2025-07-27T02:26:31.02297703Z level=info msg="Executing migration" id="create role table"
logger=migrator t=2025-07-27T02:26:31.022993Z level=debug msg="Executing sql migration" id="create role table" sql="CREATE TABLE IF NOT EXISTS `role` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `name` TEXT NOT NULL\n, `description` TEXT NULL\n, `version` INTEGER NOT NULL\n, `org_id` INTEGER NOT NULL\n, `uid` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:31.023469252Z level=info msg="Migration successfully executed" id="create role table" duration=493.047µs
logger=migrator t=2025-07-27T02:26:31.042995784Z level=info msg="Executing migration" id="add column display_name"
logger=migrator t=2025-07-27T02:26:31.043007044Z level=debug msg="Executing sql migration" id="add column display_name" sql="alter table `role` ADD COLUMN `display_name` TEXT NULL "
logger=migrator t=2025-07-27T02:26:31.0464261Z level=info msg="Migration successfully executed" id="add column display_name" duration=3.430094ms
logger=migrator t=2025-07-27T02:26:31.067278789Z level=info msg="Executing migration" id="add column group_name"
logger=migrator t=2025-07-27T02:26:31.067317188Z level=debug msg="Executing sql migration" id="add column group_name" sql="alter table `role` ADD COLUMN `group_name` TEXT NULL "
logger=migrator t=2025-07-27T02:26:31.072500485Z level=info msg="Migration successfully executed" id="add column group_name" duration=5.225086ms
logger=migrator t=2025-07-27T02:26:31.092205804Z level=info msg="Executing migration" id="add index role.org_id"
logger=migrator t=2025-07-27T02:26:31.092234619Z level=debug msg="Executing migration condition SQL" id="add index role.org_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[role IDX_role_org_id]"
logger=migrator t=2025-07-27T02:26:31.092953715Z level=debug msg="Executing sql migration" id="add index role.org_id" sql="CREATE INDEX `IDX_role_org_id` ON `role` (`org_id`);"
logger=migrator t=2025-07-27T02:26:31.094083916Z level=info msg="Migration successfully executed" id="add index role.org_id" duration=1.878991ms
logger=migrator t=2025-07-27T02:26:31.115139733Z level=info msg="Executing migration" id="add unique index role_org_id_name"
logger=migrator t=2025-07-27T02:26:31.115170061Z level=debug msg="Executing migration condition SQL" id="add unique index role_org_id_name" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[role UQE_role_org_id_name]"
logger=migrator t=2025-07-27T02:26:31.116107397Z level=debug msg="Executing sql migration" id="add unique index role_org_id_name" sql="CREATE UNIQUE INDEX `UQE_role_org_id_name` ON `role` (`org_id`,`name`);"
logger=migrator t=2025-07-27T02:26:31.117184411Z level=info msg="Migration successfully executed" id="add unique index role_org_id_name" duration=2.047627ms
logger=migrator t=2025-07-27T02:26:31.150022676Z level=info msg="Executing migration" id="add index role_org_id_uid"
logger=migrator t=2025-07-27T02:26:31.150039662Z level=debug msg="Executing migration condition SQL" id="add index role_org_id_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[role UQE_role_org_id_uid]"
logger=migrator t=2025-07-27T02:26:31.150328605Z level=debug msg="Executing sql migration" id="add index role_org_id_uid" sql="CREATE UNIQUE INDEX `UQE_role_org_id_uid` ON `role` (`org_id`,`uid`);"
logger=migrator t=2025-07-27T02:26:31.150751536Z level=info msg="Migration successfully executed" id="add index role_org_id_uid" duration=729.822µs
logger=migrator t=2025-07-27T02:26:31.169769818Z level=info msg="Executing migration" id="create team role table"
logger=migrator t=2025-07-27T02:26:31.169796607Z level=debug msg="Executing sql migration" id="create team role table" sql="CREATE TABLE IF NOT EXISTS `team_role` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `team_id` INTEGER NOT NULL\n, `role_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:31.170430004Z level=info msg="Migration successfully executed" id="create team role table" duration=661.054µs
logger=migrator t=2025-07-27T02:26:31.188822041Z level=info msg="Executing migration" id="add index team_role.org_id"
logger=migrator t=2025-07-27T02:26:31.188840076Z level=debug msg="Executing migration condition SQL" id="add index team_role.org_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[team_role IDX_team_role_org_id]"
logger=migrator t=2025-07-27T02:26:31.189161633Z level=debug msg="Executing sql migration" id="add index team_role.org_id" sql="CREATE INDEX `IDX_team_role_org_id` ON `team_role` (`org_id`);"
logger=migrator t=2025-07-27T02:26:31.189577289Z level=info msg="Migration successfully executed" id="add index team_role.org_id" duration=756.296µs
logger=migrator t=2025-07-27T02:26:31.208475764Z level=info msg="Executing migration" id="add unique index team_role_org_id_team_id_role_id"
logger=migrator t=2025-07-27T02:26:31.20849729Z level=debug msg="Executing migration condition SQL" id="add unique index team_role_org_id_team_id_role_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[team_role UQE_team_role_org_id_team_id_role_id]"
logger=migrator t=2025-07-27T02:26:31.208801415Z level=debug msg="Executing sql migration" id="add unique index team_role_org_id_team_id_role_id" sql="CREATE UNIQUE INDEX `UQE_team_role_org_id_team_id_role_id` ON `team_role` (`org_id`,`team_id`,`role_id`);"
logger=migrator t=2025-07-27T02:26:31.209277808Z level=info msg="Migration successfully executed" id="add unique index team_role_org_id_team_id_role_id" duration=800.079µs
logger=migrator t=2025-07-27T02:26:31.229222897Z level=info msg="Executing migration" id="add index team_role.team_id"
logger=migrator t=2025-07-27T02:26:31.229241719Z level=debug msg="Executing migration condition SQL" id="add index team_role.team_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[team_role IDX_team_role_team_id]"
logger=migrator t=2025-07-27T02:26:31.229540396Z level=debug msg="Executing sql migration" id="add index team_role.team_id" sql="CREATE INDEX `IDX_team_role_team_id` ON `team_role` (`team_id`);"
logger=migrator t=2025-07-27T02:26:31.229971695Z level=info msg="Migration successfully executed" id="add index team_role.team_id" duration=750.083µs
logger=migrator t=2025-07-27T02:26:31.248964201Z level=info msg="Executing migration" id="create user role table"
logger=migrator t=2025-07-27T02:26:31.24898241Z level=debug msg="Executing sql migration" id="create user role table" sql="CREATE TABLE IF NOT EXISTS `user_role` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `user_id` INTEGER NOT NULL\n, `role_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:31.249569361Z level=info msg="Migration successfully executed" id="create user role table" duration=605.527µs
logger=migrator t=2025-07-27T02:26:31.268608844Z level=info msg="Executing migration" id="add index user_role.org_id"
logger=migrator t=2025-07-27T02:26:31.268629388Z level=debug msg="Executing migration condition SQL" id="add index user_role.org_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user_role IDX_user_role_org_id]"
logger=migrator t=2025-07-27T02:26:31.268978315Z level=debug msg="Executing sql migration" id="add index user_role.org_id" sql="CREATE INDEX `IDX_user_role_org_id` ON `user_role` (`org_id`);"
logger=migrator t=2025-07-27T02:26:31.269421275Z level=info msg="Migration successfully executed" id="add index user_role.org_id" duration=813.76µs
logger=migrator t=2025-07-27T02:26:31.288108883Z level=info msg="Executing migration" id="add unique index user_role_org_id_user_id_role_id"
logger=migrator t=2025-07-27T02:26:31.288137477Z level=debug msg="Executing migration condition SQL" id="add unique index user_role_org_id_user_id_role_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user_role UQE_user_role_org_id_user_id_role_id]"
logger=migrator t=2025-07-27T02:26:31.288461118Z level=debug msg="Executing sql migration" id="add unique index user_role_org_id_user_id_role_id" sql="CREATE UNIQUE INDEX `UQE_user_role_org_id_user_id_role_id` ON `user_role` (`org_id`,`user_id`,`role_id`);"
logger=migrator t=2025-07-27T02:26:31.288896874Z level=info msg="Migration successfully executed" id="add unique index user_role_org_id_user_id_role_id" duration=788.658µs
logger=migrator t=2025-07-27T02:26:31.307550198Z level=info msg="Executing migration" id="add index user_role.user_id"
logger=migrator t=2025-07-27T02:26:31.30757299Z level=debug msg="Executing migration condition SQL" id="add index user_role.user_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[user_role IDX_user_role_user_id]"
logger=migrator t=2025-07-27T02:26:31.307936824Z level=debug msg="Executing sql migration" id="add index user_role.user_id" sql="CREATE INDEX `IDX_user_role_user_id` ON `user_role` (`user_id`);"
logger=migrator t=2025-07-27T02:26:31.308345533Z level=info msg="Migration successfully executed" id="add index user_role.user_id" duration=798.685µs
logger=migrator t=2025-07-27T02:26:31.331784884Z level=info msg="Executing migration" id="create builtin role table"
logger=migrator t=2025-07-27T02:26:31.331819128Z level=debug msg="Executing sql migration" id="create builtin role table" sql="CREATE TABLE IF NOT EXISTS `builtin_role` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `role` TEXT NOT NULL\n, `role_id` INTEGER NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:31.332639811Z level=info msg="Migration successfully executed" id="create builtin role table" duration=854.795µs
logger=migrator t=2025-07-27T02:26:31.354144909Z level=info msg="Executing migration" id="add index builtin_role.role_id"
logger=migrator t=2025-07-27T02:26:31.354162192Z level=debug msg="Executing migration condition SQL" id="add index builtin_role.role_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[builtin_role IDX_builtin_role_role_id]"
logger=migrator t=2025-07-27T02:26:31.354482545Z level=debug msg="Executing sql migration" id="add index builtin_role.role_id" sql="CREATE INDEX `IDX_builtin_role_role_id` ON `builtin_role` (`role_id`);"
logger=migrator t=2025-07-27T02:26:31.354920546Z level=info msg="Migration successfully executed" id="add index builtin_role.role_id" duration=777.389µs
logger=migrator t=2025-07-27T02:26:31.374342821Z level=info msg="Executing migration" id="add index builtin_role.name"
logger=migrator t=2025-07-27T02:26:31.374362292Z level=debug msg="Executing migration condition SQL" id="add index builtin_role.name" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[builtin_role IDX_builtin_role_role]"
logger=migrator t=2025-07-27T02:26:31.374691606Z level=debug msg="Executing sql migration" id="add index builtin_role.name" sql="CREATE INDEX `IDX_builtin_role_role` ON `builtin_role` (`role`);"
logger=migrator t=2025-07-27T02:26:31.375100626Z level=info msg="Migration successfully executed" id="add index builtin_role.name" duration=759.168µs
logger=migrator t=2025-07-27T02:26:31.394518297Z level=info msg="Executing migration" id="Add column org_id to builtin_role table"
logger=migrator t=2025-07-27T02:26:31.394539139Z level=debug msg="Executing sql migration" id="Add column org_id to builtin_role table" sql="alter table `builtin_role` ADD COLUMN `org_id` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:31.398090243Z level=info msg="Migration successfully executed" id="Add column org_id to builtin_role table" duration=3.572413ms
logger=migrator t=2025-07-27T02:26:31.416317113Z level=info msg="Executing migration" id="add index builtin_role.org_id"
logger=migrator t=2025-07-27T02:26:31.416341204Z level=debug msg="Executing migration condition SQL" id="add index builtin_role.org_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[builtin_role IDX_builtin_role_org_id]"
logger=migrator t=2025-07-27T02:26:31.416646299Z level=debug msg="Executing sql migration" id="add index builtin_role.org_id" sql="CREATE INDEX `IDX_builtin_role_org_id` ON `builtin_role` (`org_id`);"
logger=migrator t=2025-07-27T02:26:31.417036391Z level=info msg="Migration successfully executed" id="add index builtin_role.org_id" duration=720.51µs
logger=migrator t=2025-07-27T02:26:31.435730003Z level=info msg="Executing migration" id="add unique index builtin_role_org_id_role_id_role"
logger=migrator t=2025-07-27T02:26:31.435748255Z level=debug msg="Executing migration condition SQL" id="add unique index builtin_role_org_id_role_id_role" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[builtin_role UQE_builtin_role_org_id_role_id_role]"
logger=migrator t=2025-07-27T02:26:31.436083189Z level=debug msg="Executing sql migration" id="add unique index builtin_role_org_id_role_id_role" sql="CREATE UNIQUE INDEX `UQE_builtin_role_org_id_role_id_role` ON `builtin_role` (`org_id`,`role_id`,`role`);"
logger=migrator t=2025-07-27T02:26:31.436616979Z level=info msg="Migration successfully executed" id="add unique index builtin_role_org_id_role_id_role" duration=884.601µs
logger=migrator t=2025-07-27T02:26:31.455400492Z level=info msg="Executing migration" id="Remove unique index role_org_id_uid"
logger=migrator t=2025-07-27T02:26:31.455416324Z level=debug msg="Executing migration condition SQL" id="Remove unique index role_org_id_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[role UQE_role_org_id_uid]"
logger=migrator t=2025-07-27T02:26:31.455714305Z level=debug msg="Executing sql migration" id="Remove unique index role_org_id_uid" sql="DROP INDEX `UQE_role_org_id_uid`"
logger=migrator t=2025-07-27T02:26:31.456105454Z level=info msg="Migration successfully executed" id="Remove unique index role_org_id_uid" duration=706.513µs
logger=migrator t=2025-07-27T02:26:31.474567827Z level=info msg="Executing migration" id="add unique index role.uid"
logger=migrator t=2025-07-27T02:26:31.474600124Z level=debug msg="Executing migration condition SQL" id="add unique index role.uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[role UQE_role_uid]"
logger=migrator t=2025-07-27T02:26:31.474912732Z level=debug msg="Executing sql migration" id="add unique index role.uid" sql="CREATE UNIQUE INDEX `UQE_role_uid` ON `role` (`uid`);"
logger=migrator t=2025-07-27T02:26:31.475316965Z level=info msg="Migration successfully executed" id="add unique index role.uid" duration=749.921µs
logger=migrator t=2025-07-27T02:26:31.493740112Z level=info msg="Executing migration" id="create seed assignment table"
logger=migrator t=2025-07-27T02:26:31.493756626Z level=debug msg="Executing sql migration" id="create seed assignment table" sql="CREATE TABLE IF NOT EXISTS `seed_assignment` (\n`builtin_role` TEXT NOT NULL\n, `role_name` TEXT NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:31.494279888Z level=info msg="Migration successfully executed" id="create seed assignment table" duration=543.609µs
logger=migrator t=2025-07-27T02:26:31.512933433Z level=info msg="Executing migration" id="add unique index builtin_role_role_name"
logger=migrator t=2025-07-27T02:26:31.5129502Z level=debug msg="Executing migration condition SQL" id="add unique index builtin_role_role_name" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[seed_assignment UQE_seed_assignment_builtin_role_role_name]"
logger=migrator t=2025-07-27T02:26:31.51326003Z level=debug msg="Executing sql migration" id="add unique index builtin_role_role_name" sql="CREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_role_name` ON `seed_assignment` (`builtin_role`,`role_name`);"
logger=migrator t=2025-07-27T02:26:31.513650713Z level=info msg="Migration successfully executed" id="add unique index builtin_role_role_name" duration=718.354µs
logger=migrator t=2025-07-27T02:26:31.531885178Z level=info msg="Executing migration" id="add column hidden to role table"
logger=migrator t=2025-07-27T02:26:31.53190328Z level=debug msg="Executing sql migration" id="add column hidden to role table" sql="alter table `role` ADD COLUMN `hidden` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:31.536170005Z level=info msg="Migration successfully executed" id="add column hidden to role table" duration=4.283894ms
logger=migrator t=2025-07-27T02:26:31.55421202Z level=info msg="Executing migration" id="permission kind migration"
logger=migrator t=2025-07-27T02:26:31.554227886Z level=debug msg="Executing sql migration" id="permission kind migration" sql="alter table `permission` ADD COLUMN `kind` TEXT NOT NULL DEFAULT '' "
logger=migrator t=2025-07-27T02:26:31.558000906Z level=info msg="Migration successfully executed" id="permission kind migration" duration=3.788428ms
logger=migrator t=2025-07-27T02:26:31.576285465Z level=info msg="Executing migration" id="permission attribute migration"
logger=migrator t=2025-07-27T02:26:31.576303261Z level=debug msg="Executing sql migration" id="permission attribute migration" sql="alter table `permission` ADD COLUMN `attribute` TEXT NOT NULL DEFAULT '' "
logger=migrator t=2025-07-27T02:26:31.580021531Z level=info msg="Migration successfully executed" id="permission attribute migration" duration=3.736239ms
logger=migrator t=2025-07-27T02:26:31.598065265Z level=info msg="Executing migration" id="permission identifier migration"
logger=migrator t=2025-07-27T02:26:31.598083416Z level=debug msg="Executing sql migration" id="permission identifier migration" sql="alter table `permission` ADD COLUMN `identifier` TEXT NOT NULL DEFAULT '' "
logger=migrator t=2025-07-27T02:26:31.602443462Z level=info msg="Migration successfully executed" id="permission identifier migration" duration=4.375937ms
logger=migrator t=2025-07-27T02:26:31.620571942Z level=info msg="Executing migration" id="add permission identifier index"
logger=migrator t=2025-07-27T02:26:31.620591232Z level=debug msg="Executing migration condition SQL" id="add permission identifier index" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[permission IDX_permission_identifier]"
logger=migrator t=2025-07-27T02:26:31.620954234Z level=debug msg="Executing sql migration" id="add permission identifier index" sql="CREATE INDEX `IDX_permission_identifier` ON `permission` (`identifier`);"
logger=migrator t=2025-07-27T02:26:31.621377958Z level=info msg="Migration successfully executed" id="add permission identifier index" duration=807.125µs
logger=migrator t=2025-07-27T02:26:31.640338111Z level=info msg="Executing migration" id="create query_history table v1"
logger=migrator t=2025-07-27T02:26:31.640357971Z level=debug msg="Executing sql migration" id="create query_history table v1" sql="CREATE TABLE IF NOT EXISTS `query_history` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `uid` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `datasource_uid` TEXT NOT NULL\n, `created_by` INTEGER NOT NULL\n, `created_at` INTEGER NOT NULL\n, `comment` TEXT NOT NULL\n, `queries` TEXT NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:31.640969404Z level=info msg="Migration successfully executed" id="create query_history table v1" duration=632.418µs
logger=migrator t=2025-07-27T02:26:31.659763645Z level=info msg="Executing migration" id="add index query_history.org_id-created_by-datasource_uid"
logger=migrator t=2025-07-27T02:26:31.659781516Z level=debug msg="Executing migration condition SQL" id="add index query_history.org_id-created_by-datasource_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[query_history IDX_query_history_org_id_created_by_datasource_uid]"
logger=migrator t=2025-07-27T02:26:31.660107815Z level=debug msg="Executing sql migration" id="add index query_history.org_id-created_by-datasource_uid" sql="CREATE INDEX `IDX_query_history_org_id_created_by_datasource_uid` ON `query_history` (`org_id`,`created_by`,`datasource_uid`);"
logger=migrator t=2025-07-27T02:26:31.66054282Z level=info msg="Migration successfully executed" id="add index query_history.org_id-created_by-datasource_uid" duration=780.017µs
logger=migrator t=2025-07-27T02:26:31.679157481Z level=info msg="Executing migration" id="alter table query_history alter column created_by type to bigint"
logger=migrator t=2025-07-27T02:26:31.679175093Z level=debug msg="Executing sql migration" id="alter table query_history alter column created_by type to bigint" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:31.679246155Z level=info msg="Migration successfully executed" id="alter table query_history alter column created_by type to bigint" duration=87.043µs
logger=migrator t=2025-07-27T02:26:31.697355785Z level=info msg="Executing migration" id="rbac disabled migrator"
logger=migrator t=2025-07-27T02:26:31.697375849Z level=debug msg="Executing code migration" id="rbac disabled migrator"
logger=migrator t=2025-07-27T02:26:31.697392612Z level=debug msg="skip reset of rbac data migrations"
logger=migrator t=2025-07-27T02:26:31.697396654Z level=info msg="Migration successfully executed" id="rbac disabled migrator" duration=43.424µs
logger=migrator t=2025-07-27T02:26:31.715663866Z level=info msg="Executing migration" id="teams permissions migration"
logger=migrator t=2025-07-27T02:26:31.715683672Z level=debug msg="Executing code migration" id="teams permissions migration"
logger=migrator t=2025-07-27T02:26:31.715985676Z level=info msg="Migration successfully executed" id="teams permissions migration" duration=320.122µs
logger=migrator t=2025-07-27T02:26:31.73384884Z level=info msg="Executing migration" id="dashboard permissions"
logger=migrator t=2025-07-27T02:26:31.733886992Z level=debug msg="Executing code migration" id="dashboard permissions"
logger=migrator t=2025-07-27T02:26:31.734548914Z level=debug msg="bulk-creating roles []"
logger=migrator t=2025-07-27T02:26:31.734560244Z level=info msg="Migration successfully executed" id="dashboard permissions" duration=715.165µs
logger=migrator t=2025-07-27T02:26:31.752308302Z level=info msg="Executing migration" id="dashboard permissions uid scopes"
logger=migrator t=2025-07-27T02:26:31.75232724Z level=debug msg="Executing code migration" id="dashboard permissions uid scopes"
logger=migrator t=2025-07-27T02:26:31.752728571Z level=info msg="Migration successfully executed" id="dashboard permissions uid scopes" duration=422.546µs
logger=migrator t=2025-07-27T02:26:31.77077767Z level=info msg="Executing migration" id="drop managed folder create actions"
logger=migrator t=2025-07-27T02:26:31.77079696Z level=debug msg="Executing code migration" id="drop managed folder create actions"
logger=migrator t=2025-07-27T02:26:31.770974375Z level=info msg="Migration successfully executed" id="drop managed folder create actions" duration=201.619µs
logger=migrator t=2025-07-27T02:26:31.788973145Z level=info msg="Executing migration" id="alerting notification permissions"
logger=migrator t=2025-07-27T02:26:31.788992152Z level=debug msg="Executing code migration" id="alerting notification permissions"
logger=migrator t=2025-07-27T02:26:31.789235648Z level=info msg="Migration successfully executed" id="alerting notification permissions" duration=264.84µs
logger=migrator t=2025-07-27T02:26:31.807247112Z level=info msg="Executing migration" id="create query_history_star table v1"
logger=migrator t=2025-07-27T02:26:31.807273042Z level=debug msg="Executing sql migration" id="create query_history_star table v1" sql="CREATE TABLE IF NOT EXISTS `query_history_star` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `query_uid` TEXT NOT NULL\n, `user_id` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:31.807816605Z level=info msg="Migration successfully executed" id="create query_history_star table v1" duration=570.854µs
logger=migrator t=2025-07-27T02:26:31.826409791Z level=info msg="Executing migration" id="add index query_history.user_id-query_uid"
logger=migrator t=2025-07-27T02:26:31.82644081Z level=debug msg="Executing migration condition SQL" id="add index query_history.user_id-query_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[query_history_star UQE_query_history_star_user_id_query_uid]"
logger=migrator t=2025-07-27T02:26:31.826733744Z level=debug msg="Executing sql migration" id="add index query_history.user_id-query_uid" sql="CREATE UNIQUE INDEX `UQE_query_history_star_user_id_query_uid` ON `query_history_star` (`user_id`,`query_uid`);"
logger=migrator t=2025-07-27T02:26:31.82712747Z level=info msg="Migration successfully executed" id="add index query_history.user_id-query_uid" duration=718.449µs
logger=migrator t=2025-07-27T02:26:31.845776971Z level=info msg="Executing migration" id="add column org_id in query_history_star"
logger=migrator t=2025-07-27T02:26:31.8458005Z level=debug msg="Executing sql migration" id="add column org_id in query_history_star" sql="alter table `query_history_star` ADD COLUMN `org_id` INTEGER NOT NULL DEFAULT 1 "
logger=migrator t=2025-07-27T02:26:31.849735511Z level=info msg="Migration successfully executed" id="add column org_id in query_history_star" duration=3.95603ms
logger=migrator t=2025-07-27T02:26:31.879781119Z level=info msg="Executing migration" id="alter table query_history_star_mig column user_id type to bigint"
logger=migrator t=2025-07-27T02:26:31.879838083Z level=debug msg="Executing sql migration" id="alter table query_history_star_mig column user_id type to bigint" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:31.8800008Z level=info msg="Migration successfully executed" id="alter table query_history_star_mig column user_id type to bigint" duration=223.556µs
logger=migrator t=2025-07-27T02:26:31.911371273Z level=info msg="Executing migration" id="create correlation table v1"
logger=migrator t=2025-07-27T02:26:31.911420437Z level=debug msg="Executing sql migration" id="create correlation table v1" sql="CREATE TABLE IF NOT EXISTS `correlation` (\n`uid` TEXT NOT NULL\n, `source_uid` TEXT NOT NULL\n, `target_uid` TEXT NULL\n, `label` TEXT NOT NULL\n, `description` TEXT NOT NULL\n, PRIMARY KEY ( `uid`,`source_uid` ));"
logger=migrator t=2025-07-27T02:26:31.912981488Z level=info msg="Migration successfully executed" id="create correlation table v1" duration=1.610805ms
logger=migrator t=2025-07-27T02:26:31.933600374Z level=info msg="Executing migration" id="add index correlations.uid"
logger=migrator t=2025-07-27T02:26:31.933638224Z level=debug msg="Executing migration condition SQL" id="add index correlations.uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[correlation IDX_correlation_uid]"
logger=migrator t=2025-07-27T02:26:31.934420295Z level=debug msg="Executing sql migration" id="add index correlations.uid" sql="CREATE INDEX `IDX_correlation_uid` ON `correlation` (`uid`);"
logger=migrator t=2025-07-27T02:26:31.935163636Z level=info msg="Migration successfully executed" id="add index correlations.uid" duration=1.566347ms
logger=migrator t=2025-07-27T02:26:31.956554324Z level=info msg="Executing migration" id="add index correlations.source_uid"
logger=migrator t=2025-07-27T02:26:31.95659151Z level=debug msg="Executing migration condition SQL" id="add index correlations.source_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[correlation IDX_correlation_source_uid]"
logger=migrator t=2025-07-27T02:26:31.956882258Z level=debug msg="Executing sql migration" id="add index correlations.source_uid" sql="CREATE INDEX `IDX_correlation_source_uid` ON `correlation` (`source_uid`);"
logger=migrator t=2025-07-27T02:26:31.957243666Z level=info msg="Migration successfully executed" id="add index correlations.source_uid" duration=692.103µs
logger=migrator t=2025-07-27T02:26:31.977558279Z level=info msg="Executing migration" id="add correlation config column"
logger=migrator t=2025-07-27T02:26:31.97759088Z level=debug msg="Executing sql migration" id="add correlation config column" sql="alter table `correlation` ADD COLUMN `config` TEXT NULL "
logger=migrator t=2025-07-27T02:26:31.982887392Z level=info msg="Migration successfully executed" id="add correlation config column" duration=5.330844ms
logger=migrator t=2025-07-27T02:26:32.002785195Z level=info msg="Executing migration" id="drop index IDX_correlation_uid - v1"
logger=migrator t=2025-07-27T02:26:32.002833694Z level=debug msg="Executing migration condition SQL" id="drop index IDX_correlation_uid - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[correlation IDX_correlation_uid]"
logger=migrator t=2025-07-27T02:26:32.003540646Z level=debug msg="Executing sql migration" id="drop index IDX_correlation_uid - v1" sql="DROP INDEX `IDX_correlation_uid`"
logger=migrator t=2025-07-27T02:26:32.004525389Z level=info msg="Migration successfully executed" id="drop index IDX_correlation_uid - v1" duration=1.745416ms
logger=migrator t=2025-07-27T02:26:32.024186329Z level=info msg="Executing migration" id="drop index IDX_correlation_source_uid - v1"
logger=migrator t=2025-07-27T02:26:32.024202671Z level=debug msg="Executing migration condition SQL" id="drop index IDX_correlation_source_uid - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[correlation IDX_correlation_source_uid]"
logger=migrator t=2025-07-27T02:26:32.024493329Z level=debug msg="Executing sql migration" id="drop index IDX_correlation_source_uid - v1" sql="DROP INDEX `IDX_correlation_source_uid`"
logger=migrator t=2025-07-27T02:26:32.024866736Z level=info msg="Migration successfully executed" id="drop index IDX_correlation_source_uid - v1" duration=673.685µs
logger=migrator t=2025-07-27T02:26:32.045612273Z level=info msg="Executing migration" id="Rename table correlation to correlation_tmp_qwerty - v1"
logger=migrator t=2025-07-27T02:26:32.045657688Z level=debug msg="Executing sql migration" id="Rename table correlation to correlation_tmp_qwerty - v1" sql="ALTER TABLE `correlation` RENAME TO `correlation_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:32.065969373Z level=info msg="Migration successfully executed" id="Rename table correlation to correlation_tmp_qwerty - v1" duration=20.365219ms
logger=migrator t=2025-07-27T02:26:32.084624681Z level=info msg="Executing migration" id="create correlation v2"
logger=migrator t=2025-07-27T02:26:32.084651281Z level=debug msg="Executing sql migration" id="create correlation v2" sql="CREATE TABLE IF NOT EXISTS `correlation` (\n`uid` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL DEFAULT 0\n, `source_uid` TEXT NOT NULL\n, `target_uid` TEXT NULL\n, `label` TEXT NOT NULL\n, `description` TEXT NOT NULL\n, `config` TEXT NULL\n, PRIMARY KEY ( `uid`,`org_id`,`source_uid` ));"
logger=migrator t=2025-07-27T02:26:32.085627156Z level=info msg="Migration successfully executed" id="create correlation v2" duration=1.002646ms
logger=migrator t=2025-07-27T02:26:32.10525361Z level=info msg="Executing migration" id="create index IDX_correlation_uid - v2"
logger=migrator t=2025-07-27T02:26:32.105296592Z level=debug msg="Executing migration condition SQL" id="create index IDX_correlation_uid - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[correlation IDX_correlation_uid]"
logger=migrator t=2025-07-27T02:26:32.105929027Z level=debug msg="Executing sql migration" id="create index IDX_correlation_uid - v2" sql="CREATE INDEX `IDX_correlation_uid` ON `correlation` (`uid`);"
logger=migrator t=2025-07-27T02:26:32.106917401Z level=info msg="Migration successfully executed" id="create index IDX_correlation_uid - v2" duration=1.664142ms
logger=migrator t=2025-07-27T02:26:32.127122988Z level=info msg="Executing migration" id="create index IDX_correlation_source_uid - v2"
logger=migrator t=2025-07-27T02:26:32.12714878Z level=debug msg="Executing migration condition SQL" id="create index IDX_correlation_source_uid - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[correlation IDX_correlation_source_uid]"
logger=migrator t=2025-07-27T02:26:32.127806558Z level=debug msg="Executing sql migration" id="create index IDX_correlation_source_uid - v2" sql="CREATE INDEX `IDX_correlation_source_uid` ON `correlation` (`source_uid`);"
logger=migrator t=2025-07-27T02:26:32.128896474Z level=info msg="Migration successfully executed" id="create index IDX_correlation_source_uid - v2" duration=1.77358ms
logger=migrator t=2025-07-27T02:26:32.149944434Z level=info msg="Executing migration" id="create index IDX_correlation_org_id - v2"
logger=migrator t=2025-07-27T02:26:32.149988218Z level=debug msg="Executing migration condition SQL" id="create index IDX_correlation_org_id - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[correlation IDX_correlation_org_id]"
logger=migrator t=2025-07-27T02:26:32.150790136Z level=debug msg="Executing sql migration" id="create index IDX_correlation_org_id - v2" sql="CREATE INDEX `IDX_correlation_org_id` ON `correlation` (`org_id`);"
logger=migrator t=2025-07-27T02:26:32.151246748Z level=info msg="Migration successfully executed" id="create index IDX_correlation_org_id - v2" duration=1.308156ms
logger=migrator t=2025-07-27T02:26:32.175795341Z level=info msg="Executing migration" id="copy correlation v1 to v2"
logger=migrator t=2025-07-27T02:26:32.175813595Z level=debug msg="Executing sql migration" id="copy correlation v1 to v2" sql="INSERT INTO `correlation` (`uid`\n, `source_uid`\n, `target_uid`\n, `label`\n, `description`\n, `config`) SELECT `uid`\n, `source_uid`\n, `target_uid`\n, `label`\n, `description`\n, `config` FROM `correlation_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:32.176019055Z level=info msg="Migration successfully executed" id="copy correlation v1 to v2" duration=225.131µs
logger=migrator t=2025-07-27T02:26:32.200765578Z level=info msg="Executing migration" id="drop correlation_tmp_qwerty"
logger=migrator t=2025-07-27T02:26:32.200784833Z level=debug msg="Executing sql migration" id="drop correlation_tmp_qwerty" sql="DROP TABLE IF EXISTS `correlation_tmp_qwerty`"
logger=migrator t=2025-07-27T02:26:32.20135164Z level=info msg="Migration successfully executed" id="drop correlation_tmp_qwerty" duration=588.089µs
logger=migrator t=2025-07-27T02:26:32.214361594Z level=info msg="Executing migration" id="add provisioning column"
logger=migrator t=2025-07-27T02:26:32.214376188Z level=debug msg="Executing sql migration" id="add provisioning column" sql="alter table `correlation` ADD COLUMN `provisioned` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:32.218243135Z level=info msg="Migration successfully executed" id="add provisioning column" duration=3.881328ms
logger=migrator t=2025-07-27T02:26:32.230897212Z level=info msg="Executing migration" id="create entity_events table"
logger=migrator t=2025-07-27T02:26:32.230940011Z level=debug msg="Executing sql migration" id="create entity_events table" sql="CREATE TABLE IF NOT EXISTS `entity_event` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `entity_id` TEXT NOT NULL\n, `event_type` TEXT NOT NULL\n, `created` INTEGER NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:32.231475398Z level=info msg="Migration successfully executed" id="create entity_events table" duration=579.336µs
logger=migrator t=2025-07-27T02:26:32.250077834Z level=info msg="Executing migration" id="create dashboard public config v1"
logger=migrator t=2025-07-27T02:26:32.250094142Z level=debug msg="Executing sql migration" id="create dashboard public config v1" sql="CREATE TABLE IF NOT EXISTS `dashboard_public_config` (\n`uid` TEXT PRIMARY KEY NOT NULL\n, `dashboard_uid` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `time_settings` TEXT NOT NULL\n, `refresh_rate` INTEGER NOT NULL DEFAULT 30\n, `template_variables` TEXT NULL\n);"
logger=migrator t=2025-07-27T02:26:32.250670856Z level=info msg="Migration successfully executed" id="create dashboard public config v1" duration=593.973µs
logger=migrator t=2025-07-27T02:26:32.269560236Z level=info msg="Executing migration" id="drop index UQE_dashboard_public_config_uid - v1"
logger=migrator t=2025-07-27T02:26:32.269578604Z level=debug msg="Executing migration condition SQL" id="drop index UQE_dashboard_public_config_uid - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_public_config UQE_dashboard_public_config_uid]"
logger=migrator t=2025-07-27T02:26:32.269864043Z level=warn msg="Skipping migration: Already executed, but not recorded in migration log" id="drop index UQE_dashboard_public_config_uid - v1"
logger=migrator t=2025-07-27T02:26:32.287954567Z level=info msg="Executing migration" id="drop index IDX_dashboard_public_config_org_id_dashboard_uid - v1"
logger=migrator t=2025-07-27T02:26:32.287991572Z level=debug msg="Executing migration condition SQL" id="drop index IDX_dashboard_public_config_org_id_dashboard_uid - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_public_config IDX_dashboard_public_config_org_id_dashboard_uid]"
logger=migrator t=2025-07-27T02:26:32.288644247Z level=warn msg="Skipping migration: Already executed, but not recorded in migration log" id="drop index IDX_dashboard_public_config_org_id_dashboard_uid - v1"
logger=migrator t=2025-07-27T02:26:32.307696196Z level=info msg="Executing migration" id="Drop old dashboard public config table"
logger=migrator t=2025-07-27T02:26:32.307734674Z level=debug msg="Executing sql migration" id="Drop old dashboard public config table" sql="DROP TABLE IF EXISTS `dashboard_public_config`"
logger=migrator t=2025-07-27T02:26:32.309133584Z level=info msg="Migration successfully executed" id="Drop old dashboard public config table" duration=1.44184ms
logger=migrator t=2025-07-27T02:26:32.328114817Z level=info msg="Executing migration" id="recreate dashboard public config v1"
logger=migrator t=2025-07-27T02:26:32.328149241Z level=debug msg="Executing sql migration" id="recreate dashboard public config v1" sql="CREATE TABLE IF NOT EXISTS `dashboard_public_config` (\n`uid` TEXT PRIMARY KEY NOT NULL\n, `dashboard_uid` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `time_settings` TEXT NOT NULL\n, `refresh_rate` INTEGER NOT NULL DEFAULT 30\n, `template_variables` TEXT NULL\n);"
logger=migrator t=2025-07-27T02:26:32.329617773Z level=info msg="Migration successfully executed" id="recreate dashboard public config v1" duration=1.503402ms
logger=migrator t=2025-07-27T02:26:32.35002551Z level=info msg="Executing migration" id="create index UQE_dashboard_public_config_uid - v1"
logger=migrator t=2025-07-27T02:26:32.350085067Z level=debug msg="Executing migration condition SQL" id="create index UQE_dashboard_public_config_uid - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_public_config UQE_dashboard_public_config_uid]"
logger=migrator t=2025-07-27T02:26:32.350785953Z level=debug msg="Executing sql migration" id="create index UQE_dashboard_public_config_uid - v1" sql="CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config` (`uid`);"
logger=migrator t=2025-07-27T02:26:32.351708959Z level=info msg="Migration successfully executed" id="create index UQE_dashboard_public_config_uid - v1" duration=1.699036ms
logger=migrator t=2025-07-27T02:26:32.371593776Z level=info msg="Executing migration" id="create index IDX_dashboard_public_config_org_id_dashboard_uid - v1"
logger=migrator t=2025-07-27T02:26:32.371636783Z level=debug msg="Executing migration condition SQL" id="create index IDX_dashboard_public_config_org_id_dashboard_uid - v1" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_public_config IDX_dashboard_public_config_org_id_dashboard_uid]"
logger=migrator t=2025-07-27T02:26:32.372315776Z level=debug msg="Executing sql migration" id="create index IDX_dashboard_public_config_org_id_dashboard_uid - v1" sql="CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config` (`org_id`,`dashboard_uid`);"
logger=migrator t=2025-07-27T02:26:32.373242548Z level=info msg="Migration successfully executed" id="create index IDX_dashboard_public_config_org_id_dashboard_uid - v1" duration=1.64892ms
logger=migrator t=2025-07-27T02:26:32.394387998Z level=info msg="Executing migration" id="drop index UQE_dashboard_public_config_uid - v2"
logger=migrator t=2025-07-27T02:26:32.394435135Z level=debug msg="Executing migration condition SQL" id="drop index UQE_dashboard_public_config_uid - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_public_config UQE_dashboard_public_config_uid]"
logger=migrator t=2025-07-27T02:26:32.395579476Z level=debug msg="Executing sql migration" id="drop index UQE_dashboard_public_config_uid - v2" sql="DROP INDEX `UQE_dashboard_public_config_uid`"
logger=migrator t=2025-07-27T02:26:32.396821982Z level=info msg="Migration successfully executed" id="drop index UQE_dashboard_public_config_uid - v2" duration=2.437585ms
logger=migrator t=2025-07-27T02:26:32.417070638Z level=info msg="Executing migration" id="drop index IDX_dashboard_public_config_org_id_dashboard_uid - v2"
logger=migrator t=2025-07-27T02:26:32.417092026Z level=debug msg="Executing migration condition SQL" id="drop index IDX_dashboard_public_config_org_id_dashboard_uid - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_public_config IDX_dashboard_public_config_org_id_dashboard_uid]"
logger=migrator t=2025-07-27T02:26:32.417482257Z level=debug msg="Executing sql migration" id="drop index IDX_dashboard_public_config_org_id_dashboard_uid - v2" sql="DROP INDEX `IDX_dashboard_public_config_org_id_dashboard_uid`"
logger=migrator t=2025-07-27T02:26:32.417980368Z level=info msg="Migration successfully executed" id="drop index IDX_dashboard_public_config_org_id_dashboard_uid - v2" duration=911.23µs
logger=migrator t=2025-07-27T02:26:32.436140953Z level=info msg="Executing migration" id="Drop public config table"
logger=migrator t=2025-07-27T02:26:32.436156397Z level=debug msg="Executing sql migration" id="Drop public config table" sql="DROP TABLE IF EXISTS `dashboard_public_config`"
logger=migrator t=2025-07-27T02:26:32.436763195Z level=info msg="Migration successfully executed" id="Drop public config table" duration=622.852µs
logger=migrator t=2025-07-27T02:26:32.455620918Z level=info msg="Executing migration" id="Recreate dashboard public config v2"
logger=migrator t=2025-07-27T02:26:32.455664379Z level=debug msg="Executing sql migration" id="Recreate dashboard public config v2" sql="CREATE TABLE IF NOT EXISTS `dashboard_public_config` (\n`uid` TEXT PRIMARY KEY NOT NULL\n, `dashboard_uid` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `time_settings` TEXT NULL\n, `template_variables` TEXT NULL\n, `access_token` TEXT NOT NULL\n, `created_by` INTEGER NOT NULL\n, `updated_by` INTEGER NULL\n, `created_at` DATETIME NOT NULL\n, `updated_at` DATETIME NULL\n, `is_enabled` INTEGER NOT NULL DEFAULT 0\n);"
logger=migrator t=2025-07-27T02:26:32.456348864Z level=info msg="Migration successfully executed" id="Recreate dashboard public config v2" duration=728.285µs
logger=migrator t=2025-07-27T02:26:32.474975647Z level=info msg="Executing migration" id="create index UQE_dashboard_public_config_uid - v2"
logger=migrator t=2025-07-27T02:26:32.474991451Z level=debug msg="Executing migration condition SQL" id="create index UQE_dashboard_public_config_uid - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_public_config UQE_dashboard_public_config_uid]"
logger=migrator t=2025-07-27T02:26:32.475306005Z level=debug msg="Executing sql migration" id="create index UQE_dashboard_public_config_uid - v2" sql="CREATE UNIQUE INDEX `UQE_dashboard_public_config_uid` ON `dashboard_public_config` (`uid`);"
logger=migrator t=2025-07-27T02:26:32.475709566Z level=info msg="Migration successfully executed" id="create index UQE_dashboard_public_config_uid - v2" duration=734.537µs
logger=migrator t=2025-07-27T02:26:32.494803281Z level=info msg="Executing migration" id="create index IDX_dashboard_public_config_org_id_dashboard_uid - v2"
logger=migrator t=2025-07-27T02:26:32.494830331Z level=debug msg="Executing migration condition SQL" id="create index IDX_dashboard_public_config_org_id_dashboard_uid - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_public_config IDX_dashboard_public_config_org_id_dashboard_uid]"
logger=migrator t=2025-07-27T02:26:32.495604957Z level=debug msg="Executing sql migration" id="create index IDX_dashboard_public_config_org_id_dashboard_uid - v2" sql="CREATE INDEX `IDX_dashboard_public_config_org_id_dashboard_uid` ON `dashboard_public_config` (`org_id`,`dashboard_uid`);"
logger=migrator t=2025-07-27T02:26:32.496647577Z level=info msg="Migration successfully executed" id="create index IDX_dashboard_public_config_org_id_dashboard_uid - v2" duration=1.849344ms
logger=migrator t=2025-07-27T02:26:32.51702249Z level=info msg="Executing migration" id="create index UQE_dashboard_public_config_access_token - v2"
logger=migrator t=2025-07-27T02:26:32.517056241Z level=debug msg="Executing migration condition SQL" id="create index UQE_dashboard_public_config_access_token - v2" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard_public_config UQE_dashboard_public_config_access_token]"
logger=migrator t=2025-07-27T02:26:32.517755451Z level=debug msg="Executing sql migration" id="create index UQE_dashboard_public_config_access_token - v2" sql="CREATE UNIQUE INDEX `UQE_dashboard_public_config_access_token` ON `dashboard_public_config` (`access_token`);"
logger=migrator t=2025-07-27T02:26:32.518733347Z level=info msg="Migration successfully executed" id="create index UQE_dashboard_public_config_access_token - v2" duration=1.711114ms
logger=migrator t=2025-07-27T02:26:32.538365431Z level=info msg="Executing migration" id="Rename table dashboard_public_config to dashboard_public - v2"
logger=migrator t=2025-07-27T02:26:32.538381049Z level=debug msg="Executing sql migration" id="Rename table dashboard_public_config to dashboard_public - v2" sql="ALTER TABLE `dashboard_public_config` RENAME TO `dashboard_public`"
logger=migrator t=2025-07-27T02:26:32.555833903Z level=info msg="Migration successfully executed" id="Rename table dashboard_public_config to dashboard_public - v2" duration=17.453429ms
logger=migrator t=2025-07-27T02:26:32.574498437Z level=info msg="Executing migration" id="add annotations_enabled column"
logger=migrator t=2025-07-27T02:26:32.57452491Z level=debug msg="Executing sql migration" id="add annotations_enabled column" sql="alter table `dashboard_public` ADD COLUMN `annotations_enabled` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:32.57967467Z level=info msg="Migration successfully executed" id="add annotations_enabled column" duration=5.177828ms
logger=migrator t=2025-07-27T02:26:32.599336466Z level=info msg="Executing migration" id="add time_selection_enabled column"
logger=migrator t=2025-07-27T02:26:32.5993711Z level=debug msg="Executing sql migration" id="add time_selection_enabled column" sql="alter table `dashboard_public` ADD COLUMN `time_selection_enabled` INTEGER NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:32.609623729Z level=info msg="Migration successfully executed" id="add time_selection_enabled column" duration=10.28858ms
logger=migrator t=2025-07-27T02:26:32.62868687Z level=info msg="Executing migration" id="delete orphaned public dashboards"
logger=migrator t=2025-07-27T02:26:32.62873327Z level=debug msg="Executing sql migration" id="delete orphaned public dashboards" sql="DELETE FROM dashboard_public WHERE dashboard_uid NOT IN (SELECT uid FROM dashboard)"
logger=migrator t=2025-07-27T02:26:32.629165244Z level=info msg="Migration successfully executed" id="delete orphaned public dashboards" duration=486.684µs
logger=migrator t=2025-07-27T02:26:32.649319479Z level=info msg="Executing migration" id="add share column"
logger=migrator t=2025-07-27T02:26:32.64935467Z level=debug msg="Executing sql migration" id="add share column" sql="alter table `dashboard_public` ADD COLUMN `share` TEXT NOT NULL DEFAULT 'public' "
logger=migrator t=2025-07-27T02:26:32.65434846Z level=info msg="Migration successfully executed" id="add share column" duration=5.031868ms
logger=migrator t=2025-07-27T02:26:32.673155583Z level=info msg="Executing migration" id="backfill empty share column fields with default of public"
logger=migrator t=2025-07-27T02:26:32.67318336Z level=debug msg="Executing sql migration" id="backfill empty share column fields with default of public" sql="UPDATE dashboard_public SET share='public' WHERE share=''"
logger=migrator t=2025-07-27T02:26:32.673556089Z level=info msg="Migration successfully executed" id="backfill empty share column fields with default of public" duration=402.155µs
logger=migrator t=2025-07-27T02:26:32.692898709Z level=info msg="Executing migration" id="create file table"
logger=migrator t=2025-07-27T02:26:32.692949762Z level=debug msg="Executing sql migration" id="create file table" sql="CREATE TABLE IF NOT EXISTS `file` (\n`path` TEXT NOT NULL\n, `path_hash` TEXT NOT NULL\n, `parent_folder_path_hash` TEXT NOT NULL\n, `contents` BLOB NOT NULL\n, `etag` TEXT NOT NULL\n, `cache_control` TEXT NOT NULL\n, `content_disposition` TEXT NOT NULL\n, `updated` DATETIME NOT NULL\n, `created` DATETIME NOT NULL\n, `size` INTEGER NOT NULL\n, `mime_type` TEXT NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:32.694350153Z level=info msg="Migration successfully executed" id="create file table" duration=1.454295ms
logger=migrator t=2025-07-27T02:26:32.714543839Z level=info msg="Executing migration" id="file table idx: path natural pk"
logger=migrator t=2025-07-27T02:26:32.714588452Z level=debug msg="Executing migration condition SQL" id="file table idx: path natural pk" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[file UQE_file_path_hash]"
logger=migrator t=2025-07-27T02:26:32.715314443Z level=debug msg="Executing sql migration" id="file table idx: path natural pk" sql="CREATE UNIQUE INDEX `UQE_file_path_hash` ON `file` (`path_hash`);"
logger=migrator t=2025-07-27T02:26:32.716130444Z level=info msg="Migration successfully executed" id="file table idx: path natural pk" duration=1.589357ms
logger=migrator t=2025-07-27T02:26:32.73590317Z level=info msg="Executing migration" id="file table idx: parent_folder_path_hash fast folder retrieval"
logger=migrator t=2025-07-27T02:26:32.735935853Z level=debug msg="Executing migration condition SQL" id="file table idx: parent_folder_path_hash fast folder retrieval" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[file IDX_file_parent_folder_path_hash]"
logger=migrator t=2025-07-27T02:26:32.736674574Z level=debug msg="Executing sql migration" id="file table idx: parent_folder_path_hash fast folder retrieval" sql="CREATE INDEX `IDX_file_parent_folder_path_hash` ON `file` (`parent_folder_path_hash`);"
logger=migrator t=2025-07-27T02:26:32.737718806Z level=info msg="Migration successfully executed" id="file table idx: parent_folder_path_hash fast folder retrieval" duration=1.817342ms
logger=migrator t=2025-07-27T02:26:32.756545408Z level=info msg="Executing migration" id="create file_meta table"
logger=migrator t=2025-07-27T02:26:32.756575746Z level=debug msg="Executing sql migration" id="create file_meta table" sql="CREATE TABLE IF NOT EXISTS `file_meta` (\n`path_hash` TEXT NOT NULL\n, `key` TEXT NOT NULL\n, `value` TEXT NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:32.757108543Z level=info msg="Migration successfully executed" id="create file_meta table" duration=566.748µs
logger=migrator t=2025-07-27T02:26:32.775518899Z level=info msg="Executing migration" id="file table idx: path key"
logger=migrator t=2025-07-27T02:26:32.775534715Z level=debug msg="Executing migration condition SQL" id="file table idx: path key" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[file_meta UQE_file_meta_path_hash_key]"
logger=migrator t=2025-07-27T02:26:32.775840134Z level=debug msg="Executing sql migration" id="file table idx: path key" sql="CREATE UNIQUE INDEX `UQE_file_meta_path_hash_key` ON `file_meta` (`path_hash`,`key`);"
logger=migrator t=2025-07-27T02:26:32.77630678Z level=info msg="Migration successfully executed" id="file table idx: path key" duration=788.954µs
logger=migrator t=2025-07-27T02:26:32.795099544Z level=info msg="Executing migration" id="set path collation in file table"
logger=migrator t=2025-07-27T02:26:32.795117378Z level=debug msg="Executing sql migration" id="set path collation in file table" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:32.795182545Z level=info msg="Migration successfully executed" id="set path collation in file table" duration=89.164µs
logger=migrator t=2025-07-27T02:26:32.813039616Z level=info msg="Executing migration" id="migrate contents column to mediumblob for MySQL"
logger=migrator t=2025-07-27T02:26:32.813055047Z level=debug msg="Executing sql migration" id="migrate contents column to mediumblob for MySQL" sql="SELECT 0;"
logger=migrator t=2025-07-27T02:26:32.813106237Z level=info msg="Migration successfully executed" id="migrate contents column to mediumblob for MySQL" duration=67.184µs
logger=migrator t=2025-07-27T02:26:32.830882196Z level=info msg="Executing migration" id="managed permissions migration"
logger=migrator t=2025-07-27T02:26:32.830900912Z level=debug msg="Executing code migration" id="managed permissions migration"
logger=migrator t=2025-07-27T02:26:32.831241607Z level=info msg="Migration successfully executed" id="managed permissions migration" duration=367.53µs
logger=migrator t=2025-07-27T02:26:32.849101994Z level=info msg="Executing migration" id="managed folder permissions alert actions migration"
logger=migrator t=2025-07-27T02:26:32.84913143Z level=debug msg="Executing code migration" id="managed folder permissions alert actions migration"
logger=migrator t=2025-07-27T02:26:32.849352441Z level=info msg="Migration successfully executed" id="managed folder permissions alert actions migration" duration=253.467µs
logger=migrator t=2025-07-27T02:26:32.86732656Z level=info msg="Executing migration" id="RBAC action name migrator"
logger=migrator t=2025-07-27T02:26:32.867349302Z level=debug msg="Executing code migration" id="RBAC action name migrator"
logger=migrator t=2025-07-27T02:26:32.867933173Z level=info msg="Migration successfully executed" id="RBAC action name migrator" duration=606.901µs
logger=migrator t=2025-07-27T02:26:32.88577103Z level=info msg="Executing migration" id="Add UID column to playlist"
logger=migrator t=2025-07-27T02:26:32.885800366Z level=debug msg="Executing sql migration" id="Add UID column to playlist" sql="alter table `playlist` ADD COLUMN `uid` TEXT NOT NULL DEFAULT 0 "
logger=migrator t=2025-07-27T02:26:32.88997764Z level=info msg="Migration successfully executed" id="Add UID column to playlist" duration=4.208653ms
logger=migrator t=2025-07-27T02:26:32.908070897Z level=info msg="Executing migration" id="Update uid column values in playlist"
logger=migrator t=2025-07-27T02:26:32.908087164Z level=debug msg="Executing sql migration" id="Update uid column values in playlist" sql="UPDATE playlist SET uid=printf('%d',id);"
logger=migrator t=2025-07-27T02:26:32.908258026Z level=info msg="Migration successfully executed" id="Update uid column values in playlist" duration=188.393µs
logger=migrator t=2025-07-27T02:26:32.926594445Z level=info msg="Executing migration" id="Add index for uid in playlist"
logger=migrator t=2025-07-27T02:26:32.926610031Z level=debug msg="Executing migration condition SQL" id="Add index for uid in playlist" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[playlist UQE_playlist_org_id_uid]"
logger=migrator t=2025-07-27T02:26:32.926952295Z level=debug msg="Executing sql migration" id="Add index for uid in playlist" sql="CREATE UNIQUE INDEX `UQE_playlist_org_id_uid` ON `playlist` (`org_id`,`uid`);"
logger=migrator t=2025-07-27T02:26:32.927356502Z level=info msg="Migration successfully executed" id="Add index for uid in playlist" duration=763.5µs
logger=migrator t=2025-07-27T02:26:32.946096902Z level=info msg="Executing migration" id="update group index for alert rules"
logger=migrator t=2025-07-27T02:26:32.946120056Z level=debug msg="Executing code migration" id="update group index for alert rules"
logger=migrator t=2025-07-27T02:26:32.94640796Z level=debug msg="No rules to migrate."
logger=migrator t=2025-07-27T02:26:32.946417025Z level=info msg="Migration successfully executed" id="update group index for alert rules" duration=322.872µs
logger=migrator t=2025-07-27T02:26:32.965421317Z level=info msg="Executing migration" id="managed folder permissions alert actions repeated migration"
logger=migrator t=2025-07-27T02:26:32.965439931Z level=debug msg="Executing code migration" id="managed folder permissions alert actions repeated migration"
logger=migrator t=2025-07-27T02:26:32.965619687Z level=info msg="Migration successfully executed" id="managed folder permissions alert actions repeated migration" duration=199.132µs
logger=migrator t=2025-07-27T02:26:32.985301Z level=info msg="Executing migration" id="admin only folder/dashboard permission"
logger=migrator t=2025-07-27T02:26:32.985337015Z level=debug msg="Executing code migration" id="admin only folder/dashboard permission"
logger=migrator t=2025-07-27T02:26:32.9859482Z level=info msg="Migration successfully executed" id="admin only folder/dashboard permission" duration=664.92µs
logger=migrator t=2025-07-27T02:26:33.004141705Z level=info msg="Executing migration" id="add action column to seed_assignment"
logger=migrator t=2025-07-27T02:26:33.004161266Z level=debug msg="Executing sql migration" id="add action column to seed_assignment" sql="alter table `seed_assignment` ADD COLUMN `action` TEXT NULL "
logger=migrator t=2025-07-27T02:26:33.008019462Z level=info msg="Migration successfully executed" id="add action column to seed_assignment" duration=3.87996ms
logger=migrator t=2025-07-27T02:26:33.026702889Z level=info msg="Executing migration" id="add scope column to seed_assignment"
logger=migrator t=2025-07-27T02:26:33.026735932Z level=debug msg="Executing sql migration" id="add scope column to seed_assignment" sql="alter table `seed_assignment` ADD COLUMN `scope` TEXT NULL "
logger=migrator t=2025-07-27T02:26:33.033723367Z level=info msg="Migration successfully executed" id="add scope column to seed_assignment" duration=7.027481ms
logger=migrator t=2025-07-27T02:26:33.053101916Z level=info msg="Executing migration" id="remove unique index builtin_role_role_name before nullable update"
logger=migrator t=2025-07-27T02:26:33.053123119Z level=debug msg="Executing migration condition SQL" id="remove unique index builtin_role_role_name before nullable update" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[seed_assignment UQE_seed_assignment_builtin_role_role_name]"
logger=migrator t=2025-07-27T02:26:33.05346359Z level=debug msg="Executing sql migration" id="remove unique index builtin_role_role_name before nullable update" sql="DROP INDEX `UQE_seed_assignment_builtin_role_role_name`"
logger=migrator t=2025-07-27T02:26:33.053881502Z level=info msg="Migration successfully executed" id="remove unique index builtin_role_role_name before nullable update" duration=781.03µs
logger=migrator t=2025-07-27T02:26:33.07226689Z level=info msg="Executing migration" id="update seed_assignment role_name column to nullable"
logger=migrator t=2025-07-27T02:26:33.072295708Z level=debug msg="Executing sql migration" id="update seed_assignment role_name column to nullable" sql="ALTER TABLE seed_assignment ADD COLUMN tmp_role_name VARCHAR(190) DEFAULT NULL;\nUPDATE seed_assignment SET tmp_role_name = role_name;\nALTER TABLE seed_assignment DROP COLUMN role_name;\nALTER TABLE seed_assignment RENAME COLUMN tmp_role_name TO role_name;"
logger=migrator t=2025-07-27T02:26:33.139674467Z level=info msg="Migration successfully executed" id="update seed_assignment role_name column to nullable" duration=67.408612ms
logger=migrator t=2025-07-27T02:26:33.157937406Z level=info msg="Executing migration" id="add unique index builtin_role_name back"
logger=migrator t=2025-07-27T02:26:33.157954479Z level=debug msg="Executing migration condition SQL" id="add unique index builtin_role_name back" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[seed_assignment UQE_seed_assignment_builtin_role_role_name]"
logger=migrator t=2025-07-27T02:26:33.15826095Z level=debug msg="Executing sql migration" id="add unique index builtin_role_name back" sql="CREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_role_name` ON `seed_assignment` (`builtin_role`,`role_name`);"
logger=migrator t=2025-07-27T02:26:33.158645051Z level=info msg="Migration successfully executed" id="add unique index builtin_role_name back" duration=708.204µs
logger=migrator t=2025-07-27T02:26:33.177667407Z level=info msg="Executing migration" id="add unique index builtin_role_action_scope"
logger=migrator t=2025-07-27T02:26:33.177677883Z level=debug msg="Executing migration condition SQL" id="add unique index builtin_role_action_scope" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[seed_assignment UQE_seed_assignment_builtin_role_action_scope]"
logger=migrator t=2025-07-27T02:26:33.177948383Z level=debug msg="Executing sql migration" id="add unique index builtin_role_action_scope" sql="CREATE UNIQUE INDEX `UQE_seed_assignment_builtin_role_action_scope` ON `seed_assignment` (`builtin_role`,`action`,`scope`);"
logger=migrator t=2025-07-27T02:26:33.178606087Z level=info msg="Migration successfully executed" id="add unique index builtin_role_action_scope" duration=932.379µs
logger=migrator t=2025-07-27T02:26:33.198522052Z level=info msg="Executing migration" id="add primary key to seed_assigment"
logger=migrator t=2025-07-27T02:26:33.198565047Z level=debug msg="Executing code migration" id="add primary key to seed_assigment"
logger=migrator t=2025-07-27T02:26:33.218778912Z level=info msg="Migration successfully executed" id="add primary key to seed_assigment" duration=20.257196ms
logger=migrator t=2025-07-27T02:26:33.239274161Z level=info msg="Executing migration" id="managed folder permissions alert actions repeated fixed migration"
logger=migrator t=2025-07-27T02:26:33.239301799Z level=debug msg="Executing code migration" id="managed folder permissions alert actions repeated fixed migration"
logger=migrator t=2025-07-27T02:26:33.239644223Z level=info msg="Migration successfully executed" id="managed folder permissions alert actions repeated fixed migration" duration=371.999µs
logger=migrator t=2025-07-27T02:26:33.257303998Z level=info msg="Executing migration" id="managed folder permissions library panel actions migration"
logger=migrator t=2025-07-27T02:26:33.257317993Z level=debug msg="Executing code migration" id="managed folder permissions library panel actions migration"
logger=migrator t=2025-07-27T02:26:33.257482312Z level=info msg="Migration successfully executed" id="managed folder permissions library panel actions migration" duration=177.056µs
logger=migrator t=2025-07-27T02:26:33.275124844Z level=info msg="Executing migration" id="migrate external alertmanagers to datsourcse"
logger=migrator t=2025-07-27T02:26:33.275139198Z level=debug msg="Executing code migration" id="migrate external alertmanagers to datsourcse"
logger=migrator t=2025-07-27T02:26:33.27532232Z level=info msg="Migration successfully executed" id="migrate external alertmanagers to datsourcse" duration=198.787µs
logger=migrator t=2025-07-27T02:26:33.293308049Z level=info msg="Executing migration" id="create folder table"
logger=migrator t=2025-07-27T02:26:33.293330951Z level=debug msg="Executing sql migration" id="create folder table" sql="CREATE TABLE IF NOT EXISTS `folder` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `uid` TEXT NOT NULL\n, `org_id` INTEGER NOT NULL\n, `title` TEXT NOT NULL\n, `description` TEXT NULL\n, `parent_uid` TEXT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:33.293895064Z level=info msg="Migration successfully executed" id="create folder table" duration=587.868µs
logger=migrator t=2025-07-27T02:26:33.313151149Z level=info msg="Executing migration" id="Add index for parent_uid"
logger=migrator t=2025-07-27T02:26:33.313174598Z level=debug msg="Executing migration condition SQL" id="Add index for parent_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[folder IDX_folder_parent_uid_org_id]"
logger=migrator t=2025-07-27T02:26:33.313637131Z level=debug msg="Executing sql migration" id="Add index for parent_uid" sql="CREATE INDEX `IDX_folder_parent_uid_org_id` ON `folder` (`parent_uid`,`org_id`);"
logger=migrator t=2025-07-27T02:26:33.314117113Z level=info msg="Migration successfully executed" id="Add index for parent_uid" duration=966.444µs
logger=migrator t=2025-07-27T02:26:33.332754732Z level=info msg="Executing migration" id="Add unique index for folder.uid and folder.org_id"
logger=migrator t=2025-07-27T02:26:33.332771503Z level=debug msg="Executing migration condition SQL" id="Add unique index for folder.uid and folder.org_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[folder UQE_folder_uid_org_id]"
logger=migrator t=2025-07-27T02:26:33.333197048Z level=debug msg="Executing sql migration" id="Add unique index for folder.uid and folder.org_id" sql="CREATE UNIQUE INDEX `UQE_folder_uid_org_id` ON `folder` (`uid`,`org_id`);"
logger=migrator t=2025-07-27T02:26:33.333701577Z level=info msg="Migration successfully executed" id="Add unique index for folder.uid and folder.org_id" duration=947.824µs
logger=migrator t=2025-07-27T02:26:33.353691987Z level=info msg="Executing migration" id="Update folder title length"
logger=migrator t=2025-07-27T02:26:33.353710679Z level=debug msg="Executing sql migration" id="Update folder title length" sql="-- NOT REQUIRED"
logger=migrator t=2025-07-27T02:26:33.353723593Z level=info msg="Migration successfully executed" id="Update folder title length" duration=34.523µs
logger=migrator t=2025-07-27T02:26:33.371361757Z level=info msg="Executing migration" id="Add unique index for folder.title and folder.parent_uid"
logger=migrator t=2025-07-27T02:26:33.371399843Z level=debug msg="Executing migration condition SQL" id="Add unique index for folder.title and folder.parent_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[folder UQE_folder_title_parent_uid]"
logger=migrator t=2025-07-27T02:26:33.371738992Z level=debug msg="Executing sql migration" id="Add unique index for folder.title and folder.parent_uid" sql="CREATE UNIQUE INDEX `UQE_folder_title_parent_uid` ON `folder` (`title`,`parent_uid`);"
logger=migrator t=2025-07-27T02:26:33.372201776Z level=info msg="Migration successfully executed" id="Add unique index for folder.title and folder.parent_uid" duration=845.07µs
logger=migrator t=2025-07-27T02:26:33.390834891Z level=info msg="Executing migration" id="Remove unique index for folder.title and folder.parent_uid"
logger=migrator t=2025-07-27T02:26:33.390877558Z level=debug msg="Executing migration condition SQL" id="Remove unique index for folder.title and folder.parent_uid" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[folder UQE_folder_title_parent_uid]"
logger=migrator t=2025-07-27T02:26:33.391213027Z level=debug msg="Executing sql migration" id="Remove unique index for folder.title and folder.parent_uid" sql="DROP INDEX `UQE_folder_title_parent_uid`"
logger=migrator t=2025-07-27T02:26:33.391623441Z level=info msg="Migration successfully executed" id="Remove unique index for folder.title and folder.parent_uid" duration=790.004µs
logger=migrator t=2025-07-27T02:26:33.40979438Z level=info msg="Executing migration" id="Add unique index for title, parent_uid, and org_id"
logger=migrator t=2025-07-27T02:26:33.409812336Z level=debug msg="Executing migration condition SQL" id="Add unique index for title, parent_uid, and org_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[folder UQE_folder_title_parent_uid_org_id]"
logger=migrator t=2025-07-27T02:26:33.410182794Z level=debug msg="Executing sql migration" id="Add unique index for title, parent_uid, and org_id" sql="CREATE UNIQUE INDEX `UQE_folder_title_parent_uid_org_id` ON `folder` (`title`,`parent_uid`,`org_id`);"
logger=migrator t=2025-07-27T02:26:33.410611369Z level=info msg="Migration successfully executed" id="Add unique index for title, parent_uid, and org_id" duration=817.706µs
logger=migrator t=2025-07-27T02:26:33.429398156Z level=info msg="Executing migration" id="create anon_device table"
logger=migrator t=2025-07-27T02:26:33.429420672Z level=debug msg="Executing sql migration" id="create anon_device table" sql="CREATE TABLE IF NOT EXISTS `anon_device` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `client_ip` TEXT NOT NULL\n, `created_at` DATETIME NOT NULL\n, `device_id` TEXT NOT NULL\n, `updated_at` DATETIME NOT NULL\n, `user_agent` TEXT NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:33.430098378Z level=info msg="Migration successfully executed" id="create anon_device table" duration=697.935µs
logger=migrator t=2025-07-27T02:26:33.448926131Z level=info msg="Executing migration" id="add unique index anon_device.device_id"
logger=migrator t=2025-07-27T02:26:33.44896023Z level=debug msg="Executing migration condition SQL" id="add unique index anon_device.device_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[anon_device UQE_anon_device_device_id]"
logger=migrator t=2025-07-27T02:26:33.449331165Z level=debug msg="Executing sql migration" id="add unique index anon_device.device_id" sql="CREATE UNIQUE INDEX `UQE_anon_device_device_id` ON `anon_device` (`device_id`);"
logger=migrator t=2025-07-27T02:26:33.450075726Z level=info msg="Migration successfully executed" id="add unique index anon_device.device_id" duration=1.149447ms
logger=migrator t=2025-07-27T02:26:33.46912095Z level=info msg="Executing migration" id="add index anon_device.updated_at"
logger=migrator t=2025-07-27T02:26:33.46915254Z level=debug msg="Executing migration condition SQL" id="add index anon_device.updated_at" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[anon_device IDX_anon_device_updated_at]"
logger=migrator t=2025-07-27T02:26:33.469503473Z level=debug msg="Executing sql migration" id="add index anon_device.updated_at" sql="CREATE INDEX `IDX_anon_device_updated_at` ON `anon_device` (`updated_at`);"
logger=migrator t=2025-07-27T02:26:33.469977717Z level=info msg="Migration successfully executed" id="add index anon_device.updated_at" duration=854.197µs
logger=migrator t=2025-07-27T02:26:33.488747597Z level=info msg="Executing migration" id="create signing_key table"
logger=migrator t=2025-07-27T02:26:33.488770876Z level=debug msg="Executing sql migration" id="create signing_key table" sql="CREATE TABLE IF NOT EXISTS `signing_key` (\n`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL\n, `key_id` TEXT NOT NULL\n, `private_key` TEXT NOT NULL\n, `added_at` DATETIME NOT NULL\n, `expires_at` DATETIME NULL\n, `alg` TEXT NOT NULL\n);"
logger=migrator t=2025-07-27T02:26:33.489347752Z level=info msg="Migration successfully executed" id="create signing_key table" duration=602.049µs
logger=migrator t=2025-07-27T02:26:33.508170633Z level=info msg="Executing migration" id="add unique index signing_key.key_id"
logger=migrator t=2025-07-27T02:26:33.50819467Z level=debug msg="Executing migration condition SQL" id="add unique index signing_key.key_id" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[signing_key UQE_signing_key_key_id]"
logger=migrator t=2025-07-27T02:26:33.508517415Z level=debug msg="Executing sql migration" id="add unique index signing_key.key_id" sql="CREATE UNIQUE INDEX `UQE_signing_key_key_id` ON `signing_key` (`key_id`);"
logger=migrator t=2025-07-27T02:26:33.508958895Z level=info msg="Migration successfully executed" id="add unique index signing_key.key_id" duration=790.414µs
logger=migrator t=2025-07-27T02:26:33.527490591Z level=info msg="Executing migration" id="set legacy alert migration status in kvstore"
logger=migrator t=2025-07-27T02:26:33.527519964Z level=debug msg="Executing code migration" id="set legacy alert migration status in kvstore"
logger=migrator t=2025-07-27T02:26:33.528252296Z level=info msg="Migration successfully executed" id="set legacy alert migration status in kvstore" duration=764.014µs
logger=migrator t=2025-07-27T02:26:33.546605498Z level=info msg="Executing migration" id="migrate record of created folders during legacy migration to kvstore"
logger=migrator t=2025-07-27T02:26:33.546624311Z level=debug msg="Executing code migration" id="migrate record of created folders during legacy migration to kvstore"
logger=migrator t=2025-07-27T02:26:33.546875917Z level=debug msg="no dashboards with created_by=-8, nothing to set in kvstore"
logger=migrator t=2025-07-27T02:26:33.546883156Z level=info msg="Migration successfully executed" id="migrate record of created folders during legacy migration to kvstore" duration=279.98µs
logger=migrator t=2025-07-27T02:26:33.564629373Z level=info msg="Executing migration" id="Add folder_uid for dashboard"
logger=migrator t=2025-07-27T02:26:33.564654636Z level=debug msg="Executing sql migration" id="Add folder_uid for dashboard" sql="alter table `dashboard` ADD COLUMN `folder_uid` TEXT NULL "
logger=migrator t=2025-07-27T02:26:33.569889912Z level=info msg="Migration successfully executed" id="Add folder_uid for dashboard" duration=5.259937ms
logger=migrator t=2025-07-27T02:26:33.588008016Z level=info msg="Executing migration" id="Populate dashboard folder_uid column"
logger=migrator t=2025-07-27T02:26:33.588028115Z level=debug msg="Executing code migration" id="Populate dashboard folder_uid column"
logger=migrator t=2025-07-27T02:26:33.588504212Z level=debug msg="Migrating dashboard data" dashboardsrows=0 folderrows=0
logger=migrator t=2025-07-27T02:26:33.588520277Z level=info msg="Migration successfully executed" id="Populate dashboard folder_uid column" duration=515.061µs
logger=migrator t=2025-07-27T02:26:33.619037268Z level=info msg="Executing migration" id="Add unique index for dashboard_org_id_folder_uid_title"
logger=migrator t=2025-07-27T02:26:33.619059507Z level=debug msg="Executing migration condition SQL" id="Add unique index for dashboard_org_id_folder_uid_title" sql="SELECT 1 FROM `sqlite_master` WHERE `type`='index' AND `tbl_name`=? AND `name`=?" args="[dashboard UQE_dashboard_org_id_folder_uid_title]"
logger=migrator t=2025-07-27T02:26:33.619436496Z level=debug msg="Executing sql migration" id="Add unique index for dashboard_org_id_folder_uid_title" sql="CREATE UNIQUE INDEX `UQE_dashboard_org_id_folder_uid_title` ON `dashboard` (`org_id`,`folder_uid`,`title`);"
logger=migrator t=2025-07-27T02:26:33.619882116Z level=info msg="Migration successfully executed" id="Add unique index for dashboard_org_id_folder_uid_title" duration=845.375µs
logger=migrator t=2025-07-27T02:26:33.639058571Z level=info msg="Executing migration" id="create sso_setting table"
logger=migrator t=2025-07-27T02:26:33.63908659Z level=debug msg="Executing sql migration" id="create sso_setting table" sql="CREATE TABLE IF NOT EXISTS `sso_setting` (\n`id` TEXT PRIMARY KEY NOT NULL\n, `provider` TEXT NOT NULL\n, `settings` TEXT NOT NULL\n, `created` DATETIME NOT NULL\n, `updated` DATETIME NOT NULL\n, `is_deleted` INTEGER NOT NULL DEFAULT 0\n);"
logger=migrator t=2025-07-27T02:26:33.639710132Z level=info msg="Migration successfully executed" id="create sso_setting table" duration=653.838µs
logger=migrator t=2025-07-27T02:26:33.658793749Z level=info msg="Executing migration" id="copy kvstore migration status to each org"
logger=migrator t=2025-07-27T02:26:33.658815967Z level=debug msg="Executing code migration" id="copy kvstore migration status to each org"
logger=migrator t=2025-07-27T02:26:33.659360997Z level=debug msg="no orgs, nothing to set in kvstore"
logger=migrator t=2025-07-27T02:26:33.659368851Z level=info msg="Migration successfully executed" id="copy kvstore migration status to each org" duration=578.277µs
logger=migrator t=2025-07-27T02:26:33.67848645Z level=info msg="Executing migration" id="add back entry for orgid=0 migrated status"
logger=migrator t=2025-07-27T02:26:33.678503956Z level=debug msg="Executing code migration" id="add back entry for orgid=0 migrated status"
logger=migrator t=2025-07-27T02:26:33.67872941Z level=debug msg="No migrated orgs in kvstore, nothing to set"
logger=migrator t=2025-07-27T02:26:33.67873803Z level=info msg="Migration successfully executed" id="add back entry for orgid=0 migrated status" duration=254.007µs
logger=migrator t=2025-07-27T02:26:33.696530981Z level=info msg="migrations completed" performed=523 skipped=0 duration=12.546307166s
logger=sqlstore t=2025-07-27T02:26:33.69708808Z level=debug msg="Ensuring main org and admin user exist"
logger=sqlstore t=2025-07-27T02:26:33.697229017Z level=debug msg="Creating default admin user"
logger=sqlstore t=2025-07-27T02:26:33.697362436Z level=debug msg="auto assigned organization not found"
logger=sqlstore t=2025-07-27T02:26:33.702057962Z level=info msg="Created default admin" user=admin
logger=sqlstore t=2025-07-27T02:26:33.702068846Z level=debug msg="Creating default org" name="Main Org."
logger=sqlstore t=2025-07-27T02:26:33.702214505Z level=info msg="Created default organization"
logger=secrets t=2025-07-27T02:26:33.723596273Z level=info msg="Envelope encryption state" enabled=true currentprovider=secretKey.v1
logger=tsdb.cloudwatch t=2025-07-27T02:26:33.731323365Z level=debug msg=Initializing
logger=tsdb.prometheus t=2025-07-27T02:26:33.731352402Z level=debug msg=Initializing
logger=accesscontrol t=2025-07-27T02:26:33.760851062Z level=debug msg="Adding scope attribute resolver" prefix=folders:name:
logger=accesscontrol t=2025-07-27T02:26:33.76087853Z level=debug msg="Adding scope attribute resolver" prefix=folders:id:
logger=accesscontrol t=2025-07-27T02:26:33.760881983Z level=debug msg="Adding scope attribute resolver" prefix=folders:uid:
logger=plugin.store t=2025-07-27T02:26:33.761076987Z level=info msg="Loading plugins..."
logger=plugin.loader source=core t=2025-07-27T02:26:33.761092101Z level=debug msg="Loading plugin source..."
logger=local.finder t=2025-07-27T02:26:33.867872797Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/alertmanager/plugin.json
logger=local.finder t=2025-07-27T02:26:33.868592319Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/azuremonitor/plugin.json
logger=local.finder t=2025-07-27T02:26:33.869127013Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/cloud-monitoring/plugin.json
logger=local.finder t=2025-07-27T02:26:33.86959624Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/cloudwatch/plugin.json
logger=local.finder t=2025-07-27T02:26:33.870040671Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/dashboard/plugin.json
logger=local.finder t=2025-07-27T02:26:33.870600404Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/elasticsearch/plugin.json
logger=local.finder t=2025-07-27T02:26:33.871055886Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/grafana/plugin.json
logger=local.finder t=2025-07-27T02:26:33.871495804Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/grafana-postgresql-datasource/plugin.json
logger=local.finder t=2025-07-27T02:26:33.871920502Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/grafana-pyroscope-datasource/plugin.json
logger=local.finder t=2025-07-27T02:26:33.872447802Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/grafana-testdata-datasource/plugin.json
logger=local.finder t=2025-07-27T02:26:33.873011677Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/graphite/plugin.json
logger=local.finder t=2025-07-27T02:26:33.87343442Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/influxdb/plugin.json
logger=local.finder t=2025-07-27T02:26:33.873781741Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/jaeger/plugin.json
logger=local.finder t=2025-07-27T02:26:33.874171509Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/loki/plugin.json
logger=local.finder t=2025-07-27T02:26:33.874580519Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/mixed/plugin.json
logger=local.finder t=2025-07-27T02:26:33.874997462Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/mssql/plugin.json
logger=local.finder t=2025-07-27T02:26:33.875438631Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/mysql/plugin.json
logger=local.finder t=2025-07-27T02:26:33.875919414Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/opentsdb/plugin.json
logger=local.finder t=2025-07-27T02:26:33.876253819Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/parca/plugin.json
logger=local.finder t=2025-07-27T02:26:33.876618525Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/prometheus/plugin.json
logger=local.finder t=2025-07-27T02:26:33.877146324Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/tempo/plugin.json
logger=local.finder t=2025-07-27T02:26:33.877702634Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/datasource/zipkin/plugin.json
logger=local.finder t=2025-07-27T02:26:33.878073235Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/alertGroups/plugin.json
logger=local.finder t=2025-07-27T02:26:33.878419434Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/alertlist/plugin.json
logger=local.finder t=2025-07-27T02:26:33.878818289Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/annolist/plugin.json
logger=local.finder t=2025-07-27T02:26:33.879197425Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/barchart/plugin.json
logger=local.finder t=2025-07-27T02:26:33.879659529Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/bargauge/plugin.json
logger=local.finder t=2025-07-27T02:26:33.880123534Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/candlestick/plugin.json
logger=local.finder t=2025-07-27T02:26:33.880569529Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/canvas/plugin.json
logger=local.finder t=2025-07-27T02:26:33.881091135Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/dashlist/plugin.json
logger=local.finder t=2025-07-27T02:26:33.881691059Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/datagrid/plugin.json
logger=local.finder t=2025-07-27T02:26:33.882053098Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/debug/plugin.json
logger=local.finder t=2025-07-27T02:26:33.882437131Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/flamegraph/plugin.json
logger=local.finder t=2025-07-27T02:26:33.882770291Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/gauge/plugin.json
logger=local.finder t=2025-07-27T02:26:33.883192431Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/geomap/plugin.json
logger=local.finder t=2025-07-27T02:26:33.883643107Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/gettingstarted/plugin.json
logger=local.finder t=2025-07-27T02:26:33.884120554Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/graph/plugin.json
logger=local.finder t=2025-07-27T02:26:33.884546988Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/heatmap/plugin.json
logger=local.finder t=2025-07-27T02:26:33.884928686Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/histogram/plugin.json
logger=local.finder t=2025-07-27T02:26:33.885295976Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/live/plugin.json
logger=local.finder t=2025-07-27T02:26:33.885797278Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/logs/plugin.json
logger=local.finder t=2025-07-27T02:26:33.886352468Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/news/plugin.json
logger=local.finder t=2025-07-27T02:26:33.886895993Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/nodeGraph/plugin.json
logger=local.finder t=2025-07-27T02:26:33.887419126Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/piechart/plugin.json
logger=local.finder t=2025-07-27T02:26:33.887868Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/stat/plugin.json
logger=local.finder t=2025-07-27T02:26:33.888175185Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/state-timeline/plugin.json
logger=local.finder t=2025-07-27T02:26:33.888571518Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/status-history/plugin.json
logger=local.finder t=2025-07-27T02:26:33.888948955Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/table/plugin.json
logger=local.finder t=2025-07-27T02:26:33.889320326Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/table-old/plugin.json
logger=local.finder t=2025-07-27T02:26:33.889743516Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/text/plugin.json
logger=local.finder t=2025-07-27T02:26:33.890173144Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/timeseries/plugin.json
logger=local.finder t=2025-07-27T02:26:33.890549959Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/traces/plugin.json
logger=local.finder t=2025-07-27T02:26:33.890943555Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/trend/plugin.json
logger=local.finder t=2025-07-27T02:26:33.891317469Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/welcome/plugin.json
logger=local.finder t=2025-07-27T02:26:33.891593447Z level=debug msg="Loading plugin" path=/usr/share/grafana/public/app/plugins/panel/xychart/plugin.json
logger=plugin.grafana-azure-monitor-datasource t=2025-07-27T02:26:33.916024272Z level=debug msg="Successfully started backend plugin process"
logger=plugin.grafana-testdata-datasource t=2025-07-27T02:26:33.916039544Z level=debug msg="Successfully started backend plugin process"
logger=plugin.loki t=2025-07-27T02:26:33.916043148Z level=debug msg="Successfully started backend plugin process"
logger=plugin.prometheus t=2025-07-27T02:26:33.916045629Z level=debug msg="Successfully started backend plugin process"
logger=plugin.mssql t=2025-07-27T02:26:33.91604921Z level=debug msg="Successfully started backend plugin process"
logger=plugin.cloudwatch t=2025-07-27T02:26:33.916053092Z level=debug msg="Successfully started backend plugin process"
logger=plugin.grafana t=2025-07-27T02:26:33.916056344Z level=debug msg="Successfully started backend plugin process"
logger=plugin.parca t=2025-07-27T02:26:33.916061664Z level=debug msg="Successfully started backend plugin process"
logger=plugin.graphite t=2025-07-27T02:26:33.916065639Z level=debug msg="Successfully started backend plugin process"
logger=plugin.grafana-pyroscope-datasource t=2025-07-27T02:26:33.916070445Z level=debug msg="Successfully started backend plugin process"
logger=plugin.stackdriver t=2025-07-27T02:26:33.91607314Z level=debug msg="Successfully started backend plugin process"
logger=plugin.influxdb t=2025-07-27T02:26:33.916075945Z level=debug msg="Successfully started backend plugin process"
logger=plugin.elasticsearch t=2025-07-27T02:26:33.916081625Z level=debug msg="Successfully started backend plugin process"
logger=plugin.opentsdb t=2025-07-27T02:26:33.916084897Z level=debug msg="Successfully started backend plugin process"
logger=plugin.tempo t=2025-07-27T02:26:33.916087485Z level=debug msg="Successfully started backend plugin process"
logger=plugin.grafana-postgresql-datasource t=2025-07-27T02:26:33.91609867Z level=debug msg="Successfully started backend plugin process"
logger=plugin.mysql t=2025-07-27T02:26:33.916103311Z level=debug msg="Successfully started backend plugin process"
logger=plugin.loader source=core t=2025-07-27T02:26:33.916125415Z level=debug msg="Plugin source loaded" plugins="alertGroups, alertlist, alertmanager, annolist, barchart, bargauge, candlestick, canvas, cloudwatch, dashboard, dashlist, datagrid, debug, elasticsearch, flamegraph, gauge, geomap, gettingstarted, grafana, grafana-azure-monitor-datasource, grafana-postgresql-datasource, grafana-pyroscope-datasource, grafana-testdata-datasource, graph, graphite, heatmap, histogram, influxdb, jaeger, live, logs, loki, mixed, mssql, mysql, news, nodeGraph, opentsdb, parca, piechart, prometheus, stackdriver, stat, state-timeline, status-history, table, table-old, tempo, text, timeseries, traces, trend, welcome, xychart, zipkin" duration=155.033089ms
logger=plugin.loader source=bundled t=2025-07-27T02:26:33.916153538Z level=debug msg="Loading plugin source..."
logger=local.finder t=2025-07-27T02:26:33.916191012Z level=warn msg="Skipping finding plugins as directory does not exist" path=/usr/share/grafana/plugins-bundled
logger=plugin.loader source=bundled t=2025-07-27T02:26:33.916199766Z level=debug msg="Plugin source loaded" plugins= duration=55.639µs
logger=plugin.loader source=external t=2025-07-27T02:26:33.916206932Z level=debug msg="Loading plugin source..."
logger=plugin.loader source=external t=2025-07-27T02:26:33.926827885Z level=debug msg="Plugin source loaded" plugins= duration=10.620884ms
logger=plugin.store t=2025-07-27T02:26:33.926843602Z level=info msg="Plugins loaded" count=55 duration=165.767429ms
logger=secrets.kvstore t=2025-07-27T02:26:33.928351483Z level=debug msg="secrets manager evaluator returned false" reason="remote secret management plugin disabled because the property `secrets.use_plugin` is not set to `true`"
logger=secrets.kvstore t=2025-07-27T02:26:33.928364447Z level=debug msg="secrets kvstore is using the default (SQL) implementation for secrets management"
logger=accesscontrol t=2025-07-27T02:26:33.928377851Z level=debug msg="Adding scope attribute resolver" prefix=datasources:name:
logger=accesscontrol t=2025-07-27T02:26:33.928383054Z level=debug msg="Adding scope attribute resolver" prefix=datasources:id:
logger=accesscontrol t=2025-07-27T02:26:33.962961306Z level=debug msg="Adding scope attribute resolver" prefix=dashboards:id:
logger=accesscontrol t=2025-07-27T02:26:33.963004922Z level=debug msg="Adding scope attribute resolver" prefix=dashboards:uid:
logger=query_data t=2025-07-27T02:26:33.963280004Z level=info msg="Query Service initialization"
logger=live t=2025-07-27T02:26:33.963292816Z level=debug msg="GrafanaLive initialization" ha=false
logger=live.push_http t=2025-07-27T02:26:33.966630393Z level=info msg="Live Push Gateway initialization"
logger=infra.lockservice t=2025-07-27T02:26:33.96695157Z level=debug msg="Start LockExecuteAndRelease" actionName="alerting migration"
logger=infra.lockservice t=2025-07-27T02:26:33.997717761Z level=debug msg="Start execution" actionName="alerting migration"
logger=ngalert.migration t=2025-07-27T02:26:33.997750051Z level=info msg=Starting
logger=sqlstore.session t=2025-07-27T02:26:33.997915409Z level=debug msg="reusing existing session" transaction=true
logger=infra.kvstore.sql t=2025-07-27T02:26:33.998589372Z level=debug msg="got kvstore value" orgId=0 namespace=ngalert.migration key=currentAlertingType value=Legacy
logger=sqlstore.session t=2025-07-27T02:26:33.998622144Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.session t=2025-07-27T02:26:33.998922404Z level=debug msg="reusing existing session" transaction=true
logger=infra.kvstore.sql t=2025-07-27T02:26:33.999221421Z level=debug msg="kvstore value not found" orgId=1 namespace=ngalert.migration key=migrated
logger=ngalert.migration orgID=1 t=2025-07-27T02:26:33.9992451Z level=info msg="Migrating alerts for organisation"
logger=sqlstore.session t=2025-07-27T02:26:33.999256875Z level=debug msg="reusing existing session" transaction=true
logger=ngalert.migration orgID=1 t=2025-07-27T02:26:33.99990783Z level=info msg="Alerts found to migrate" alerts=0
logger=sqlstore.session t=2025-07-27T02:26:33.999934777Z level=debug msg="reusing existing session" transaction=true
logger=ngalert.migration orgID=1 t=2025-07-27T02:26:34.000384972Z level=warn msg="No available receivers"
logger=ngalert.migration orgID=1 t=2025-07-27T02:26:34.000393053Z level=debug msg="Writing silences file" silences=0
logger=sqlstore.session t=2025-07-27T02:26:34.015059825Z level=debug msg="reusing existing session" transaction=true
logger=infra.kvstore.sql t=2025-07-27T02:26:34.016180024Z level=debug msg="kvstore value inserted" orgId=1 namespace=ngalert.migration key=stateKey value="{\"orgId\":1,\"createdFolders\":[]}"
logger=sqlstore.transactions t=2025-07-27T02:26:34.016213108Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.session t=2025-07-27T02:26:34.016228033Z level=debug msg="reusing existing session" transaction=true
logger=infra.kvstore.sql t=2025-07-27T02:26:34.016827804Z level=debug msg="kvstore value inserted" orgId=1 namespace=ngalert.migration key=migrated value=true
logger=sqlstore.transactions t=2025-07-27T02:26:34.016852022Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.session t=2025-07-27T02:26:34.01688987Z level=debug msg="reusing existing session" transaction=true
logger=infra.kvstore.sql t=2025-07-27T02:26:34.01747995Z level=debug msg="kvstore value updated" orgId=0 namespace=ngalert.migration key=currentAlertingType value=UnifiedAlerting
logger=sqlstore.transactions t=2025-07-27T02:26:34.017517301Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=ngalert.migration CurrentType=Legacy DesiredType=UnifiedAlerting CleanOnDowngrade=false CleanOnUpgrade=false t=2025-07-27T02:26:34.01752138Z level=info msg="Completed legacy migration"
logger=infra.lockservice t=2025-07-27T02:26:34.10262343Z level=debug msg="Execution finished" actionName="alerting migration" duration=104.916744ms
logger=infra.lockservice t=2025-07-27T02:26:34.148820665Z level=debug msg="LockExecuteAndRelease finished" actionName="alerting migration" duration=181.868891ms
logger=ngalert.multiorg.alertmanager t=2025-07-27T02:26:34.148920206Z level=debug msg="Synchronizing Alertmanagers for orgs"
logger=infra.kvstore.sql t=2025-07-27T02:26:34.150296941Z level=debug msg="kvstore value not found" orgId=1 namespace=alertmanager key=notifications
logger=infra.kvstore.sql t=2025-07-27T02:26:34.150501857Z level=debug msg="kvstore value not found" orgId=1 namespace=alertmanager key=silences
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:26:34.150840183Z level=debug msg="notification log snapshot file doesn't exist" err="open /var/lib/grafana/alerting/1/notifications: no such file or directory"
logger=ngalert.multiorg.alertmanager t=2025-07-27T02:26:34.177055582Z level=debug msg="Done synchronizing Alertmanagers for orgs"
logger=ngalert.sender.router t=2025-07-27T02:26:34.177180154Z level=debug msg="Attempting to sync admin configs" count=0
logger=ngalert.sender.router t=2025-07-27T02:26:34.177187383Z level=debug msg="Finish of admin configuration sync"
logger=accesscontrol t=2025-07-27T02:26:34.177559824Z level=debug msg="Adding scope attribute resolver" prefix=library.panels:uid:
logger=accesscontrol t=2025-07-27T02:26:34.18850104Z level=debug msg="Adding scope attribute resolver" prefix=annotations:id:
logger=plugindashboards t=2025-07-27T02:26:34.18874712Z level=debug msg="Looking for app dashboard updates"
logger=infra.usagestats.collector t=2025-07-27T02:26:34.189027939Z level=info msg="registering usage stat providers" usageStatsProvidersLen=2
logger=provisioning.datasources t=2025-07-27T02:26:34.202479198Z level=info msg="inserting datasource from configuration" name=prometheus uid=prometheus
logger=sqlstore.session t=2025-07-27T02:26:34.20272156Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.session t=2025-07-27T02:26:34.2033304Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.session t=2025-07-27T02:26:34.20540503Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.transactions t=2025-07-27T02:26:34.205521178Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.session t=2025-07-27T02:26:34.207422189Z level=debug msg="reusing existing session" transaction=true
logger=secrets.kvstore t=2025-07-27T02:26:34.207624195Z level=debug msg="secret value inserted" orgId=1 type=datasource namespace=prometheus
logger=sqlstore.transactions t=2025-07-27T02:26:34.207632278Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.transactions t=2025-07-27T02:26:34.2076382Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=provisioning.plugins t=2025-07-27T02:26:34.228160083Z level=debug msg="Looking for plugin provisioning files" path=/etc/grafana/provisioning/plugins
logger=provisioning.plugins t=2025-07-27T02:26:34.238752588Z level=debug msg="Validating plugins"
logger=provisioning.notifiers t=2025-07-27T02:26:34.238775706Z level=debug msg="Looking for alert notification provisioning files" path=/etc/grafana/provisioning/notifiers
logger=provisioning.notifiers t=2025-07-27T02:26:34.239144876Z level=debug msg="Validating alert notifications"
logger=provisioning.alerting t=2025-07-27T02:26:34.239160684Z level=debug msg="looking for alerting provisioning files" path=/etc/grafana/provisioning/alerting
logger=provisioning.alerting t=2025-07-27T02:26:34.239182251Z level=debug msg="parsing alerting provisioning file" path=/etc/grafana/provisioning/alerting file.Name=alerts.yaml
logger=provisioning.alerting t=2025-07-27T02:26:34.239445358Z level=debug msg="parsing alerting provisioning file" path=/etc/grafana/provisioning/alerting file.Name=contactpoints.yaml
logger=provisioning.alerting t=2025-07-27T02:26:34.24021117Z level=debug msg="parsing alerting provisioning file" path=/etc/grafana/provisioning/alerting file.Name=notification_policies.yaml
logger=provisioning.alerting t=2025-07-27T02:26:34.240692405Z level=info msg="starting to provision alerting"
logger=provisioning.alerting t=2025-07-27T02:26:34.240698026Z level=debug msg="read all alerting files" file_count=3
logger=dashboard-service t=2025-07-27T02:26:34.241420953Z level=debug msg="failed to parse user ID" namespaceID=user userID=0 error="identifier is not initialized"
logger=provisioning.alerting t=2025-07-27T02:26:34.288222175Z level=debug msg="provisioning alert rule group" org=1 folder="Application Alerts" folderUID=fe72a8fd-0459-4ef3-b3d8-82af97b177fa name=AppAlerts
logger=provisioning.alerting t=2025-07-27T02:26:34.288241967Z level=debug msg="provisioning alert rule" uid=highapilatency01 org=1
logger=provisioning.alerting t=2025-07-27T02:26:34.288635642Z level=debug msg="creating rule" uid=highapilatency01 org=1
logger=sqlstore.session t=2025-07-27T02:26:34.288883556Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.transactions t=2025-07-27T02:26:34.289456378Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.session t=2025-07-27T02:26:34.289465598Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.transactions t=2025-07-27T02:26:34.28963132Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=provisioning.alerting t=2025-07-27T02:26:34.309781483Z level=debug msg="provisioning alert rule" uid=highdbrps01 org=1
logger=provisioning.alerting t=2025-07-27T02:26:34.310175593Z level=debug msg="creating rule" uid=highdbrps01 org=1
logger=sqlstore.session t=2025-07-27T02:26:34.310584863Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.transactions t=2025-07-27T02:26:34.311137311Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.session t=2025-07-27T02:26:34.311147621Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.transactions t=2025-07-27T02:26:34.311319438Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.session t=2025-07-27T02:26:34.331453447Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.session t=2025-07-27T02:26:34.332176442Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.transactions t=2025-07-27T02:26:34.333306696Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.session t=2025-07-27T02:26:34.359275372Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.session t=2025-07-27T02:26:34.359851371Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.transactions t=2025-07-27T02:26:34.360037526Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.session t=2025-07-27T02:26:34.360045729Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.transactions t=2025-07-27T02:26:34.360217358Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.session t=2025-07-27T02:26:34.379822855Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.session t=2025-07-27T02:26:34.380223793Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.transactions t=2025-07-27T02:26:34.380380966Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.session t=2025-07-27T02:26:34.380389388Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.transactions t=2025-07-27T02:26:34.380570846Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=provisioning.alerting t=2025-07-27T02:26:34.399822499Z level=info msg="finished to provision alerting"
logger=server t=2025-07-27T02:26:34.39992733Z level=debug msg="Starting background service" service=*cleanup.CleanUpService
logger=server t=2025-07-27T02:26:34.399971906Z level=debug msg="Starting background service" service=*statscollector.Service
logger=server t=2025-07-27T02:26:34.399976433Z level=debug msg="NOTIFY_SOCKET environment variable empty or unset, can't send systemd notification"
logger=server t=2025-07-27T02:26:34.399996718Z level=debug msg="Waiting on services..."
logger=server t=2025-07-27T02:26:34.399979775Z level=debug msg="Starting background service" service=*manager.ServiceAccountsService
logger=server t=2025-07-27T02:26:34.400003056Z level=debug msg="Starting background service" service=*anonimpl.AnonDeviceService
logger=server t=2025-07-27T02:26:34.40001693Z level=debug msg="Starting background service" service=*live.GrafanaLive
logger=infra.usagestats.collector t=2025-07-27T02:26:34.399996573Z level=debug msg="usage stats collector started" sendInterval=30m0s nextSendInterval=1m21s
logger=server t=2025-07-27T02:26:34.40002061Z level=debug msg="Starting background service" service=*pluginstore.Service
logger=server t=2025-07-27T02:26:34.400029666Z level=debug msg="Starting background service" service=*migrations.SecretMigrationProviderImpl
logger=server t=2025-07-27T02:26:34.400002176Z level=debug msg="Starting background service" service=*manager.SecretsService
logger=server t=2025-07-27T02:26:34.400031996Z level=debug msg="Starting background service" service=*store.standardStorageService
logger=server t=2025-07-27T02:26:34.400044668Z level=debug msg="Starting background service" service=*notifications.NotificationService
logger=server t=2025-07-27T02:26:34.400047882Z level=debug msg="Starting background service" service=*loginattemptimpl.Service
logger=grafanaStorageLogger t=2025-07-27T02:26:34.40005635Z level=info msg="Storage starting"
logger=server t=2025-07-27T02:26:34.400059014Z level=debug msg="Starting background service" service=*supportbundlesimpl.Service
logger=server t=2025-07-27T02:26:34.400067354Z level=debug msg="Starting background service" service=*authimpl.UserAuthTokenService
logger=infra.lockservice t=2025-07-27T02:26:34.40008037Z level=debug msg="Start LockAndExecute" actionName="cleanup expired auth tokens"
logger=server t=2025-07-27T02:26:34.400087238Z level=debug msg="Starting background service" service=*tracing.TracingService
logger=server t=2025-07-27T02:26:34.400088731Z level=debug msg="Starting background service" service=*metrics.InternalMetricsService
logger=server t=2025-07-27T02:26:34.400034771Z level=debug msg="Starting background service" service=*pushhttp.Gateway
logger=infra.lockservice t=2025-07-27T02:26:34.400041586Z level=debug msg="Start LockExecuteAndRelease" actionName="secret migration task "
logger=server t=2025-07-27T02:26:34.400103506Z level=debug msg="Starting background service" service=*api.HTTPServer
logger=server t=2025-07-27T02:26:34.400101375Z level=debug msg="Starting background service" service=*metric.Service
logger=server t=2025-07-27T02:26:34.400113045Z level=debug msg="Starting background service" service=*service.UsageStats
logger=server t=2025-07-27T02:26:34.400165569Z level=debug msg="Starting background service" service=*ngalert.AlertNG
logger=ngalert t=2025-07-27T02:26:34.400173557Z level=debug msg=Starting execute_alerts=true
logger=ngalert.state.manager t=2025-07-27T02:26:34.400190875Z level=info msg="Warming state cache for startup"
logger=serviceaccounts.background t=2025-07-27T02:26:34.400015083Z level=debug msg="Service initialized"
logger=ngalert.multiorg.alertmanager t=2025-07-27T02:26:34.40029161Z level=info msg="Starting MultiOrg Alertmanager"
logger=server t=2025-07-27T02:26:34.400068061Z level=debug msg="Stopped background service" service=*store.standardStorageService reason=null
logger=cleanup t=2025-07-27T02:26:34.400056929Z level=debug msg="Found old rendered file to delete" folder=/var/lib/grafana/png deleted=0 kept=0
logger=cleanup t=2025-07-27T02:26:34.400372957Z level=debug msg="Found old rendered file to delete" folder=/var/lib/grafana/csv deleted=0 kept=0
logger=server t=2025-07-27T02:26:34.400057052Z level=debug msg="Starting background service" service=*rendering.RenderingService
logger=rendering t=2025-07-27T02:26:34.400412762Z level=debug msg="No image renderer found/installed. For image rendering support please install the grafana-image-renderer plugin. Read more at https://grafana.com/docs/grafana/latest/administration/image_rendering/"
logger=server t=2025-07-27T02:26:34.400422213Z level=debug msg="Starting background service" service=*updatechecker.PluginsService
logger=server t=2025-07-27T02:26:34.400421129Z level=debug msg="Starting background service" service=*dynamic.KeyRetriever
logger=plugins.update.checker t=2025-07-27T02:26:34.40044776Z level=debug msg="Checking for updates"
logger=server t=2025-07-27T02:26:34.400582595Z level=debug msg="Starting background service" service=*provisioning.ProvisioningServiceImpl
logger=server t=2025-07-27T02:26:34.400075843Z level=debug msg="Starting background service" service=*store.dummyEntityEventsService
logger=server t=2025-07-27T02:26:34.400617336Z level=debug msg="Stopped background service" service=*store.dummyEntityEventsService reason=null
logger=server t=2025-07-27T02:26:34.400626725Z level=debug msg="Starting background service" service=*updatechecker.GrafanaService
logger=server t=2025-07-27T02:26:34.400104818Z level=debug msg="Starting background service" service=*remotecache.RemoteCache
logger=grafana.update.checker t=2025-07-27T02:26:34.400639973Z level=debug msg="Checking for updates"
logger=sqlstore.transactions t=2025-07-27T02:26:34.41083568Z level=info msg="Database locked, sleeping then retrying" error="database is locked" retry=0 code="database is locked"
logger=http.server t=2025-07-27T02:26:34.420473445Z level=info msg="HTTP Server Listen" address=[::]:3000 protocol=http subUrl= socket=
logger=infra.lockservice t=2025-07-27T02:26:34.43224741Z level=debug msg="Start execution" actionName="cleanup expired auth tokens"
logger=auth t=2025-07-27T02:26:34.43227503Z level=debug msg="Starting cleanup of expired auth tokens" createdBefore=2025-06-27T02:26:34.432272752Z rotatedBefore=2025-07-20T02:26:34.43227283Z
logger=auth t=2025-07-27T02:26:34.432526346Z level=debug msg="Cleanup of expired auth tokens done" count=0
logger=infra.lockservice t=2025-07-27T02:26:34.432540771Z level=debug msg="Execution finished" actionName="cleanup expired auth tokens" duration=296.719µs
logger=infra.lockservice t=2025-07-27T02:26:34.432549979Z level=debug msg="LockAndExecute finished" actionName="cleanup expired auth tokens" acquiredLock=true duration=32.470401ms
logger=infra.lockservice t=2025-07-27T02:26:34.464345682Z level=debug msg="Start execution" actionName="secret migration task "
logger=secret.migration t=2025-07-27T02:26:34.464362359Z level=debug msg="Starting secret migration service" service=*migrations.DataSourceSecretMigrationService
logger=infra.kvstore.sql t=2025-07-27T02:26:34.464629579Z level=debug msg="kvstore value not found" orgId=0 namespace=datasource key=secretMigrationStatus
logger=secret.migration t=2025-07-27T02:26:34.464643194Z level=debug msg="secret migration status is "
logger=secret.migration t=2025-07-27T02:26:34.464647484Z level=debug msg="performing secret migration" needsmigration=false needscompatibility=true
logger=secrets.kvstore t=2025-07-27T02:26:34.465039365Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=sqlstore.session t=2025-07-27T02:26:34.465072364Z level=debug msg="reusing existing session" transaction=true
logger=secrets.kvstore t=2025-07-27T02:26:34.465353604Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=sqlstore.session t=2025-07-27T02:26:34.465364748Z level=debug msg="reusing existing session" transaction=true
logger=sqlstore.session t=2025-07-27T02:26:34.465941214Z level=debug msg="reusing existing session" transaction=true
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:26:34.469554511Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=sqlstore.session t=2025-07-27T02:26:34.470060633Z level=debug msg="reusing existing session" transaction=true
logger=secrets.kvstore t=2025-07-27T02:26:34.470346227Z level=debug msg="secret value updated" orgId=1 type=datasource namespace=prometheus
logger=sqlstore.transactions t=2025-07-27T02:26:34.47035531Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=sqlstore.transactions t=2025-07-27T02:26:34.470363712Z level=debug msg="skip committing the transaction because it belongs to a session created in the outer scope"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:26:34.481328202Z level=debug msg="saving new dashboard" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=infra.kvstore.sql t=2025-07-27T02:26:34.491535066Z level=debug msg="kvstore value inserted" orgId=0 namespace=datasource key=secretMigrationStatus value=compatible
logger=secret.migration t=2025-07-27T02:26:34.509302379Z level=debug msg="set secret migration status to compatible"
logger=secret.migration t=2025-07-27T02:26:34.509326822Z level=debug msg="Finished secret migration service" service=*migrations.DataSourceSecretMigrationService
logger=secret.migration t=2025-07-27T02:26:34.509331232Z level=debug msg="Starting secret migration service" service=*migrations.MigrateToPluginService
logger=secret.migration t=2025-07-27T02:26:34.509365412Z level=debug msg="Finished secret migration service" service=*migrations.MigrateToPluginService
logger=infra.lockservice t=2025-07-27T02:26:34.509368742Z level=debug msg="Execution finished" actionName="secret migration task " duration=45.032113ms
logger=infra.lockservice t=2025-07-27T02:26:34.527277062Z level=debug msg="LockExecuteAndRelease finished" actionName="secret migration task " duration=127.235812ms
logger=server t=2025-07-27T02:26:34.527295715Z level=debug msg="Stopped background service" service=*migrations.SecretMigrationProviderImpl reason=null
logger=accesscontrol.evaluator t=2025-07-27T02:26:34.5355353Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:general
logger=dashboard-service t=2025-07-27T02:26:34.535553899Z level=debug msg="failed to parse user ID" namespaceID=user userID=0 error="identifier is not initialized"
logger=infra.kvstore.sql t=2025-07-27T02:26:34.626834881Z level=debug msg="kvstore value not found" orgId=0 namespace=infra.usagestats key=last_sent
logger=ngalert.state.manager t=2025-07-27T02:26:34.62687125Z level=info msg="State cache has been initialized" states=0 duration=226.674647ms
logger=infra.kvstore.sql t=2025-07-27T02:26:34.626881296Z level=debug msg="kvstore value not found" orgId=0 namespace=plugin.publickeys key=last_updated
logger=ngalert.scheduler t=2025-07-27T02:26:34.626892078Z level=info msg="Starting scheduler" tickInterval=10s
logger=ticker t=2025-07-27T02:26:34.626944082Z level=info msg=starting first_tick=2025-07-27T02:26:40Z
logger=authn.service t=2025-07-27T02:26:35.010734714Z level=warn msg="Failed to authenticate request" client=auth.client.session error="user token not found"
logger=context userId=0 orgId=0 uname= t=2025-07-27T02:26:35.010815666Z level=info msg="Request Completed" method=GET path=/d/cf527c94-2ebe-47b4-95fd-8cc39dab40aa/app-monitoring-dashboard status=302 remote_addr=172.22.0.1 time_ms=0 duration=519.487µs size=29 referer=http://localhost:3000/login handler=/d/:uid/:slug
logger=authn.service t=2025-07-27T02:26:35.01391732Z level=warn msg="Failed to authenticate request" client=auth.client.session error="user token not found"
logger=accesscontrol t=2025-07-27T02:26:35.014359331Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014774645Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014785587Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014789937Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014793743Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014797337Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014801532Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014806825Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014811674Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014816298Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014821795Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014826773Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014832968Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014983744Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014989546Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.014993267Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.015548474Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.015557018Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.015567195Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:35.038175804Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=http.server t=2025-07-27T02:26:35.038196372Z level=error msg="Failed to parse user ID" error="identifier is not initialized"
logger=plugins.update.checker t=2025-07-27T02:26:36.028967943Z level=info msg="Update check succeeded" duration=1.628531155s
logger=infra.kvstore.sql t=2025-07-27T02:26:36.337382232Z level=debug msg="kvstore value inserted" orgId=0 namespace=plugin.publickeys key=key-7e4d0c6a708866e7 value="-----BEGIN PGP PUBLIC KEY BLOCK-----\r\nVersion: OpenPGP.js v4.10.1\r\nComment: https://openpgpjs.org\r\n\r\nxpMEXpTXXxMFK4EEACMEIwQBiOUQhvGbDLvndE0fEXaR0908wXzPGFpf0P0Z\r\nHJ06tsq+0higIYHp7WTNJVEZtcwoYLcPRGaa9OQqbUU63BEyZdgAkPTz3RFd\r\n5+TkDWZizDcaVFhzbDd500yTwexrpIrdInwC/jrgs7Zy/15h8KA59XXUkdmT\r\nYB6TR+OA9RKME+dCJozNGUdyYWZhbmEgPGVuZ0BncmFmYW5hLmNvbT7CvAQQ\r\nEwoAIAUCXpTXXwYLCQcIAwIEFQgKAgQWAgEAAhkBAhsDAh4BAAoJEH5NDGpw\r\niGbnaWoCCQGQ3SQnCkRWrG6XrMkXOKfDTX2ow9fuoErN46BeKmLM4f1EkDZQ\r\nTpq3SE8+My8B5BIH3SOcBeKzi3S57JHGBdFA+wIJAYWMrJNIvw8GeXne+oUo\r\nNzzACdvfqXAZEp/HFMQhCKfEoWGJE8d2YmwY2+3GufVRTI5lQnZOHLE8L/Vc\r\n1S5MXESjzpcEXpTXXxIFK4EEACMEIwQBtHX/SD5Qm3v4V92qpaIZQgtTX0sT\r\ncFPjYWAHqsQ1iENrYN/vg1wU3ADlYATvydOQYvkTyT/tbDvx2Fse8PL84MQA\r\nYKKQ6AJ3gLVvmeouZdU03YoV4MYaT8KbnJUkZQZkqdz2riOlySNI9CG3oYmv\r\nomjUAtzgAgnCcurfGLZkkMxlmY8DAQoJwqQEGBMKAAkFAl6U118CGwwACgkQ\r\nfk0ManCIZuc0jAIJAVw2xdLr4ZQqPUhubrUyFcqlWoW8dQoQagwO8s8ubmby\r\nKuLA9FWJkfuuRQr+O9gHkDVCez3aism7zmJBqIOi38aNAgjJ3bo6leSS2jR/\r\nx5NqiKVi83tiXDPncDQYPymOnMhW0l7CVA7wj75HrFvvlRI/4MArlbsZ2tBn\r\nN1c5v9v/4h6qeA==\r\n=DNbR\r\n-----END PGP PUBLIC KEY BLOCK-----\r\n"
logger=infra.kvstore.sql t=2025-07-27T02:26:36.356797904Z level=debug msg="kvstore value inserted" orgId=0 namespace=plugin.publickeys key=last_updated value=2025-07-27T02:26:36Z
logger=infra.kvstore.sql t=2025-07-27T02:26:36.375085543Z level=debug msg="got kvstore value" orgId=0 namespace=plugin.publickeys key=last_updated value=2025-07-27T02:26:36Z
logger=grafana.update.checker t=2025-07-27T02:26:36.533389146Z level=info msg="Update check succeeded" duration=2.132747375s
logger=authn.service t=2025-07-27T02:26:38.039014905Z level=warn msg="Failed to authenticate request" client=auth.client.session error="user token not found"
logger=context userId=0 orgId=0 uname= t=2025-07-27T02:26:38.039094777Z level=warn msg=Unauthorized error="user token not found" remote_addr=172.22.0.1 traceID=
logger=context userId=0 orgId=0 uname= t=2025-07-27T02:26:38.039174583Z level=info msg="Request Completed" method=GET path=/api/live/ws status=401 remote_addr=172.22.0.1 time_ms=1 duration=1.093552ms size=40 referer= handler=/api/live/ws
logger=ngalert.scheduler t=2025-07-27T02:26:40.001047338Z level=debug msg="Alert rules fetched" rulesCount=2 foldersCount=1 updatedRules=0
logger=ngalert.scheduler rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:26:40.001109324Z level=debug msg="Alert rule routine started"
logger=ngalert.scheduler rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:26:40.001114985Z level=debug msg="Alert rule routine started"
logger=authn.service t=2025-07-27T02:26:43.300415354Z level=warn msg="Failed to authenticate request" client=auth.client.session error="user token not found"
logger=context userId=0 orgId=0 uname= t=2025-07-27T02:26:43.300482856Z level=warn msg=Unauthorized error="user token not found" remote_addr=172.22.0.1 traceID=
logger=context userId=0 orgId=0 uname= t=2025-07-27T02:26:43.300578493Z level=info msg="Request Completed" method=GET path=/api/alertmanager/grafana/config/api/v1/receivers status=401 remote_addr=172.22.0.1 time_ms=0 duration=983.678µs size=40 referer="http://localhost:3000/alerting/notifications?search=" handler=/api/alertmanager/grafana/config/api/v1/receivers
logger=authn.service t=2025-07-27T02:26:43.307388755Z level=warn msg="Failed to authenticate request" client=auth.client.session error="user token not found"
logger=context userId=0 orgId=0 uname= t=2025-07-27T02:26:43.307518055Z level=info msg="Request Completed" method=GET path=/api/login/ping status=401 remote_addr=172.22.0.1 time_ms=0 duration=924.948µs size=26 referer="http://localhost:3000/alerting/notifications?search=" handler=/api/login/ping
logger=authn.service t=2025-07-27T02:26:43.323087473Z level=warn msg="Failed to authenticate request" client=auth.client.session error="user token not found"
logger=context userId=0 orgId=0 uname= t=2025-07-27T02:26:43.323209635Z level=info msg="Request Completed" method=GET path=/alerting/notifications status=302 remote_addr=172.22.0.1 time_ms=0 duration=860.228µs size=29 referer="http://localhost:3000/alerting/notifications?search=" handler=/alerting/*
logger=authn.service t=2025-07-27T02:26:43.329280375Z level=warn msg="Failed to authenticate request" client=auth.client.session error="user token not found"
logger=accesscontrol t=2025-07-27T02:26:43.329828436Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.330337455Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.330354973Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.330360433Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.330366265Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.33037333Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.330378745Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.330385031Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.330391961Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.33039846Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.330406375Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.330411913Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.330418046Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.33062371Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.33063611Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.330642291Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.331570349Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.331587932Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.331603694Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=accesscontrol t=2025-07-27T02:26:43.332067359Z level=debug msg="No permissions set for entity" namespace=user id=0 orgID=0 login=
logger=http.server t=2025-07-27T02:26:43.332083199Z level=error msg="Failed to parse user ID" error="identifier is not initialized"
logger=authn.service t=2025-07-27T02:26:43.913292218Z level=warn msg="Failed to authenticate request" client=auth.client.session error="user token not found"
logger=accesscontrol.service t=2025-07-27T02:26:43.920597382Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:43.921550252Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=auth t=2025-07-27T02:26:43.938283211Z level=debug msg="User auth token created" tokenID=1 userID=1 clientIP=172.22.0.1 userAgent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0" authToken=7eda7dd3a3f054f2205cfecbb438a491c798907c4bd7d3dcc2bb9bd155344a33
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:26:44.600123171Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:26:44.601403185Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=auth t=2025-07-27T02:26:45.113706442Z level=debug msg="Seen token" tokenID=1 userID=1 clientIP=172.22.0.1 userAgent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0" authToken=7eda7dd3a3f054f2205cfecbb438a491c798907c4bd7d3dcc2bb9bd155344a33
logger=accesscontrol.service t=2025-07-27T02:26:45.114283499Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:26:45.134354665Z level=debug msg="Matched scope" userscope=settings:* targetscope=settings:*
logger=accesscontrol.service t=2025-07-27T02:26:45.134374228Z level=debug msg="Fetch permissions from store" key=rbac-permissions-0-user-1
logger=accesscontrol.service t=2025-07-27T02:26:45.135209497Z level=debug msg="Cache permissions" key=rbac-permissions-0-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:26:45.135263971Z level=debug msg="Matched scope" userscope=settings:* targetscope=settings:*
logger=accesscontrol.service t=2025-07-27T02:26:45.135832622Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:45.358159619Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:45.359424291Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:26:45.359561977Z level=info msg="Request Completed" method=GET path=/api/plugins/grafana-oncall-app/settings status=404 remote_addr=172.22.0.1 time_ms=0 duration=585.622µs size=64 referer="http://localhost:3000/alerting/notifications?search=" handler=/api/plugins/:pluginId/settings
logger=accesscontrol.service t=2025-07-27T02:26:45.361949225Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:45.363962649Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:45.373906726Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=avatar t=2025-07-27T02:26:45.374047768Z level=debug msg="avatar.fetch(fetch new avatar)" url=https://secure.gravatar.com/avatar/46d229b033af06a191ff2267bca9ae56?
logger=avatar t=2025-07-27T02:26:45.374071386Z level=debug msg="Fetching avatar url with parameters" url="https://secure.gravatar.com/avatar/46d229b033af06a191ff2267bca9ae56?d=retro&r=pg&size=200"
logger=accesscontrol.service t=2025-07-27T02:26:45.389708726Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:45.402955332Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:45.406021431Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=avatar t=2025-07-27T02:26:46.78085793Z level=debug msg="Fetching avatar url with parameters" url="https://secure.gravatar.com/avatar/46d229b033af06a191ff2267bca9ae56?d=404"
logger=accesscontrol.service t=2025-07-27T02:26:49.688253862Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:26:49.688637678Z level=info msg="Request Completed" method=GET path=/api/live/ws status=-1 remote_addr=172.22.0.1 time_ms=2 duration=2.371578ms size=0 referer= handler=/api/live/ws
logger=live t=2025-07-27T02:26:49.691779333Z level=debug msg="Client connected" user=1 client=1e0dd2b1-b36d-42f1-b3ff-9c698f56ef45
logger=ngalert.scheduler t=2025-07-27T02:26:50.000761578Z level=debug msg="No changes detected. Skip updating"
logger=accesscontrol.service t=2025-07-27T02:26:50.980865818Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:50.983118377Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:50.983118352Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:26:50.983282315Z level=info msg="Request Completed" method=GET path=/api/plugins/grafana-oncall-app/settings status=404 remote_addr=172.22.0.1 time_ms=0 duration=527.288µs size=64 referer=http://localhost:3000/alerting/routes handler=/api/plugins/:pluginId/settings
logger=accesscontrol.service t=2025-07-27T02:26:50.985633216Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:26:50.985760229Z level=info msg="Request Completed" method=GET path=/api/plugins/grafana-oncall-app/settings status=404 remote_addr=172.22.0.1 time_ms=0 duration=711.804µs size=64 referer=http://localhost:3000/alerting/routes handler=/api/plugins/:pluginId/settings
logger=accesscontrol.service t=2025-07-27T02:26:51.878333337Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:53.608963762Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:53.610184535Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=datasources t=2025-07-27T02:26:53.610276049Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=datasource t=2025-07-27T02:26:53.610647219Z level=debug msg="Applying default URL parsing for this data source type" type=prometheus url=http://prometheus:9090
logger=secrets.kvstore t=2025-07-27T02:26:53.612826842Z level=debug msg="got secret value" orgId=1 type=datasource namespace=prometheus
logger=accesscontrol.service t=2025-07-27T02:26:53.621843933Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:53.622242409Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:26:53.624131192Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=accesscontrol.evaluator t=2025-07-27T02:26:53.624355772Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=accesscontrol.service t=2025-07-27T02:26:53.642642436Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:26:53.642782738Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=datasource t=2025-07-27T02:26:53.642810454Z level=debug msg="Applying default URL parsing for this data source type" type=prometheus url=http://prometheus:9090
logger=accesscontrol.service t=2025-07-27T02:26:53.657635903Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:26:53.657760278Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:26:53.658092799Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:26:53.658105048Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:26:53.658111162Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:26:53.658118221Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:26:53.658123417Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:26:53.658129252Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:26:54.59977987Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:26:54.600943169Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=accesscontrol.service t=2025-07-27T02:26:55.229240687Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:26:55.230160961Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:26:55.230289823Z level=debug msg="Received unknown frontend metric" metric=frontend_app_init_ms
logger=ngalert.scheduler t=2025-07-27T02:27:00.00053777Z level=debug msg="No changes detected. Skip updating"
logger=datasources rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:00.000654609Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=secrets.kvstore t=2025-07-27T02:27:00.001263501Z level=debug msg="got secret value" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:00.001485767Z level=debug msg="Sending query" start=2025-07-27T02:17:00Z end=2025-07-27T02:27:00Z step=10s query="histogram_quantile(0.99, \n  sum by (le, method) (\n    rate(http_request_latency_seconds_bucket{endpoint=\"/api/login\", method=\"POST\"}[1m])\n  )\n) > 0.5\n"
logger=expr rule_uid=highapilatency01 org_id=1 datasourceType=prometheus queryRefId=A datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:27:00.003134435Z level=debug msg="Data source queried" responseType=no-data
logger=ngalert.scheduler rule_uid=highapilatency01 org_id=1 version=2 fingerprint=d59363282ac83532 attempt=1 now=2025-07-27T02:27:00Z rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:00.003171037Z level=debug msg="Alert rule evaluated" results="[{Instance:datasource_uid=prometheus, ref_id=A State:NoData Error:<nil> Results:map[] Values:map[] EvaluatedAt:2025-07-27 02:27:00 +0000 UTC EvaluationDuration:3.166754ms EvaluationString:}]" duration=2.578066ms
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:00.003225077Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance="datasource_uid=prometheus, ref_id=A" t=2025-07-27T02:27:00.003365006Z level=debug msg="Setting next state" handler=resultNoData
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance="datasource_uid=prometheus, ref_id=A" t=2025-07-27T02:27:00.003377846Z level=debug msg="Changing state" previous_state=Normal next_state=NoData previous_ends_at=2025-07-27T02:27:00Z next_ends_at=2025-07-27T02:29:00Z
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:00.003391395Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:00.022937711Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=19.5428ms
logger=ngalert.state.historian backend=annotations rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:00.022980986Z level=debug msg="Alert state changed creating annotation" newState=NoData oldState=Normal
logger=ngalert.sender.router rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:00.023025615Z level=info msg="Sending alerts to local notifier" count=1
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:27:00.023042224Z level=debug component=alertmanager orgID=1 msg="Putting alert" alert=DatasourceNoData[acb26cc][active] starts_at=2025-07-27T02:27:00Z ends_at=2025-07-27T02:29:00Z
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:27:00.023080665Z level=debug component=alertmanager orgID=1 component=dispatcher msg="Received alert" alert=DatasourceNoData[acb26cc][active]
logger=ngalert.state.historian backend=annotations rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:00.044049081Z level=debug msg="Done saving alert annotation batch"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:04.600031743Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:04.601200007Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=secrets.kvstore t=2025-07-27T02:27:05.000893735Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:05.001084348Z level=debug msg="Sending query" start=2025-07-27T02:17:00Z end=2025-07-27T02:27:00Z step=10s query="sum(\n  rate(pg_stat_database_xact_commit{datname=\"finance_db\"}[1m]) \n  + rate(pg_stat_database_xact_rollback{datname=\"finance_db\"}[1m])\n) > 100\n"
logger=expr rule_uid=highdbrps01 org_id=1 datasourceType=prometheus queryRefId=B datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:27:05.003487748Z level=debug msg="Data source queried" responseType=no-data
logger=ngalert.scheduler rule_uid=highdbrps01 org_id=1 version=2 fingerprint=e9c4e107c04c6a1d attempt=1 now=2025-07-27T02:27:00Z rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:05.003547004Z level=debug msg="Alert rule evaluated" results="[{Instance:datasource_uid=prometheus, ref_id=B State:NoData Error:<nil> Results:map[] Values:map[] EvaluatedAt:2025-07-27 02:27:00 +0000 UTC EvaluationDuration:5.003540784s EvaluationString:}]" duration=2.885824ms
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:05.003614667Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:27:05.003782359Z level=debug msg="Setting next state" handler=resultNoData
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:27:05.003802231Z level=debug msg="Changing state" previous_state=Normal next_state=NoData previous_ends_at=2025-07-27T02:27:00Z next_ends_at=2025-07-27T02:29:00Z
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:05.003826019Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:05.049615074Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=45.785678ms
logger=ngalert.state.historian backend=annotations rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:05.049683956Z level=debug msg="Alert state changed creating annotation" newState=NoData oldState=Normal
logger=ngalert.sender.router rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:05.049781087Z level=info msg="Sending alerts to local notifier" count=1
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:27:05.049819325Z level=debug component=alertmanager orgID=1 msg="Putting alert" alert=DatasourceNoData[026c866][active] starts_at=2025-07-27T02:27:00Z ends_at=2025-07-27T02:29:00Z
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:27:05.049917162Z level=debug component=alertmanager orgID=1 component=dispatcher msg="Received alert" alert=DatasourceNoData[026c866][active]
logger=ngalert.state.historian backend=annotations rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:05.072408489Z level=debug msg="Done saving alert annotation batch"
logger=ngalert.scheduler t=2025-07-27T02:27:10.001359858Z level=debug msg="No changes detected. Skip updating"
logger=accesscontrol.service t=2025-07-27T02:27:14.306567147Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:14.306585373Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:14.307433077Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:14.307581086Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:27:14.307680667Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=datasources t=2025-07-27T02:27:14.307692557Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=datasource t=2025-07-27T02:27:14.308006049Z level=debug msg="Applying default URL parsing for this data source type" type=prometheus url=http://prometheus:9090
logger=accesscontrol.evaluator t=2025-07-27T02:27:14.309196032Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=accesscontrol.service t=2025-07-27T02:27:14.312245932Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:27:14.314102851Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:14.60001395Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:14.601130611Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=ngalert.scheduler t=2025-07-27T02:27:20.001651678Z level=debug msg="No changes detected. Skip updating"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:24.599978464Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:24.601145332Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=ngalert.scheduler t=2025-07-27T02:27:30.001043184Z level=debug msg="No changes detected. Skip updating"
logger=datasources rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:30.001246028Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=secrets.kvstore t=2025-07-27T02:27:30.002826047Z level=debug msg="got secret value" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:30.003030743Z level=debug msg="Sending query" start=2025-07-27T02:17:30Z end=2025-07-27T02:27:30Z step=10s query="histogram_quantile(0.99, \n  sum by (le, method) (\n    rate(http_request_latency_seconds_bucket{endpoint=\"/api/login\", method=\"POST\"}[1m])\n  )\n) > 0.5\n"
logger=expr rule_uid=highapilatency01 org_id=1 datasourceType=prometheus queryRefId=A datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:27:30.00594759Z level=debug msg="Handling SSE data source query through dataplane" datatype=timeseries-multi
logger=expr rule_uid=highapilatency01 org_id=1 datasourceType=prometheus queryRefId=A datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:27:30.006025618Z level=debug msg="Data source queried" responseType=dataplane-timeseries-multi
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:30.006076355Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:27:30.006264213Z level=debug msg="Setting next state" handler=resultError
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:27:30.006283175Z level=debug msg="Execution error state is Alerting" handler=resultAlerting previous_handler=resultError
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:27:30.006305951Z level=debug msg="Changing state" previous_state=Normal next_state=Pending previous_ends_at=2025-07-27T02:27:30Z next_ends_at=2025-07-27T02:29:30Z
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:30.006330909Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:27:30.024025024Z level=debug component=alertmanager orgID=1 component=dispatcher aggrGroup="{}:{alertname=\"DatasourceNoData\", grafana_folder=\"Application Alerts\"}" msg=flushing alerts="[DatasourceNoData[acb26cc][active] DatasourceNoData[026c866][active]]"
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:27:30.024882679Z level=error component=alertmanager orgID=1 component=dispatcher msg="Notify for alerts failed" num_alerts=2 err="grafana-default-email/email[0]: notify retry canceled due to unrecoverable error after 1 attempts: SMTP not configured, check your grafana.ini config file's [smtp] section"
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:30.038063763Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=31.729344ms
logger=ngalert.state.historian backend=annotations rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:30.038130787Z level=debug msg="Alert state changed creating annotation" newState="Pending (Error)" oldState=Normal
logger=ngalert.state.historian backend=annotations rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:27:30.063413345Z level=debug msg="Done saving alert annotation batch"
logger=accesscontrol.service t=2025-07-27T02:27:34.07148539Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:34.074516277Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:34.083263742Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=auth t=2025-07-27T02:27:34.114894361Z level=debug msg="User auth token created" tokenID=2 userID=1 clientIP=172.22.0.1 userAgent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0" authToken=933fe642a5620090f0ecbbdd550dec87d15bdf58b8c09f6e9040002ddbef3033
logger=auth t=2025-07-27T02:27:34.336087796Z level=debug msg="Seen token" tokenID=2 userID=1 clientIP=172.22.0.1 userAgent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0" authToken=933fe642a5620090f0ecbbdd550dec87d15bdf58b8c09f6e9040002ddbef3033
logger=accesscontrol.service t=2025-07-27T02:27:34.336150228Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:27:34.336402371Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=datasource t=2025-07-27T02:27:34.336458863Z level=debug msg="Applying default URL parsing for this data source type" type=prometheus url=http://prometheus:9090
logger=auth t=2025-07-27T02:27:34.386826218Z level=debug msg="Seen token" tokenID=2 userID=1 clientIP=172.22.0.1 userAgent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36 Edg/137.0.0.0" authToken=933fe642a5620090f0ecbbdd550dec87d15bdf58b8c09f6e9040002ddbef3033
logger=accesscontrol.service t=2025-07-27T02:27:34.386931077Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:27:34.391494654Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=secrets t=2025-07-27T02:27:34.400723385Z level=debug msg="Removing expired data keys from cache..."
logger=secrets t=2025-07-27T02:27:34.400758426Z level=debug msg="Removing expired data keys from cache finished successfully"
logger=ngalert.multiorg.alertmanager t=2025-07-27T02:27:34.400758346Z level=debug msg="Synchronizing Alertmanagers for orgs"
logger=ngalert.sender.router t=2025-07-27T02:27:34.401131785Z level=debug msg="Attempting to sync admin configs" count=0
logger=ngalert.sender.router t=2025-07-27T02:27:34.401158476Z level=debug msg="Finish of admin configuration sync"
logger=accesscontrol.service t=2025-07-27T02:27:34.403410972Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:27:34.405000448Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:27:34.405832723Z level=debug component=alertmanager orgID=1 component=dispatcher msg="Received alert" alert=DatasourceNoData[acb26cc][active]
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:27:34.405879568Z level=debug component=alertmanager orgID=1 component=dispatcher msg="Received alert" alert=DatasourceNoData[026c866][active]
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:27:34.405951031Z level=debug component=alertmanager orgID=1 component=dispatcher aggrGroup="{}:{alertname=\"DatasourceNoData\"}" msg=flushing alerts="[DatasourceNoData[acb26cc][active] DatasourceNoData[026c866][active]]"
logger=notifications t=2025-07-27T02:27:34.406251835Z level=debug msg="Sending webhook" url=https://api.telegram.org/bot8211470497:AAEHwRCwlZluJPzGJ_OCOckMRJSFcumoBiE/sendMessage httpmethod=POST
logger=ngalert.multiorg.alertmanager t=2025-07-27T02:27:34.42804523Z level=debug msg="Done synchronizing Alertmanagers for orgs"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:34.599193705Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:34.600460056Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=secrets.kvstore t=2025-07-27T02:27:35.001498757Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:35.001700893Z level=debug msg="Sending query" start=2025-07-27T02:17:30Z end=2025-07-27T02:27:30Z step=10s query="sum(\n  rate(pg_stat_database_xact_commit{datname=\"finance_db\"}[1m]) \n  + rate(pg_stat_database_xact_rollback{datname=\"finance_db\"}[1m])\n) > 100\n"
logger=expr rule_uid=highdbrps01 org_id=1 datasourceType=prometheus queryRefId=B datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:27:35.00385536Z level=debug msg="Data source queried" responseType=no-data
logger=ngalert.scheduler rule_uid=highdbrps01 org_id=1 version=2 fingerprint=e9c4e107c04c6a1d attempt=1 now=2025-07-27T02:27:30Z rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:35.00394221Z level=debug msg="Alert rule evaluated" results="[{Instance:datasource_uid=prometheus, ref_id=B State:NoData Error:<nil> Results:map[] Values:map[] EvaluatedAt:2025-07-27 02:27:30 +0000 UTC EvaluationDuration:5.003934108s EvaluationString:}]" duration=2.608561ms
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:35.004019632Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:27:35.004216381Z level=debug msg="Setting next state" handler=resultNoData
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:27:35.004237326Z level=debug msg="Keeping state" state=NoData previous_ends_at=2025-07-27T02:29:00Z next_ends_at=2025-07-27T02:29:30Z
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:35.004270529Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:27:35.039700108Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=35.427025ms
logger=accesscontrol.service t=2025-07-27T02:27:35.736127403Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:27:35.738604275Z level=debug msg="Matched scope" userscope=settings:* targetscope=settings:*
logger=accesscontrol.service t=2025-07-27T02:27:35.738625341Z level=debug msg="Fetch permissions from store" key=rbac-permissions-0-user-1
logger=accesscontrol.service t=2025-07-27T02:27:35.739886557Z level=debug msg="Cache permissions" key=rbac-permissions-0-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:27:35.739960197Z level=debug msg="Matched scope" userscope=settings:* targetscope=settings:*
logger=accesscontrol.service t=2025-07-27T02:27:35.740747569Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:35.912788976Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:27:35.912966692Z level=info msg="Request Completed" method=GET path=/api/live/ws status=-1 remote_addr=172.22.0.1 time_ms=0 duration=957.635µs size=0 referer= handler=/api/live/ws
logger=live t=2025-07-27T02:27:35.948220867Z level=debug msg="Client connected" user=1 client=b5c694b4-a07c-4ecb-8e51-a25d16089a6e
logger=accesscontrol.service t=2025-07-27T02:27:35.959904746Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:35.972869779Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:36.013905506Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:36.02163194Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:36.062804499Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:36.062911837Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:36.066018598Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:36.070938377Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:36.07458106Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:36.076802571Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=notifications t=2025-07-27T02:27:36.233617171Z level=debug msg="Webhook failed" url=https://api.telegram.org/bot8211470497:AAEHwRCwlZluJPzGJ_OCOckMRJSFcumoBiE/sendMessage statuscode="400 Bad Request" body="{\"ok\":false,\"error_code\":400,\"description\":\"Bad Request: can't parse entities: Unsupported start tag \\\"nil\\\" at byte offset 281\"}"
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:27:36.233752153Z level=error component=alertmanager orgID=1 component=dispatcher msg="Notify for alerts failed" num_alerts=2 err="telegram_bot_1/telegram[0]: notify retry canceled due to unrecoverable error after 1 attempts: failed to send telegram message: webhook response status 400 Bad Request"
logger=ngalert.scheduler t=2025-07-27T02:27:40.001429545Z level=debug msg="No changes detected. Skip updating"
logger=accesscontrol.service t=2025-07-27T02:27:44.431527751Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:44.432637268Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:44.434972156Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:44.47518405Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:44.475181149Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:44.476230172Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:44.478946128Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:44.48112262Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:44.483260128Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:44.5992521Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:44.600410558Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=accesscontrol.service t=2025-07-27T02:27:46.299825022Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:27:46.300379611Z level=debug msg="Received unknown frontend metric" metric=frontend_app_init_ms
logger=accesscontrol.service t=2025-07-27T02:27:48.45128748Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:48.473136058Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:48.522946889Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=ngalert.scheduler t=2025-07-27T02:27:50.001047727Z level=debug msg="No changes detected. Skip updating"
logger=accesscontrol.service t=2025-07-27T02:27:50.3464348Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.347044358Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.347063611Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.347068506Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.34707477Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.347078739Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.347082098Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.347188844Z level=debug msg="Matched scope" userscope=annotations:* targetscope=annotations:type:organization
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.347196254Z level=debug msg="Matched scope" userscope=annotations:* targetscope=annotations:type:organization
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.347201403Z level=debug msg="Matched scope" userscope=annotations:* targetscope=annotations:type:organization
logger=accesscontrol.service t=2025-07-27T02:27:50.349377782Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.350241235Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.350261273Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.350267349Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.350274573Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.350279083Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.350284377Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.350407513Z level=debug msg="Matched scope" userscope=annotations:* targetscope=annotations:type:organization
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.350418833Z level=debug msg="Matched scope" userscope=annotations:* targetscope=annotations:type:organization
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.350429637Z level=debug msg="Matched scope" userscope=annotations:* targetscope=annotations:type:organization
logger=accesscontrol.service t=2025-07-27T02:27:50.357632721Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=live t=2025-07-27T02:27:50.358209588Z level=debug msg="Client wants to subscribe" user=1 client=1e0dd2b1-b36d-42f1-b3ff-9c698f56ef45 channel=1/grafana/dashboard/uid/a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=live t=2025-07-27T02:27:50.35826305Z level=info msg="Initialized channel handler" channel=grafana/dashboard/uid/a6d716b1-606e-4db9-965d-fac58e3c2ad9 address=grafana/dashboard/uid/a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.evaluator t=2025-07-27T02:27:50.358752149Z level=debug msg="Matched scope" userscope=dashboards:* targetscope=dashboards:uid:a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=live t=2025-07-27T02:27:50.358776069Z level=debug msg="Client subscribed" user=1 client=1e0dd2b1-b36d-42f1-b3ff-9c698f56ef45 channel=1/grafana/dashboard/uid/a6d716b1-606e-4db9-965d-fac58e3c2ad9
logger=accesscontrol.service t=2025-07-27T02:27:50.360372755Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:27:50.439049397Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=datasources t=2025-07-27T02:27:50.439221371Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=query_data t=2025-07-27T02:27:50.439588833Z level=debug msg="Processing metrics query" query="unsupported value type"
logger=accesscontrol.service t=2025-07-27T02:27:50.439682314Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=query_data t=2025-07-27T02:27:50.439798501Z level=debug msg="Processing metrics query" query="unsupported value type"
logger=secrets.kvstore t=2025-07-27T02:27:50.439839061Z level=debug msg="got secret value" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=admin t=2025-07-27T02:27:50.439971716Z level=debug msg="Sending query" start=2025-07-27T02:12:50.436Z end=2025-07-27T02:27:50.436Z step=15s query="sum(rate(http_requests_total[2m])) by (endpoint)"
logger=secrets.kvstore t=2025-07-27T02:27:50.440045825Z level=debug msg="got secret value" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=admin t=2025-07-27T02:27:50.440123874Z level=debug msg="Sending query" start=2025-07-27T02:12:50.436Z end=2025-07-27T02:27:50.436Z step=15s query="histogram_quantile(0.99, sum(rate(http_request_latency_seconds_bucket[2m])) by (le, endpoint))"
logger=accesscontrol.service t=2025-07-27T02:27:50.440492591Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=query_data t=2025-07-27T02:27:50.440640188Z level=debug msg="Processing metrics query" query="unsupported value type"
logger=secrets.kvstore t=2025-07-27T02:27:50.440690095Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=admin t=2025-07-27T02:27:50.440794292Z level=debug msg="Sending query" start=2025-07-27T02:12:50.436Z end=2025-07-27T02:27:50.436Z step=15s query="rate(pg_transactions_total_commits[2m]) + rate(pg_transactions_total_rollbacks[2m])"
logger=accesscontrol.service t=2025-07-27T02:27:50.443034165Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=query_data t=2025-07-27T02:27:50.443170344Z level=debug msg="Processing metrics query" query="unsupported value type"
logger=secrets.kvstore t=2025-07-27T02:27:50.443209065Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=admin t=2025-07-27T02:27:50.443349831Z level=debug msg="Sending query" start=2025-07-27T02:12:50.436Z end=2025-07-27T02:27:50.436Z step=15s query=pg_active_connections_active_connections
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:54.599960287Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:27:54.600565253Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=infra.usagestats t=2025-07-27T02:27:55.405721792Z level=info msg="Usage stats are ready to report"
logger=ngalert.scheduler t=2025-07-27T02:28:00.001694663Z level=debug msg="No changes detected. Skip updating"
logger=datasources rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:00.002004078Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=secrets.kvstore t=2025-07-27T02:28:00.004077759Z level=debug msg="got secret value" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:00.004217248Z level=debug msg="Sending query" start=2025-07-27T02:18:00Z end=2025-07-27T02:28:00Z step=10s query="histogram_quantile(0.99, \n  sum by (le, method) (\n    rate(http_request_latency_seconds_bucket{endpoint=\"/api/login\", method=\"POST\"}[1m])\n  )\n) > 0.5\n"
logger=expr rule_uid=highapilatency01 org_id=1 datasourceType=prometheus queryRefId=A datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:28:00.005475503Z level=debug msg="Handling SSE data source query through dataplane" datatype=timeseries-multi
logger=expr rule_uid=highapilatency01 org_id=1 datasourceType=prometheus queryRefId=A datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:28:00.00550263Z level=debug msg="Data source queried" responseType=dataplane-timeseries-multi
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:00.005532768Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:28:00.005607942Z level=debug msg="Setting next state" handler=resultError
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:28:00.005614813Z level=debug msg="Execution error state is Alerting" handler=resultAlerting previous_handler=resultError
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:00.005625232Z level=info msg="Detected stale state entry" cacheID="[[\"__alert_rule_namespace_uid__\",\"fe72a8fd-0459-4ef3-b3d8-82af97b177fa\"],[\"__alert_rule_uid__\",\"highapilatency01\"],[\"alertname\",\"High p99 Latency on /api/login\"],[\"datasource_uid\",\"prometheus\"],[\"grafana_folder\",\"Application Alerts\"],[\"ref_id\",\"A\"],[\"severity\",\"critical\"]]" state=NoData reason=
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:00.00563333Z level=debug msg="Deleting alert states" count=1
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:00.031091232Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:00.063338098Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=32.245996ms
logger=ngalert.state.historian backend=annotations rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:00.063417355Z level=debug msg="Alert state changed creating annotation" newState="Normal (MissingSeries)" oldState=NoData
logger=ngalert.state.historian backend=annotations rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:00.088108079Z level=debug msg="Done saving alert annotation batch"
logger=accesscontrol.service t=2025-07-27T02:28:00.403591166Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:00.404327018Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:00.406517333Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:00.406829412Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=query_data t=2025-07-27T02:28:00.407023192Z level=debug msg="Processing metrics query" query="unsupported value type"
logger=secrets.kvstore t=2025-07-27T02:28:00.407086309Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=admin t=2025-07-27T02:28:00.407264403Z level=debug msg="Sending query" start=2025-07-27T02:13:00.394Z end=2025-07-27T02:28:00.394Z step=15s query="histogram_quantile(0.99, sum(rate(http_request_latency_seconds_bucket[2m])) by (le, endpoint))"
logger=accesscontrol.service t=2025-07-27T02:28:00.413705223Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=query_data t=2025-07-27T02:28:00.413875945Z level=debug msg="Processing metrics query" query="unsupported value type"
logger=secrets.kvstore t=2025-07-27T02:28:00.413918769Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=admin t=2025-07-27T02:28:00.414090577Z level=debug msg="Sending query" start=2025-07-27T02:13:00.394Z end=2025-07-27T02:28:00.394Z step=15s query=pg_active_connections_active_connections
logger=accesscontrol.service t=2025-07-27T02:28:00.414213299Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=query_data t=2025-07-27T02:28:00.414355251Z level=debug msg="Processing metrics query" query="unsupported value type"
logger=secrets.kvstore t=2025-07-27T02:28:00.414390286Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=admin t=2025-07-27T02:28:00.414489712Z level=debug msg="Sending query" start=2025-07-27T02:13:00.393Z end=2025-07-27T02:28:00.393Z step=15s query="sum(rate(http_requests_total[2m])) by (endpoint)"
logger=accesscontrol.service t=2025-07-27T02:28:00.414844611Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=query_data t=2025-07-27T02:28:00.414960983Z level=debug msg="Processing metrics query" query="unsupported value type"
logger=secrets.kvstore t=2025-07-27T02:28:00.414996884Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=admin t=2025-07-27T02:28:00.415079018Z level=debug msg="Sending query" start=2025-07-27T02:13:00.394Z end=2025-07-27T02:28:00.394Z step=15s query="rate(pg_transactions_total_commits[2m]) + rate(pg_transactions_total_rollbacks[2m])"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:04.600287062Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:04.601297574Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=secrets.kvstore t=2025-07-27T02:28:05.002184373Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:05.00237245Z level=debug msg="Sending query" start=2025-07-27T02:18:00Z end=2025-07-27T02:28:00Z step=10s query="sum(\n  rate(pg_stat_database_xact_commit{datname=\"finance_db\"}[1m]) \n  + rate(pg_stat_database_xact_rollback{datname=\"finance_db\"}[1m])\n) > 100\n"
logger=expr rule_uid=highdbrps01 org_id=1 datasourceType=prometheus queryRefId=B datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:28:05.004438406Z level=debug msg="Data source queried" responseType=no-data
logger=ngalert.scheduler rule_uid=highdbrps01 org_id=1 version=2 fingerprint=e9c4e107c04c6a1d attempt=1 now=2025-07-27T02:28:00Z rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:05.004487606Z level=debug msg="Alert rule evaluated" results="[{Instance:datasource_uid=prometheus, ref_id=B State:NoData Error:<nil> Results:map[] Values:map[] EvaluatedAt:2025-07-27 02:28:00 +0000 UTC EvaluationDuration:5.004482187s EvaluationString:}]" duration=2.494466ms
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:05.004554474Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:28:05.004728537Z level=debug msg="Setting next state" handler=resultNoData
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:28:05.00475288Z level=debug msg="Keeping state" state=NoData previous_ends_at=2025-07-27T02:29:30Z next_ends_at=2025-07-27T02:30:00Z
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:05.004776695Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:05.027583858Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=22.7688ms
logger=ngalert.sender.router rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:05.027662393Z level=info msg="Sending alerts to local notifier" count=1
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:28:05.027692419Z level=debug component=alertmanager orgID=1 msg="Putting alert" alert=DatasourceNoData[026c866][active] starts_at=2025-07-27T02:27:00Z ends_at=2025-07-27T02:30:00Z
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:28:05.02775335Z level=debug component=alertmanager orgID=1 component=dispatcher msg="Received alert" alert=DatasourceNoData[026c866][active]
logger=ngalert.scheduler t=2025-07-27T02:28:10.001456299Z level=debug msg="No changes detected. Skip updating"
logger=accesscontrol.service t=2025-07-27T02:28:11.462769354Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:11.463881821Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:11.464183304Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:11.465551618Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:28:11.465685513Z level=info msg="Request Completed" method=GET path=/api/plugins/grafana-oncall-app/settings status=404 remote_addr=172.22.0.1 time_ms=0 duration=510.381µs size=64 referer=http://localhost:3000/alerting/routes handler=/api/plugins/:pluginId/settings
logger=accesscontrol.service t=2025-07-27T02:28:11.467358532Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:28:11.467481063Z level=info msg="Request Completed" method=GET path=/api/plugins/grafana-oncall-app/settings status=404 remote_addr=172.22.0.1 time_ms=0 duration=561.066µs size=64 referer=http://localhost:3000/alerting/routes handler=/api/plugins/:pluginId/settings
logger=accesscontrol.service t=2025-07-27T02:28:11.472598411Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:11.499150778Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:14.600050478Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:14.600640253Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=accesscontrol.service t=2025-07-27T02:28:16.099196506Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:28:16.099373862Z level=info msg="Request Completed" method=GET path=/api/plugins/grafana-oncall-app/settings status=404 remote_addr=172.22.0.1 time_ms=0 duration=795.222µs size=64 referer=http://localhost:3000/alerting/notifications handler=/api/plugins/:pluginId/settings
logger=accesscontrol.service t=2025-07-27T02:28:16.099566332Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:16.102122819Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=ngalert.scheduler t=2025-07-27T02:28:20.001363126Z level=debug msg="No changes detected. Skip updating"
logger=accesscontrol.service t=2025-07-27T02:28:22.805677364Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:22.806636093Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:28:22.806793742Z level=info msg="Request Completed" method=GET path=/api/plugins/grafana-oncall-app/settings status=404 remote_addr=172.22.0.1 time_ms=2 duration=2.255463ms size=64 referer=http://localhost:3000/alerting/routes handler=/api/plugins/:pluginId/settings
logger=accesscontrol.service t=2025-07-27T02:28:22.808831639Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:28:22.808968852Z level=info msg="Request Completed" method=GET path=/api/plugins/grafana-oncall-app/settings status=404 remote_addr=172.22.0.1 time_ms=0 duration=698.502µs size=64 referer=http://localhost:3000/alerting/routes handler=/api/plugins/:pluginId/settings
logger=accesscontrol.service t=2025-07-27T02:28:24.080807625Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:24.081759753Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:24.600022913Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:24.601090443Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=accesscontrol.service t=2025-07-27T02:28:27.10196369Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=context userId=1 orgId=1 uname=admin t=2025-07-27T02:28:27.102121793Z level=info msg="Request Completed" method=GET path=/api/plugins/grafana-oncall-app/settings status=404 remote_addr=172.22.0.1 time_ms=0 duration=639.497µs size=64 referer=http://localhost:3000/alerting/notifications handler=/api/plugins/:pluginId/settings
logger=accesscontrol.service t=2025-07-27T02:28:29.037319786Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:29.037924299Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=datasources t=2025-07-27T02:28:29.038007307Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=datasource t=2025-07-27T02:28:29.038304993Z level=debug msg="Applying default URL parsing for this data source type" type=prometheus url=http://prometheus:9090
logger=accesscontrol.service t=2025-07-27T02:28:29.049396969Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:29.049595323Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:28:29.05133052Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=accesscontrol.evaluator t=2025-07-27T02:28:29.051504067Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=accesscontrol.service t=2025-07-27T02:28:29.065356278Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:28:29.065514197Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=datasource t=2025-07-27T02:28:29.065545806Z level=debug msg="Applying default URL parsing for this data source type" type=prometheus url=http://prometheus:9090
logger=accesscontrol.service t=2025-07-27T02:28:29.078367423Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:28:29.078496146Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:28:29.078875652Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:28:29.078887126Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:28:29.078893981Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:28:29.078898637Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:28:29.078902066Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=accesscontrol.evaluator t=2025-07-27T02:28:29.078906574Z level=debug msg="Matched scope" userscope=folders:* targetscope=folders:uid:fe72a8fd-0459-4ef3-b3d8-82af97b177fa
logger=ngalert.scheduler t=2025-07-27T02:28:30.001016648Z level=debug msg="No changes detected. Skip updating"
logger=secrets.kvstore t=2025-07-27T02:28:30.00202098Z level=debug msg="got secret value" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:30.002225444Z level=debug msg="Sending query" start=2025-07-27T02:18:30Z end=2025-07-27T02:28:30Z step=10s query="histogram_quantile(0.99, \n  sum by (le, method) (\n    rate(http_request_latency_seconds_bucket{endpoint=\"/api/login\", method=\"POST\"}[1m])\n  )\n) > 0.5\n"
logger=expr rule_uid=highapilatency01 org_id=1 datasourceType=prometheus queryRefId=A datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:28:30.004101844Z level=debug msg="Handling SSE data source query through dataplane" datatype=timeseries-multi
logger=expr rule_uid=highapilatency01 org_id=1 datasourceType=prometheus queryRefId=A datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:28:30.004124083Z level=debug msg="Data source queried" responseType=dataplane-timeseries-multi
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:30.004149176Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:28:30.004226772Z level=debug msg="Setting next state" handler=resultError
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:28:30.004234477Z level=debug msg="Execution error state is Alerting" handler=resultAlerting previous_handler=resultError
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:28:30.004238863Z level=debug msg="Changing state" previous_state=Pending next_state=Alerting previous_ends_at=2025-07-27T02:29:30Z next_ends_at=2025-07-27T02:30:30Z
logger=ngalert.image rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:30.004248108Z level=debug msg="Cannot take screenshot for alert rule as it is not associated with a dashboard"
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:30.004256228Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:30.029857603Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=25.599113ms
logger=ngalert.state.historian backend=annotations rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:30.029913643Z level=debug msg="Alert state changed creating annotation" newState="Alerting (Error)" oldState="Pending (Error)"
logger=ngalert.sender.router rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:30.029947806Z level=info msg="Sending alerts to local notifier" count=1
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:28:30.029959352Z level=debug component=alertmanager orgID=1 msg="Putting alert" alert="High p99 Latency on /api/login[e5fa932][active]" starts_at=2025-07-27T02:28:30Z ends_at=2025-07-27T02:30:30Z
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:28:30.030005179Z level=debug component=alertmanager orgID=1 component=dispatcher msg="Received alert" alert="High p99 Latency on /api/login[e5fa932][active]"
logger=ngalert.state.historian backend=annotations rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:28:30.0526126Z level=debug msg="Done saving alert annotation batch"
logger=secrets t=2025-07-27T02:28:34.400589352Z level=debug msg="Removing expired data keys from cache..."
logger=secrets t=2025-07-27T02:28:34.400629959Z level=debug msg="Removing expired data keys from cache finished successfully"
logger=ngalert.sender.router t=2025-07-27T02:28:34.402466524Z level=debug msg="Attempting to sync admin configs" count=0
logger=ngalert.sender.router t=2025-07-27T02:28:34.402509784Z level=debug msg="Finish of admin configuration sync"
logger=ngalert.multiorg.alertmanager t=2025-07-27T02:28:34.428602405Z level=debug msg="Synchronizing Alertmanagers for orgs"
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:28:34.430071028Z level=debug msg="Neither config nor template have changed, skipping configuration sync."
logger=ngalert.multiorg.alertmanager t=2025-07-27T02:28:34.431246332Z level=debug msg="Done synchronizing Alertmanagers for orgs"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:34.600114482Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:34.601336129Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=datasources rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:35.002214936Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=secrets.kvstore t=2025-07-27T02:28:35.003910918Z level=debug msg="got secret value" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:35.00413462Z level=debug msg="Sending query" start=2025-07-27T02:18:30Z end=2025-07-27T02:28:30Z step=10s query="sum(\n  rate(pg_stat_database_xact_commit{datname=\"finance_db\"}[1m]) \n  + rate(pg_stat_database_xact_rollback{datname=\"finance_db\"}[1m])\n) > 100\n"
logger=expr rule_uid=highdbrps01 org_id=1 datasourceType=prometheus queryRefId=B datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:28:35.008221501Z level=debug msg="Data source queried" responseType=no-data
logger=ngalert.scheduler rule_uid=highdbrps01 org_id=1 version=2 fingerprint=e9c4e107c04c6a1d attempt=1 now=2025-07-27T02:28:30Z rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:35.008312342Z level=debug msg="Alert rule evaluated" results="[{Instance:datasource_uid=prometheus, ref_id=B State:NoData Error:<nil> Results:map[] Values:map[] EvaluatedAt:2025-07-27 02:28:30 +0000 UTC EvaluationDuration:5.008308151s EvaluationString:}]" duration=6.223265ms
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:35.008359899Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:28:35.008473377Z level=debug msg="Setting next state" handler=resultNoData
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:28:35.00848345Z level=debug msg="Keeping state" state=NoData previous_ends_at=2025-07-27T02:30:00Z next_ends_at=2025-07-27T02:30:30Z
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:35.008495242Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:28:35.035572426Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=27.073123ms
logger=ngalert.scheduler t=2025-07-27T02:28:40.001174763Z level=debug msg="No changes detected. Skip updating"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:44.59991333Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:44.601131771Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=accesscontrol.service t=2025-07-27T02:28:49.054306865Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:49.054869801Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:28:49.055618945Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:28:49.055758324Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=datasources t=2025-07-27T02:28:49.055773011Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=datasource t=2025-07-27T02:28:49.056237713Z level=debug msg="Applying default URL parsing for this data source type" type=prometheus url=http://prometheus:9090
logger=accesscontrol.service t=2025-07-27T02:28:49.056588381Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:28:49.059292487Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=accesscontrol.service t=2025-07-27T02:28:49.061515327Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:28:49.063354861Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=ngalert.scheduler t=2025-07-27T02:28:50.001049297Z level=debug msg="No changes detected. Skip updating"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:54.599224893Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:28:54.600420193Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=ngalert.scheduler t=2025-07-27T02:29:00.000728499Z level=debug msg="No changes detected. Skip updating"
logger=datasources rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:00.00099806Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=secrets.kvstore t=2025-07-27T02:29:00.002621038Z level=debug msg="got secret value" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:00.002853214Z level=debug msg="Sending query" start=2025-07-27T02:19:00Z end=2025-07-27T02:29:00Z step=10s query="histogram_quantile(0.99, \n  sum by (le, method) (\n    rate(http_request_latency_seconds_bucket{endpoint=\"/api/login\", method=\"POST\"}[1m])\n  )\n) > 0.5\n"
logger=expr rule_uid=highapilatency01 org_id=1 datasourceType=prometheus queryRefId=A datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:29:00.005772358Z level=debug msg="Handling SSE data source query through dataplane" datatype=timeseries-multi
logger=expr rule_uid=highapilatency01 org_id=1 datasourceType=prometheus queryRefId=A datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:29:00.005837611Z level=debug msg="Data source queried" responseType=dataplane-timeseries-multi
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:00.005900064Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:29:00.006105393Z level=debug msg="Setting next state" handler=resultError
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:29:00.006124169Z level=debug msg="Execution error state is Alerting" handler=resultAlerting previous_handler=resultError
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:29:00.006137401Z level=debug msg="Keeping state" state=Alerting previous_ends_at=2025-07-27T02:30:30Z next_ends_at=2025-07-27T02:31:00Z
logger=ngalert.image rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:00.006162493Z level=debug msg="Cannot take screenshot for alert rule as it is not associated with a dashboard"
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:00.006187145Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:29:00.030868793Z level=debug component=alertmanager orgID=1 component=dispatcher aggrGroup="{}:{alertname=\"High p99 Latency on /api/login\"}" msg=flushing alerts="[High p99 Latency on /api/login[e5fa932][active]]"
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:00.031199529Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=25.009151ms
logger=notifications t=2025-07-27T02:29:00.031470988Z level=debug msg="Sending webhook" url=https://api.telegram.org/bot8211470497:AAEHwRCwlZluJPzGJ_OCOckMRJSFcumoBiE/sendMessage httpmethod=POST
logger=notifications t=2025-07-27T02:29:00.31716284Z level=debug msg="Webhook failed" url=https://api.telegram.org/bot8211470497:AAEHwRCwlZluJPzGJ_OCOckMRJSFcumoBiE/sendMessage statuscode="400 Bad Request" body="{\"ok\":false,\"error_code\":400,\"description\":\"Bad Request: can't parse entities: Unsupported start tag \\\"nil\\\" at byte offset 205\"}"
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:29:00.317281998Z level=error component=alertmanager orgID=1 component=dispatcher msg="Notify for alerts failed" num_alerts=1 err="telegram_bot_1/telegram[0]: notify retry canceled due to unrecoverable error after 1 attempts: failed to send telegram message: webhook response status 400 Bad Request"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:29:04.600214195Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:29:04.601441224Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=secrets.kvstore t=2025-07-27T02:29:05.001114238Z level=debug msg="got secret value from cache" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:05.001308309Z level=debug msg="Sending query" start=2025-07-27T02:19:00Z end=2025-07-27T02:29:00Z step=10s query="sum(\n  rate(pg_stat_database_xact_commit{datname=\"finance_db\"}[1m]) \n  + rate(pg_stat_database_xact_rollback{datname=\"finance_db\"}[1m])\n) > 100\n"
logger=expr rule_uid=highdbrps01 org_id=1 datasourceType=prometheus queryRefId=B datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:29:05.003196663Z level=debug msg="Data source queried" responseType=no-data
logger=ngalert.scheduler rule_uid=highdbrps01 org_id=1 version=2 fingerprint=e9c4e107c04c6a1d attempt=1 now=2025-07-27T02:29:00Z rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:05.003250407Z level=debug msg="Alert rule evaluated" results="[{Instance:datasource_uid=prometheus, ref_id=B State:NoData Error:<nil> Results:map[] Values:map[] EvaluatedAt:2025-07-27 02:29:00 +0000 UTC EvaluationDuration:5.003244914s EvaluationString:}]" duration=2.304647ms
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:05.003313142Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:29:05.003482953Z level=debug msg="Setting next state" handler=resultNoData
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:29:05.003506387Z level=debug msg="Keeping state" state=NoData previous_ends_at=2025-07-27T02:30:30Z next_ends_at=2025-07-27T02:31:00Z
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:05.003527566Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:05.030602579Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=27.072037ms
logger=ngalert.sender.router rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:05.03069115Z level=info msg="Sending alerts to local notifier" count=1
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:29:05.030716831Z level=debug component=alertmanager orgID=1 msg="Putting alert" alert=DatasourceNoData[026c866][active] starts_at=2025-07-27T02:27:00Z ends_at=2025-07-27T02:31:00Z
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:29:05.030782726Z level=debug component=alertmanager orgID=1 component=dispatcher msg="Received alert" alert=DatasourceNoData[026c866][active]
logger=accesscontrol.service t=2025-07-27T02:29:09.058548937Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:29:09.059927575Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:29:09.060088703Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=datasources t=2025-07-27T02:29:09.060106652Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=datasource t=2025-07-27T02:29:09.060515458Z level=debug msg="Applying default URL parsing for this data source type" type=prometheus url=http://prometheus:9090
logger=accesscontrol.service t=2025-07-27T02:29:09.060604084Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:29:09.062698811Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=accesscontrol.service t=2025-07-27T02:29:09.067616778Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:29:09.070017773Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=ngalert.scheduler t=2025-07-27T02:29:10.000957338Z level=debug msg="No changes detected. Skip updating"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:29:14.599981102Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:29:14.60123612Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=ngalert.scheduler t=2025-07-27T02:29:20.001563811Z level=debug msg="No changes detected. Skip updating"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:29:24.599789308Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:29:24.600960957Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=accesscontrol.service t=2025-07-27T02:29:29.05952205Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:29:29.05960688Z level=debug msg="Fetch permissions from store" key=rbac-permissions-1-user-1
logger=accesscontrol.service t=2025-07-27T02:29:29.060407888Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:29:29.060531109Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=datasources t=2025-07-27T02:29:29.060542447Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=datasource t=2025-07-27T02:29:29.060869918Z level=debug msg="Applying default URL parsing for this data source type" type=prometheus url=http://prometheus:9090
logger=accesscontrol.service t=2025-07-27T02:29:29.060884462Z level=debug msg="Cache permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:29:29.063366509Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=accesscontrol.service t=2025-07-27T02:29:29.0659334Z level=debug msg="Using cached permissions" key=rbac-permissions-1-user-1
logger=accesscontrol.evaluator t=2025-07-27T02:29:29.06755789Z level=debug msg="Matched scope" userscope=datasources:* targetscope=datasources:uid:prometheus
logger=ngalert.scheduler t=2025-07-27T02:29:30.001674046Z level=debug msg="No changes detected. Skip updating"
logger=secrets.kvstore t=2025-07-27T02:29:30.002493372Z level=debug msg="got secret value" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:30.002693898Z level=debug msg="Sending query" start=2025-07-27T02:19:30Z end=2025-07-27T02:29:30Z step=10s query="histogram_quantile(0.99, \n  sum by (le, method) (\n    rate(http_request_latency_seconds_bucket{endpoint=\"/api/login\", method=\"POST\"}[1m])\n  )\n) > 0.5\n"
logger=expr rule_uid=highapilatency01 org_id=1 datasourceType=prometheus queryRefId=A datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:29:30.005212578Z level=debug msg="Handling SSE data source query through dataplane" datatype=timeseries-multi
logger=expr rule_uid=highapilatency01 org_id=1 datasourceType=prometheus queryRefId=A datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:29:30.005266972Z level=debug msg="Data source queried" responseType=dataplane-timeseries-multi
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:30.005310309Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:29:30.005479186Z level=debug msg="Setting next state" handler=resultError
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:29:30.005495735Z level=debug msg="Execution error state is Alerting" handler=resultAlerting previous_handler=resultError
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 instance= t=2025-07-27T02:29:30.005508664Z level=debug msg="Keeping state" state=Alerting previous_ends_at=2025-07-27T02:31:00Z next_ends_at=2025-07-27T02:31:30Z
logger=ngalert.image rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:30.005528597Z level=debug msg="Cannot take screenshot for alert rule as it is not associated with a dashboard"
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:30.005548947Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.state.manager rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:30.04481583Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=39.262994ms
logger=ngalert.sender.router rule_uid=highapilatency01 org_id=1 t=2025-07-27T02:29:30.044939676Z level=info msg="Sending alerts to local notifier" count=1
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:29:30.044965025Z level=debug component=alertmanager orgID=1 msg="Putting alert" alert="High p99 Latency on /api/login[e5fa932][active]" starts_at=2025-07-27T02:28:30Z ends_at=2025-07-27T02:31:30Z
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:29:30.045018006Z level=debug component=alertmanager orgID=1 component=dispatcher msg="Received alert" alert="High p99 Latency on /api/login[e5fa932][active]"
logger=secrets t=2025-07-27T02:29:34.400709261Z level=debug msg="Removing expired data keys from cache..."
logger=secrets t=2025-07-27T02:29:34.400752264Z level=debug msg="Removing expired data keys from cache finished successfully"
logger=ngalert.sender.router t=2025-07-27T02:29:34.403616315Z level=debug msg="Attempting to sync admin configs" count=0
logger=ngalert.sender.router t=2025-07-27T02:29:34.403648912Z level=debug msg="Finish of admin configuration sync"
logger=ngalert.multiorg.alertmanager t=2025-07-27T02:29:34.431835207Z level=debug msg="Synchronizing Alertmanagers for orgs"
logger=ngalert.notifier.alertmanager 1=(MISSING) t=2025-07-27T02:29:34.433263793Z level=debug msg="Neither config nor template have changed, skipping configuration sync."
logger=ngalert.multiorg.alertmanager t=2025-07-27T02:29:34.434372895Z level=debug msg="Done synchronizing Alertmanagers for orgs"
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:29:34.600322221Z level=debug msg="Start walking disk" path=/etc/grafana/provisioning/dashboards
logger=provisioning.dashboard type=file name=default t=2025-07-27T02:29:34.601457239Z level=debug msg="provisioned dashboard is up to date" provisioner=default file=/etc/grafana/provisioning/dashboards/app-dashboard.json folderId=0 folderUid=
logger=datasources rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:35.002203798Z level=debug msg="Querying for data source via SQL store" uid=prometheus orgId=1
logger=secrets.kvstore t=2025-07-27T02:29:35.003821938Z level=debug msg="got secret value" orgId=1 type=datasource namespace=prometheus
logger=tsdb.prometheus endpoint=queryData pluginId=prometheus dsName=prometheus dsUID=prometheus uname=grafana_scheduler rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:35.004041085Z level=debug msg="Sending query" start=2025-07-27T02:19:30Z end=2025-07-27T02:29:30Z step=10s query="sum(\n  rate(pg_stat_database_xact_commit{datname=\"finance_db\"}[1m]) \n  + rate(pg_stat_database_xact_rollback{datname=\"finance_db\"}[1m])\n) > 100\n"
logger=expr rule_uid=highdbrps01 org_id=1 datasourceType=prometheus queryRefId=B datasourceUid=prometheus datasourceVersion=1 t=2025-07-27T02:29:35.006245212Z level=debug msg="Data source queried" responseType=no-data
logger=ngalert.scheduler rule_uid=highdbrps01 org_id=1 version=2 fingerprint=e9c4e107c04c6a1d attempt=1 now=2025-07-27T02:29:30Z rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:35.006306006Z level=debug msg="Alert rule evaluated" results="[{Instance:datasource_uid=prometheus, ref_id=B State:NoData Error:<nil> Results:map[] Values:map[] EvaluatedAt:2025-07-27 02:29:30 +0000 UTC EvaluationDuration:5.006296344s EvaluationString:}]" duration=4.195944ms
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:35.00638067Z level=debug msg="State manager processing evaluation results" resultCount=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:29:35.006561251Z level=debug msg="Setting next state" handler=resultNoData
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 instance="datasource_uid=prometheus, ref_id=B" t=2025-07-27T02:29:35.006583522Z level=debug msg="Keeping state" state=NoData previous_ends_at=2025-07-27T02:31:00Z next_ends_at=2025-07-27T02:31:30Z
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:35.006616818Z level=debug msg="Saving alert states" count=1 max_state_save_concurrency=1
logger=ngalert.state.manager rule_uid=highdbrps01 org_id=1 t=2025-07-27T02:29:35.054730571Z level=debug msg="Saving alert states done" count=1 max_state_save_concurrency=1 duration=48.111356ms
